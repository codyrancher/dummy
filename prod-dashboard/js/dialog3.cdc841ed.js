(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dialog3"],{2763:function(t,e,a){},"59ff":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",{staticClass:"prompt-badge",attrs:{"show-highlight-border":!1}},[a("h4",{staticClass:"text-default-text",attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(t.t("clusterBadge.modal.title"))+" ")]),a("div",{staticClass:"pl-10 pr-10 cluster-badge-body",attrs:{slot:"body"},slot:"body"},[a("div",[t._v(t._s(t.t("clusterBadge.modal.previewTitle")))]),a("div",{staticClass:"mt-10 pl-20 row preview-row"},[a("div",{staticClass:"badge-preview col span-12"},[t.useCustomBadge?a("ClusterProviderIcon",{attrs:{cluster:t.previewCluster}}):a("ClusterProviderIcon",{attrs:{cluster:t.currentCluster}}),a("div",{staticClass:"cluster-name"},[t._v(" "+t._s(t.currentCluster.nameDisplay)+" ")]),t.useCustomBadge?a("ClusterBadge",{attrs:{cluster:t.previewCluster}}):t._e()],1)]),a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col"},[a("Checkbox",{staticClass:"mt-10",attrs:{label:t.t("clusterBadge.modal.checkbox")},model:{value:t.useCustomBadge,callback:function(e){t.useCustomBadge=e},expression:"useCustomBadge"}})],1)]),a("div",{staticClass:"options"},[a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col span-12"},[a("LabeledInput",{attrs:{mode:t.mode,label:t.t("clusterBadge.modal.description"),maxlength:32,required:!0},model:{value:t.badgeDescription,callback:function(e){t.badgeDescription="string"===typeof e?e.trim():e},expression:"badgeDescription"}})],1)]),a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col span-12"},[a("ColorInput",{attrs:{mode:t.mode,"default-value":t.badgeBgColor,label:t.t("clusterBadge.modal.badgeBgColor")},model:{value:t.badgeBgColor,callback:function(e){t.badgeBgColor=e},expression:"badgeBgColor"}})],1)]),a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col"},[a("Checkbox",{staticClass:"mt-10",attrs:{mode:t.mode,label:t.t("clusterBadge.modal.badgeAsIcon"),tooltip:t.t("clusterBadge.modal.maxCharsTooltip")},model:{value:t.badgeAsIcon,callback:function(e){t.badgeAsIcon=e},expression:"badgeAsIcon"}})],1)]),a("div",{staticClass:"row mt-10"},[a("div",{staticClass:"col"},[a("LabeledInput",{staticClass:"badge-icon-text",attrs:{disabled:!t.badgeAsIcon,mode:t.mode,label:t.t("clusterBadge.modal.iconText"),maxlength:2},model:{value:t.letter,callback:function(e){t.letter="string"===typeof e?e.trim():e},expression:"letter"}})],1)])])]),a("div",{staticClass:"bottom",attrs:{slot:"actions"},slot:"actions"},[t._l(t.errors,(function(t,e){return a("Banner",{key:e,attrs:{color:"error",label:t}})})),a("div",{staticClass:"buttons"},[a("button",{staticClass:"btn role-secondary mr-10",on:{click:t.close}},[t._v(" "+t._s(t.t("generic.cancel"))+" ")]),a("AsyncButton",{attrs:{"action-label":t.t("clusterBadge.modal.buttonAction"),disabled:!t.canSubmit},on:{click:t.apply}})],1)],2)])},o=[],r=(a("1d8f"),a("13ec"),a("cf99"),a("8be0"),a("7e5b"),a("38aa"),a("bcff"),a("1da1")),n=a("ade3"),i=a("a34a"),l=a.n(i),c=(a("96cf"),a("2f62")),d=a("7388"),u=a("67c9"),p=a("d4bf"),b=a("bec1"),g=a("4488"),C=a("e3303"),m=a("4579"),v=a("4de2"),f=a("84d3"),h=a("5ed1"),O=a("862a"),y=a("a788");function B(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function w(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?B(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var x={name:"AddCustomBadgeDialog",components:{Card:p["a"],AsyncButton:u["b"],Banner:b["a"],Checkbox:v["a"],LabeledInput:f["a"],ColorInput:h["a"],ClusterBadge:g["a"],ClusterProviderIcon:C["a"]},data:function(){return{useCustomBadge:null,errors:[],badgeBgColor:"",badgeDescription:"",badgeAsIcon:null,letter:""}},fetch:function(){var t,e,a,s,o,r;null!==(t=this.currentCluster.metadata)&&void 0!==t&&t.annotations&&(this.badgeDescription=null===(e=this.currentCluster.metadata)||void 0===e?void 0:e.annotations[d["h"].TEXT],this.useCustomBadge=(null===(a=this.badgeDescription)||void 0===a?void 0:a.length)>0,this.badgeDescription=this.badgeDescription||"Example Text",this.badgeBgColor=(null===(s=this.currentCluster.metadata)||void 0===s?void 0:s.annotations[d["h"].COLOR])||"#ff0000",this.badgeAsIcon=!(null===(o=this.currentCluster.metadata)||void 0===o||!o.annotations[d["h"].ICON_TEXT])||!1,this.letter=(null===(r=this.currentCluster.metadata)||void 0===r?void 0:r.annotations[d["h"].ICON_TEXT])||this.badgeDescription.substring(0,2))},computed:w(w({},Object(c["b"])(["currentCluster"])),{},{previewColor:function(){return Object(O["e"])(Object(O["d"])(this.badgeBgColor))||"#ffffff"},canSubmit:function(){return this.badgeDescription.length>=1},previewCluster:function(){return{isLocal:this.currentCluster.isLocal,providerNavLogo:this.currentCluster.providerNavLogo,badge:{text:this.badgeDescription,color:this.badgeBgColor,textColor:Object(O["e"])(Object(O["d"])(this.badgeBgColor)),iconText:this.badgeAsIcon?this.letter.toUpperCase():""}}},mode:function(){return this.useCustomBadge?"edit":"view"}}),methods:{close:function(){this.$emit("close")},apply:function(t){var e=this;return Object(r["a"])(l.a.mark((function a(){var s;return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$store.dispatch("rancher/find",{type:y["D"].CLUSTER,id:e.currentCluster.id});case 3:return s=a.sent,delete s.annotations[d["h"].TEXT],delete s.annotations[d["h"].COLOR],delete s.annotations[d["h"].ICON_TEXT],e.useCustomBadge&&(e.$set(s.annotations,d["h"].TEXT,e.badgeDescription),e.$set(s.annotations,d["h"].COLOR,e.badgeBgColor),e.badgeAsIcon&&e.$set(s.annotations,d["h"].ICON_TEXT,e.letter.toUpperCase())),a.next=10,s.save();case 10:t(!0),e.close(),a.next=18;break;case 14:a.prev=14,a.t0=a["catch"](0),e.errors=Object(m["c"])(a.t0),t(!1);case 18:case"end":return a.stop()}}),a,null,[[0,14]])})))()}}},_=x,T=(a("d897"),a("0c7c")),j=Object(T["a"])(_,s,o,!1,null,"38edc11a",null);e["default"]=j.exports},"5ed1":function(t,e,a){"use strict";var s=function(){var t,e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"color-input",class:(t={},t[e.mode]=e.mode,t.disabled=e.mode!==e.editMode,t),attrs:{"data-testid":e.componentTestid+"-color-input"}},[s("label",{staticClass:"text-label"},[e.labelKey?s("t",{attrs:{k:e.labelKey,raw:!0}}):e._e(),e._v(e._s(e.label))],1),s("div",{staticClass:"preview-container",on:{click:function(t){return t.stopPropagation(),e.$refs.input.click(t)}}},[s("span",{staticClass:"color-display",style:{"background-color":e.inputValue}},[s("input",{ref:"input",attrs:{type:"color",disabled:e.mode!==e.editMode},domProps:{value:e.inputValue},on:{input:function(t){return e.$emit("input",t.target.value)}}})]),s("span",{staticClass:"text-muted color-value"},[e._v(e._s(e.inputValue))])])])},o=[],r=(a("9ce4"),a("6d55"),a("fa3b")),n={props:{value:{type:String,default:""},defaultValue:{type:String,default:""},label:{type:String,default:null},labelKey:{type:String,default:null},mode:{type:String,validator:function(t){return[r["L"],r["S"]].includes(t)},default:r["L"]},componentTestid:{type:String,default:"color-input"}},data:function(){return{viewMode:r["S"],editMode:r["L"]}},computed:{inputValue:function(){return this.value?this.value:this.defaultValue}},mounted:function(){this.$emit("input",this.inputValue)}},i=n,l=(a("78b7"),a("0c7c")),c=Object(l["a"])(i,s,o,!1,null,"44939daa",null);e["a"]=c.exports},"78b7":function(t,e,a){"use strict";a("7f8c")},"7f8c":function(t,e,a){},d897:function(t,e,a){"use strict";a("2763")}}]);
//# sourceMappingURL=dialog3.cdc841ed.js.map