{"version":3,"sources":["webpack:///./shell/pages/c/_cluster/settings/brand.vue?1af7","webpack:///./shell/components/form/ColorInput.vue?1802","webpack:///shell/components/form/ColorInput.vue","webpack:///./shell/components/form/ColorInput.vue?18fb","webpack:///./shell/components/form/ColorInput.vue","webpack:///./shell/components/form/ColorInput.vue?9b80","webpack:///./shell/pages/c/_cluster/settings/brand.vue?58fb","webpack:///shell/pages/c/_cluster/settings/brand.vue","webpack:///./shell/pages/c/_cluster/settings/brand.vue?7915","webpack:///./shell/pages/c/_cluster/settings/brand.vue"],"names":["render","_obj","_vm","this","_h","$createElement","_c","_self","staticClass","class","mode","disabled","editMode","attrs","componentTestid","labelKey","_e","_v","_s","label","on","$event","stopPropagation","$refs","input","click","style","inputValue","ref","domProps","$emit","target","value","staticRenderFns","props","type","default","defaultValue","validator","data","viewMode","computed","mounted","component","$fetchState","t","model","uiPLSetting","callback","$$v","$set","expression","customizeLogo","setError","updateLogo","uiLogoLight","uiLogoDark","customizeFavicon","uiFavicon","customizeColor","uiColor","customizeLinkColor","uiLinkColor","_l","err","key","save","layout","components","LabeledInput","Checkbox","FileSelector","Loading","SimpleBox","AsyncButton","Banner","ColorInput","TypeDescription","fetch","allHash","id","uiLogoDarkSetting","uiLogoLightSetting","uiColorSetting","uiLinkColorSetting","uiFaviconSetting","hash","Object","vendor","errors","methods","img","e","btnCB","Promise","setVendor","setFavIcon"],"mappings":"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","file":"js/pages/c/_cluster/settings/brand.9b40d5ec.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./brand.vue?vue&type=style&index=0&id=6d5f2b26&prod&scoped=true&lang=scss&\"","var render = function () {\nvar _obj;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"color-input\",class:( _obj = {}, _obj[_vm.mode] = _vm.mode, _obj.disabled = _vm.mode !== _vm.editMode, _obj ),attrs:{\"data-testid\":_vm.componentTestid + '-color-input'}},[_c('label',{staticClass:\"text-label\"},[(_vm.labelKey)?_c('t',{attrs:{\"k\":_vm.labelKey,\"raw\":true}}):_vm._e(),_vm._v(_vm._s(_vm.label))],1),_c('div',{staticClass:\"preview-container\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$refs.input.click($event)}}},[_c('span',{staticClass:\"color-display\",style:({'background-color': _vm.inputValue})},[_c('input',{ref:\"input\",attrs:{\"type\":\"color\",\"disabled\":_vm.mode !== _vm.editMode},domProps:{\"value\":_vm.inputValue},on:{\"input\":function($event){return _vm.$emit('input', $event.target.value)}}})]),_c('span',{staticClass:\"text-muted color-value\"},[_vm._v(_vm._s(_vm.inputValue))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { _EDIT, _VIEW } from '@shell/config/query-params';\n\nexport default {\n  props: {\n    value: {\n      type:    String,\n      default: ''\n    },\n\n    defaultValue: {\n      type:    String,\n      default: ''\n    },\n\n    label: {\n      type:    String,\n      default: null\n    },\n\n    labelKey: {\n      type:    String,\n      default: null\n    },\n\n    mode: {\n      type: String,\n      validator(value) {\n        return [_EDIT, _VIEW].includes(value);\n      },\n      default: _EDIT,\n    },\n\n    /**\n     * Inherited global identifier prefix for tests\n     * Define a term based on the parent component to avoid conflicts on multiple components\n     */\n    componentTestid: {\n      type:    String,\n      default: 'color-input'\n    }\n  },\n\n  data() {\n    return {\n      viewMode: _VIEW,\n      editMode: _EDIT\n    };\n  },\n\n  computed: {\n    /**\n     * Allow UI to set a default value.\n     */\n    inputValue() {\n      return this.value ? this.value : this.defaultValue;\n    }\n  },\n\n  mounted() {\n    // Ensures that if the default value is used, the model is updated with it\n    this.$emit('input', this.inputValue);\n  }\n};\n</script>\n\n<template>\n  <div\n    class=\"color-input\"\n    :class=\"{[mode]:mode, disabled: mode !== editMode}\"\n    :data-testid=\"componentTestid + '-color-input'\"\n  >\n    <label class=\"text-label\"><t\n      v-if=\"labelKey\"\n      :k=\"labelKey\"\n      :raw=\"true\"\n    />{{ label }}</label>\n    <div\n      class=\"preview-container\"\n      @click.stop=\"$refs.input.click($event)\"\n    >\n      <span\n        :style=\"{'background-color': inputValue}\"\n        class=\"color-display\"\n      >\n        <input\n          ref=\"input\"\n          type=\"color\"\n          :disabled=\"mode !== editMode\"\n          :value=\"inputValue\"\n          @input=\"$emit('input', $event.target.value)\"\n        >\n      </span>\n      <span class=\"text-muted color-value\">{{ inputValue }}</span>\n    </div>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n.color-input {\n  border: 1px solid var(--border);\n  border-radius: var(--border-radius);\n  padding: 10px;\n\n  &.disabled, &.disabled .selected, &[disabled], &[disabled]:hover {\n    color: var(--input-disabled-text);\n    background-color: var(--input-disabled-bg);\n    outline-width: 0;\n    border-color: var(--input-disabled-border);\n    cursor: not-allowed;\n\n    label, span, div, input {\n      cursor: not-allowed !important;\n    }\n\n    label {\n      color: var(--input-disabled-label);\n      display: inline-block;\n      z-index: 1;\n    }\n    &::placeholder {\n        color: var(--input-disabled-placeholder);\n    }\n  }\n\n  LABEL{\n    display: block;\n  }\n\n  .preview-container{\n    &:hover {\n      cursor: pointer;\n    }\n\n    .color-value {\n      margin-left: 4px;\n    }\n  }\n\n  .color-display{\n    border: 1px solid var(--border);\n\n    &:focus {\n      outline: none;\n      box-shadow: 0 0 0 var(--outline-width) var(--outline);\n      background: var(--input-focus-bg);\n    }\n  }\n\n  INPUT{\n    border: none;\n    padding: 0;\n    width: 23px;\n    height: 23px;\n    -webkit-appearance: none;\n    opacity: 0;\n    &:hover {\n      cursor: pointer;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ColorInput.vue?vue&type=template&id=44939daa&scoped=true&\"\nimport script from \"./ColorInput.vue?vue&type=script&lang=js&\"\nexport * from \"./ColorInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ColorInput.vue?vue&type=style&index=0&id=44939daa&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44939daa\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorInput.vue?vue&type=style&index=0&id=44939daa&prod&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$fetchState.pending)?_c('Loading'):_c('div',[_c('h1',{staticClass:\"mb-20\"},[_vm._v(\" \"+_vm._s(_vm.t('branding.label'))+\" \")]),_c('TypeDescription',{attrs:{\"resource\":\"branding\"}}),_c('div',[_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col span-6\"},[_c('LabeledInput',{attrs:{\"label\":_vm.t('branding.uiPL.label'),\"mode\":_vm.mode,\"maxlength\":100},model:{value:(_vm.uiPLSetting.value),callback:function ($$v) {_vm.$set(_vm.uiPLSetting, \"value\", $$v)},expression:\"uiPLSetting.value\"}})],1)]),_c('h3',{staticClass:\"mt-20 mb-5 pb-5\"},[_vm._v(\" \"+_vm._s(_vm.t('branding.logos.label'))+\" \")]),_c('label',{staticClass:\"text-label\"},[_vm._v(\" \"+_vm._s(_vm.t('branding.logos.tip', {}, true))+\" \")]),_c('div',{staticClass:\"row mt-10 mb-20\"},[_c('Checkbox',{attrs:{\"label\":_vm.t('branding.logos.useCustom'),\"mode\":_vm.mode},model:{value:(_vm.customizeLogo),callback:function ($$v) {_vm.customizeLogo=$$v},expression:\"customizeLogo\"}})],1),(_vm.customizeLogo)?_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col logo-container span-6\"},[_c('div',{staticClass:\"mb-10\"},[_c('FileSelector',{staticClass:\"role-secondary\",attrs:{\"byte-limit\":20000,\"read-as-data-url\":true,\"label\":_vm.t('branding.logos.uploadLight'),\"mode\":_vm.mode},on:{\"error\":_vm.setError,\"selected\":function($event){return _vm.updateLogo($event, 'uiLogoLight')}}})],1),(_vm.uiLogoLight || _vm.uiLogoDark)?_c('SimpleBox',{staticClass:\"theme-light  mb-10\"},[_c('label',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.t('branding.logos.lightPreview')))]),_c('img',{staticClass:\"logo-preview\",attrs:{\"src\":_vm.uiLogoLight ? _vm.uiLogoLight : _vm.uiLogoDark}})]):_vm._e()],1),_c('div',{staticClass:\"col logo-container span-6\"},[_c('div',{staticClass:\"mb-10\"},[_c('FileSelector',{staticClass:\"role-secondary\",attrs:{\"byte-limit\":20000,\"read-as-data-url\":true,\"label\":_vm.t('branding.logos.uploadDark'),\"mode\":_vm.mode},on:{\"error\":_vm.setError,\"selected\":function($event){return _vm.updateLogo($event, 'uiLogoDark')}}})],1),(_vm.uiLogoDark || _vm.uiLogoLight)?_c('SimpleBox',{staticClass:\"theme-dark  mb-10\"},[_c('label',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.t('branding.logos.darkPreview')))]),_c('img',{staticClass:\"logo-preview\",attrs:{\"src\":_vm.uiLogoDark ? _vm.uiLogoDark : _vm.uiLogoLight}})]):_vm._e()],1)]):_vm._e(),_c('h3',{staticClass:\"mt-20 mb-5 pb-5\"},[_vm._v(\" \"+_vm._s(_vm.t('branding.favicon.label'))+\" \")]),_c('label',{staticClass:\"text-label\"},[_vm._v(\" \"+_vm._s(_vm.t('branding.favicon.tip', {}, true))+\" \")]),_c('div',{staticClass:\"row mt-10 mb-20\"},[_c('Checkbox',{attrs:{\"label\":_vm.t('branding.favicon.useCustom'),\"mode\":_vm.mode},model:{value:(_vm.customizeFavicon),callback:function ($$v) {_vm.customizeFavicon=$$v},expression:\"customizeFavicon\"}})],1),(_vm.customizeFavicon)?_c('div',{staticClass:\"row mb-20\"},[_c('div',{staticClass:\"col logo-container span-12\"},[_c('div',{staticClass:\"mb-10\"},[_c('FileSelector',{staticClass:\"role-secondary\",attrs:{\"byte-limit\":20000,\"read-as-data-url\":true,\"label\":_vm.t('branding.favicon.upload'),\"mode\":_vm.mode},on:{\"error\":_vm.setError,\"selected\":function($event){return _vm.updateLogo($event, 'uiFavicon')}}})],1),(_vm.uiFavicon)?_c('SimpleBox',[_c('label',{staticClass:\"text-muted\"},[_vm._v(_vm._s(_vm.t('branding.favicon.preview')))]),_c('img',{staticClass:\"logo-preview\",attrs:{\"src\":_vm.uiFavicon}})]):_vm._e()],1)]):_vm._e(),_c('h3',{staticClass:\"mt-40 mb-5 pb-0\"},[_vm._v(\" \"+_vm._s(_vm.t('branding.color.label'))+\" \")]),_c('label',{staticClass:\"text-label\"},[_vm._v(\" \"+_vm._s(_vm.t('branding.color.tip', {}, true))+\" \")]),_c('div',{staticClass:\"row mt-20\"},[_c('Checkbox',{attrs:{\"label\":_vm.t('branding.color.useCustom'),\"mode\":_vm.mode},model:{value:(_vm.customizeColor),callback:function ($$v) {_vm.customizeColor=$$v},expression:\"customizeColor\"}})],1),(_vm.customizeColor)?_c('div',{staticClass:\"row mt-20 mb-20\"},[_c('ColorInput',{attrs:{\"component-testid\":\"primary\"},model:{value:(_vm.uiColor),callback:function ($$v) {_vm.uiColor=$$v},expression:\"uiColor\"}})],1):_vm._e(),_c('h3',{staticClass:\"mt-40 mb-5 pb-0\"},[_vm._v(\" \"+_vm._s(_vm.t('branding.linkColor.label'))+\" \")]),_c('label',{staticClass:\"text-label\"},[_vm._v(\" \"+_vm._s(_vm.t('branding.linkColor.tip', {}, true))+\" \")]),_c('div',{staticClass:\"row mt-20\"},[_c('Checkbox',{attrs:{\"label\":_vm.t('branding.linkColor.useCustom'),\"mode\":_vm.mode},model:{value:(_vm.customizeLinkColor),callback:function ($$v) {_vm.customizeLinkColor=$$v},expression:\"customizeLinkColor\"}})],1),(_vm.customizeLinkColor)?_c('div',{staticClass:\"row mt-20 mb-20\"},[_c('ColorInput',{staticClass:\"col\",attrs:{\"component-testid\":\"link\"},model:{value:(_vm.uiLinkColor),callback:function ($$v) {_vm.uiLinkColor=$$v},expression:\"uiLinkColor\"}}),_c('span',{staticClass:\"col link-example\"},[_c('a',[_vm._v(\" \"+_vm._s(_vm.t('branding.linkColor.example'))+\" \")])])],1):_vm._e()]),_vm._l((_vm.errors),function(err){return [_c('Banner',{key:err,attrs:{\"color\":\"error\",\"label\":err}})]}),(_vm.mode === 'edit')?_c('div',[_c('AsyncButton',{staticClass:\"pull-right mt-20\",attrs:{\"component-testid\":\"branding-apply\",\"mode\":\"apply\"},on:{\"click\":_vm.save}})],1):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport ColorInput from '@shell/components/form/ColorInput';\nimport TypeDescription from '@shell/components/TypeDescription';\n\nimport { Checkbox } from '@components/Form/Checkbox';\nimport FileSelector from '@shell/components/form/FileSelector';\nimport SimpleBox from '@shell/components/SimpleBox';\nimport Loading from '@shell/components/Loading';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { Banner } from '@components/Banner';\nimport { allHash } from '@shell/utils/promise';\nimport { MANAGEMENT } from '@shell/config/types';\nimport { getVendor, setVendor } from '@shell/config/private-label';\nimport { fetchOrCreateSetting } from '@shell/utils/settings';\nimport { SETTING } from '@shell/config/settings';\nimport { _EDIT, _VIEW } from '@shell/config/query-params';\nimport { setFavIcon } from '@shell/utils/favicon';\n\nconst Color = require('color');\n\nexport default {\n  layout: 'authenticated',\n\n  components: {\n    LabeledInput, Checkbox, FileSelector, Loading, SimpleBox, AsyncButton, Banner, ColorInput, TypeDescription\n  },\n\n  async fetch() {\n    const hash = await allHash({\n      uiPLSetting:        this.$store.dispatch('management/find', { type: MANAGEMENT.SETTING, id: SETTING.PL }),\n      uiLogoDarkSetting:  fetchOrCreateSetting(this.$store, SETTING.LOGO_DARK, ''),\n      uiLogoLightSetting: fetchOrCreateSetting(this.$store, SETTING.LOGO_LIGHT, ''),\n      uiColorSetting:     fetchOrCreateSetting(this.$store, SETTING.PRIMARY_COLOR, ''),\n      uiLinkColorSetting: fetchOrCreateSetting(this.$store, SETTING.LINK_COLOR, ''),\n      uiFaviconSetting:   fetchOrCreateSetting(this.$store, SETTING.FAVICON, ''),\n    });\n\n    Object.assign(this, hash);\n\n    if (hash.uiLogoDarkSetting.value) {\n      try {\n        this.uiLogoDark = hash.uiLogoDarkSetting.value;\n        this.customizeLogo = true;\n      } catch {}\n    }\n    if (hash.uiLogoLightSetting.value) {\n      try {\n        this.uiLogoLight = hash.uiLogoLightSetting.value;\n\n        this.customizeLogo = true;\n      } catch {}\n    }\n    if (hash.uiFaviconSetting.value) {\n      try {\n        this.uiFavicon = hash.uiFaviconSetting.value;\n\n        this.customizeFavicon = true;\n      } catch {}\n    }\n    if (hash.uiColorSetting.value) {\n      this.uiColor = Color(hash.uiColorSetting.value).hex();\n      this.customizeColor = true;\n    }\n    if (hash.uiLinkColorSetting.value) {\n      this.uiLinkColor = Color(hash.uiLinkColorSetting.value).hex();\n      this.customizeLinkColor = true;\n    }\n  },\n\n  data() {\n    return {\n      vendor:      getVendor(),\n      uiPLSetting: {},\n\n      uiLogoDarkSetting:  {},\n      uiLogoDark:         '',\n      uiLogoLightSetting: {},\n      uiLogoLight:        '',\n      customizeLogo:      false,\n\n      uiFaviconSetting: {},\n      uiFavicon:        '',\n      customizeFavicon: false,\n\n      uiColorSetting:     {},\n      uiColor:            null,\n      customizeColor:     false,\n      uiLinkColorSetting: {},\n      uiLinkColor:        null,\n      customizeLinkColor: false,\n\n      errors: [],\n\n    };\n  },\n\n  computed: {\n    mode() {\n      const schema = this.$store.getters[`management/schemaFor`](MANAGEMENT.SETTING);\n\n      return schema?.resourceMethods?.includes('PUT') ? _EDIT : _VIEW;\n    }\n  },\n\n  mounted() {\n    let uiColor = getComputedStyle(document.body).getPropertyValue('--primary');\n    let uiLinkColor = getComputedStyle(document.body).getPropertyValue('--link');\n    const suse = document.querySelector('.suse');\n\n    if (suse) {\n      uiColor = getComputedStyle(suse).getPropertyValue('--primary');\n      uiLinkColor = getComputedStyle(suse).getPropertyValue('--link');\n    }\n\n    // Only set the color to the default if not already set from the custom color\n    this.uiColor = this.uiColor || uiColor.trim();\n    this.uiLinkColor = this.uiLinkColor || uiLinkColor.trim();\n  },\n\n  methods: {\n    updateLogo(img, key) {\n      this[key] = img;\n    },\n\n    setError(e) {\n      this.errors = [];\n      this.errors.push(e);\n    },\n\n    async save(btnCB) {\n      this.uiPLSetting.value = this.uiPLSetting.value.replaceAll(/[\\<>&=#()\"]/gm, '');\n\n      if (this.customizeLogo) {\n        this.uiLogoLightSetting.value = this.uiLogoLight;\n        this.uiLogoDarkSetting.value = this.uiLogoDark;\n      } else {\n        this.uiLogoLightSetting.value = '';\n        this.uiLogoDarkSetting.value = '';\n      }\n\n      if (this.customizeFavicon) {\n        this.uiFaviconSetting.value = this.uiFavicon;\n      } else {\n        this.uiFaviconSetting.value = '';\n      }\n\n      if (this.customizeColor) {\n        this.uiColorSetting.value = Color(this.uiColor).rgb().string();\n      } else {\n        this.uiColorSetting.value = null;\n      }\n\n      if (this.customizeLinkColor) {\n        this.uiLinkColorSetting.value = Color(this.uiLinkColor).rgb().string();\n      } else {\n        this.uiLinkColorSetting.value = null;\n      }\n\n      this.errors = [];\n\n      try {\n        await Promise.all([\n          this.uiPLSetting.save(),\n          this.uiLogoDarkSetting.save(),\n          this.uiLogoLightSetting.save(),\n          this.uiColorSetting.save(),\n          this.uiLinkColorSetting.save(),\n          this.uiFaviconSetting.save()\n        ]);\n        if (this.uiPLSetting.value !== this.vendor) {\n          setVendor(this.uiPLSetting.value);\n        }\n\n        setFavIcon(this.$store);\n        btnCB(true);\n      } catch (err) {\n        this.errors.push(err);\n        btnCB(false);\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <h1 class=\"mb-20\">\n      {{ t('branding.label') }}\n    </h1>\n    <TypeDescription resource=\"branding\" />\n    <div>\n      <div class=\"row mb-20\">\n        <div class=\"col span-6\">\n          <LabeledInput\n            v-model=\"uiPLSetting.value\"\n            :label=\"t('branding.uiPL.label')\"\n            :mode=\"mode\"\n            :maxlength=\"100\"\n          />\n        </div>\n      </div>\n      <h3 class=\"mt-20 mb-5 pb-5\">\n        {{ t('branding.logos.label') }}\n      </h3>\n      <label class=\"text-label\">\n        {{ t('branding.logos.tip', {}, true) }}\n      </label>\n\n      <div class=\"row mt-10 mb-20\">\n        <Checkbox\n          v-model=\"customizeLogo\"\n          :label=\"t('branding.logos.useCustom')\"\n          :mode=\"mode\"\n        />\n      </div>\n\n      <div\n        v-if=\"customizeLogo\"\n        class=\"row mb-20\"\n      >\n        <div class=\"col logo-container span-6\">\n          <div class=\"mb-10\">\n            <FileSelector\n              :byte-limit=\"20000\"\n              :read-as-data-url=\"true\"\n              class=\"role-secondary\"\n              :label=\"t('branding.logos.uploadLight')\"\n              :mode=\"mode\"\n              @error=\"setError\"\n              @selected=\"updateLogo($event, 'uiLogoLight')\"\n            />\n          </div>\n          <SimpleBox\n            v-if=\"uiLogoLight || uiLogoDark\"\n            class=\"theme-light  mb-10\"\n          >\n            <label class=\"text-muted\">{{ t('branding.logos.lightPreview') }}</label>\n            <img\n              class=\"logo-preview\"\n              :src=\"uiLogoLight ? uiLogoLight : uiLogoDark\"\n            >\n          </SimpleBox>\n        </div>\n        <div class=\"col logo-container span-6\">\n          <div class=\"mb-10\">\n            <FileSelector\n              :byte-limit=\"20000\"\n              :read-as-data-url=\"true\"\n              class=\"role-secondary\"\n              :label=\"t('branding.logos.uploadDark')\"\n              :mode=\"mode\"\n              @error=\"setError\"\n              @selected=\"updateLogo($event, 'uiLogoDark')\"\n            />\n          </div>\n          <SimpleBox\n            v-if=\"uiLogoDark || uiLogoLight\"\n            class=\"theme-dark  mb-10\"\n          >\n            <label class=\"text-muted\">{{ t('branding.logos.darkPreview') }}</label>\n            <img\n              class=\"logo-preview\"\n              :src=\"uiLogoDark ? uiLogoDark : uiLogoLight\"\n            >\n          </SimpleBox>\n        </div>\n      </div>\n\n      <h3 class=\"mt-20 mb-5 pb-5\">\n        {{ t('branding.favicon.label') }}\n      </h3>\n      <label class=\"text-label\">\n        {{ t('branding.favicon.tip', {}, true) }}\n      </label>\n\n      <div class=\"row mt-10 mb-20\">\n        <Checkbox\n          v-model=\"customizeFavicon\"\n          :label=\"t('branding.favicon.useCustom')\"\n          :mode=\"mode\"\n        />\n      </div>\n\n      <div\n        v-if=\"customizeFavicon\"\n        class=\"row mb-20\"\n      >\n        <div class=\"col logo-container span-12\">\n          <div class=\"mb-10\">\n            <FileSelector\n              :byte-limit=\"20000\"\n              :read-as-data-url=\"true\"\n              class=\"role-secondary\"\n              :label=\"t('branding.favicon.upload')\"\n              :mode=\"mode\"\n              @error=\"setError\"\n              @selected=\"updateLogo($event, 'uiFavicon')\"\n            />\n          </div>\n          <SimpleBox v-if=\"uiFavicon\">\n            <label class=\"text-muted\">{{ t('branding.favicon.preview') }}</label>\n            <img\n              class=\"logo-preview\"\n              :src=\"uiFavicon\"\n            >\n          </SimpleBox>\n        </div>\n      </div>\n\n      <h3 class=\"mt-40 mb-5 pb-0\">\n        {{ t('branding.color.label') }}\n      </h3>\n      <label class=\"text-label\">\n        {{ t('branding.color.tip', {}, true) }}\n      </label>\n      <div class=\"row mt-20\">\n        <Checkbox\n          v-model=\"customizeColor\"\n          :label=\"t('branding.color.useCustom')\"\n          :mode=\"mode\"\n        />\n      </div>\n      <div\n        v-if=\"customizeColor\"\n        class=\"row mt-20 mb-20\"\n      >\n        <ColorInput\n          v-model=\"uiColor\"\n          component-testid=\"primary\"\n        />\n      </div>\n\n      <h3 class=\"mt-40 mb-5 pb-0\">\n        {{ t('branding.linkColor.label') }}\n      </h3>\n      <label class=\"text-label\">\n        {{ t('branding.linkColor.tip', {}, true) }}\n      </label>\n      <div class=\"row mt-20\">\n        <Checkbox\n          v-model=\"customizeLinkColor\"\n          :label=\"t('branding.linkColor.useCustom')\"\n          :mode=\"mode\"\n        />\n      </div>\n      <div\n        v-if=\"customizeLinkColor\"\n        class=\"row mt-20 mb-20\"\n      >\n        <ColorInput\n          v-model=\"uiLinkColor\"\n          class=\"col\"\n          component-testid=\"link\"\n        />\n        <span class=\"col link-example\">\n          <a>\n            {{ t('branding.linkColor.example') }}\n          </a>\n        </span>\n      </div>\n    </div>\n    <template v-for=\"err in errors\">\n      <Banner\n        :key=\"err\"\n        color=\"error\"\n        :label=\"err\"\n      />\n    </template>\n    <div v-if=\"mode === 'edit'\">\n      <AsyncButton\n        component-testid=\"branding-apply\"\n        class=\"pull-right mt-20\"\n        mode=\"apply\"\n        @click=\"save\"\n      />\n    </div>\n  </div>\n</template>\n\n<style scoped lang='scss'>\n.link-example {\n  display: flex;\n  align-content: center;\n\n  a {\n    margin: auto;\n  }\n}\n\n.logo-container {\n    display: flex;\n    flex-direction: column;\n\n    ::v-deep.simple-box {\n        position: relative;\n        flex: 1;\n        max-height: 120px;\n\n        .content {\n          height: 100%;\n          display: flex;\n        }\n\n        .logo-preview {\n          max-width: 100%;\n        }\n    }\n\n    & LABEL {\n      position: absolute;\n      top: 10px;\n      left: 10px;\n    }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./brand.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./brand.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./brand.vue?vue&type=template&id=6d5f2b26&scoped=true&\"\nimport script from \"./brand.vue?vue&type=script&lang=js&\"\nexport * from \"./brand.vue?vue&type=script&lang=js&\"\nimport style0 from \"./brand.vue?vue&type=style&index=0&id=6d5f2b26&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d5f2b26\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}