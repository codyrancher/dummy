(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/c/_cluster/settings/brand"],{"0c1b":function(t,e,o){"use strict";o("c05f0")},"5ed1":function(t,e,o){"use strict";var i=function(){var t,e=this,o=e.$createElement,i=e._self._c||o;return i("div",{staticClass:"color-input",class:(t={},t[e.mode]=e.mode,t.disabled=e.mode!==e.editMode,t),attrs:{"data-testid":e.componentTestid+"-color-input"}},[i("label",{staticClass:"text-label"},[e.labelKey?i("t",{attrs:{k:e.labelKey,raw:!0}}):e._e(),e._v(e._s(e.label))],1),i("div",{staticClass:"preview-container",on:{click:function(t){return t.stopPropagation(),e.$refs.input.click(t)}}},[i("span",{staticClass:"color-display",style:{"background-color":e.inputValue}},[i("input",{ref:"input",attrs:{type:"color",disabled:e.mode!==e.editMode},domProps:{value:e.inputValue},on:{input:function(t){return e.$emit("input",t.target.value)}}})]),i("span",{staticClass:"text-muted color-value"},[e._v(e._s(e.inputValue))])])])},a=[],l=(o("9ce4"),o("6d55"),o("fa3b")),n={props:{value:{type:String,default:""},defaultValue:{type:String,default:""},label:{type:String,default:null},labelKey:{type:String,default:null},mode:{type:String,validator:function(t){return[l["L"],l["S"]].includes(t)},default:l["L"]},componentTestid:{type:String,default:"color-input"}},data:function(){return{viewMode:l["S"],editMode:l["L"]}},computed:{inputValue:function(){return this.value?this.value:this.defaultValue}},mounted:function(){this.$emit("input",this.inputValue)}},s=n,r=(o("78b7"),o("0c7c")),u=Object(r["a"])(s,i,a,!1,null,"44939daa",null);e["a"]=u.exports},"78b7":function(t,e,o){"use strict";o("7f8c")},"7f8c":function(t,e,o){},a07d:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.$fetchState.pending?o("Loading"):o("div",[o("h1",{staticClass:"mb-20"},[t._v(" "+t._s(t.t("branding.label"))+" ")]),o("TypeDescription",{attrs:{resource:"branding"}}),o("div",[o("div",{staticClass:"row mb-20"},[o("div",{staticClass:"col span-6"},[o("LabeledInput",{attrs:{label:t.t("branding.uiPL.label"),mode:t.mode,maxlength:100},model:{value:t.uiPLSetting.value,callback:function(e){t.$set(t.uiPLSetting,"value",e)},expression:"uiPLSetting.value"}})],1)]),o("h3",{staticClass:"mt-20 mb-5 pb-5"},[t._v(" "+t._s(t.t("branding.logos.label"))+" ")]),o("label",{staticClass:"text-label"},[t._v(" "+t._s(t.t("branding.logos.tip",{},!0))+" ")]),o("div",{staticClass:"row mt-10 mb-20"},[o("Checkbox",{attrs:{label:t.t("branding.logos.useCustom"),mode:t.mode},model:{value:t.customizeLogo,callback:function(e){t.customizeLogo=e},expression:"customizeLogo"}})],1),t.customizeLogo?o("div",{staticClass:"row mb-20"},[o("div",{staticClass:"col logo-container span-6"},[o("div",{staticClass:"mb-10"},[o("FileSelector",{staticClass:"role-secondary",attrs:{"byte-limit":2e4,"read-as-data-url":!0,label:t.t("branding.logos.uploadLight"),mode:t.mode},on:{error:t.setError,selected:function(e){return t.updateLogo(e,"uiLogoLight")}}})],1),t.uiLogoLight||t.uiLogoDark?o("SimpleBox",{staticClass:"theme-light  mb-10"},[o("label",{staticClass:"text-muted"},[t._v(t._s(t.t("branding.logos.lightPreview")))]),o("img",{staticClass:"logo-preview",attrs:{src:t.uiLogoLight?t.uiLogoLight:t.uiLogoDark}})]):t._e()],1),o("div",{staticClass:"col logo-container span-6"},[o("div",{staticClass:"mb-10"},[o("FileSelector",{staticClass:"role-secondary",attrs:{"byte-limit":2e4,"read-as-data-url":!0,label:t.t("branding.logos.uploadDark"),mode:t.mode},on:{error:t.setError,selected:function(e){return t.updateLogo(e,"uiLogoDark")}}})],1),t.uiLogoDark||t.uiLogoLight?o("SimpleBox",{staticClass:"theme-dark  mb-10"},[o("label",{staticClass:"text-muted"},[t._v(t._s(t.t("branding.logos.darkPreview")))]),o("img",{staticClass:"logo-preview",attrs:{src:t.uiLogoDark?t.uiLogoDark:t.uiLogoLight}})]):t._e()],1)]):t._e(),o("h3",{staticClass:"mt-20 mb-5 pb-5"},[t._v(" "+t._s(t.t("branding.favicon.label"))+" ")]),o("label",{staticClass:"text-label"},[t._v(" "+t._s(t.t("branding.favicon.tip",{},!0))+" ")]),o("div",{staticClass:"row mt-10 mb-20"},[o("Checkbox",{attrs:{label:t.t("branding.favicon.useCustom"),mode:t.mode},model:{value:t.customizeFavicon,callback:function(e){t.customizeFavicon=e},expression:"customizeFavicon"}})],1),t.customizeFavicon?o("div",{staticClass:"row mb-20"},[o("div",{staticClass:"col logo-container span-12"},[o("div",{staticClass:"mb-10"},[o("FileSelector",{staticClass:"role-secondary",attrs:{"byte-limit":2e4,"read-as-data-url":!0,label:t.t("branding.favicon.upload"),mode:t.mode},on:{error:t.setError,selected:function(e){return t.updateLogo(e,"uiFavicon")}}})],1),t.uiFavicon?o("SimpleBox",[o("label",{staticClass:"text-muted"},[t._v(t._s(t.t("branding.favicon.preview")))]),o("img",{staticClass:"logo-preview",attrs:{src:t.uiFavicon}})]):t._e()],1)]):t._e(),o("h3",{staticClass:"mt-40 mb-5 pb-0"},[t._v(" "+t._s(t.t("branding.color.label"))+" ")]),o("label",{staticClass:"text-label"},[t._v(" "+t._s(t.t("branding.color.tip",{},!0))+" ")]),o("div",{staticClass:"row mt-20"},[o("Checkbox",{attrs:{label:t.t("branding.color.useCustom"),mode:t.mode},model:{value:t.customizeColor,callback:function(e){t.customizeColor=e},expression:"customizeColor"}})],1),t.customizeColor?o("div",{staticClass:"row mt-20 mb-20"},[o("ColorInput",{attrs:{"component-testid":"primary"},model:{value:t.uiColor,callback:function(e){t.uiColor=e},expression:"uiColor"}})],1):t._e(),o("h3",{staticClass:"mt-40 mb-5 pb-0"},[t._v(" "+t._s(t.t("branding.linkColor.label"))+" ")]),o("label",{staticClass:"text-label"},[t._v(" "+t._s(t.t("branding.linkColor.tip",{},!0))+" ")]),o("div",{staticClass:"row mt-20"},[o("Checkbox",{attrs:{label:t.t("branding.linkColor.useCustom"),mode:t.mode},model:{value:t.customizeLinkColor,callback:function(e){t.customizeLinkColor=e},expression:"customizeLinkColor"}})],1),t.customizeLinkColor?o("div",{staticClass:"row mt-20 mb-20"},[o("ColorInput",{staticClass:"col",attrs:{"component-testid":"link"},model:{value:t.uiLinkColor,callback:function(e){t.uiLinkColor=e},expression:"uiLinkColor"}}),o("span",{staticClass:"col link-example"},[o("a",[t._v(" "+t._s(t.t("branding.linkColor.example"))+" ")])])],1):t._e()]),t._l(t.errors,(function(t){return[o("Banner",{key:t,attrs:{color:"error",label:t}})]})),"edit"===t.mode?o("div",[o("AsyncButton",{staticClass:"pull-right mt-20",attrs:{"component-testid":"branding-apply",mode:"apply"},on:{click:t.save}})],1):t._e()],2)},a=[],l=o("1da1"),n=o("a34a"),s=o.n(n),r=(o("96cf"),o("debf"),o("9ce4"),o("6d55"),o("83ae"),o("b667"),o("ddc0"),o("fc12"),o("a797"),o("8be0"),o("e673"),o("a41c"),o("5986"),o("84d3")),u=o("5ed1"),c=o("35f4"),d=o("4de2"),g=o("f7ac"),m=o("8af7"),v=o("c778"),b=o("67c9"),p=o("bec1"),C=o("fa98"),L=o("a788"),f=o("58ec"),k=o("2f40"),h=o("c5b9"),S=o("fa3b"),_=o("16cc"),y=o("6929"),x={layout:"authenticated",components:{LabeledInput:r["a"],Checkbox:d["a"],FileSelector:g["b"],Loading:v["a"],SimpleBox:m["a"],AsyncButton:b["b"],Banner:p["a"],ColorInput:u["a"],TypeDescription:c["a"]},fetch:function(){var t=this;return Object(l["a"])(s.a.mark((function e(){var o;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(C["a"])({uiPLSetting:t.$store.dispatch("management/find",{type:L["x"].SETTING,id:h["c"].PL}),uiLogoDarkSetting:Object(k["a"])(t.$store,h["c"].LOGO_DARK,""),uiLogoLightSetting:Object(k["a"])(t.$store,h["c"].LOGO_LIGHT,""),uiColorSetting:Object(k["a"])(t.$store,h["c"].PRIMARY_COLOR,""),uiLinkColorSetting:Object(k["a"])(t.$store,h["c"].LINK_COLOR,""),uiFaviconSetting:Object(k["a"])(t.$store,h["c"].FAVICON,"")});case 2:if(o=e.sent,Object.assign(t,o),o.uiLogoDarkSetting.value)try{t.uiLogoDark=o.uiLogoDarkSetting.value,t.customizeLogo=!0}catch(i){}if(o.uiLogoLightSetting.value)try{t.uiLogoLight=o.uiLogoLightSetting.value,t.customizeLogo=!0}catch(a){}if(o.uiFaviconSetting.value)try{t.uiFavicon=o.uiFaviconSetting.value,t.customizeFavicon=!0}catch(l){}o.uiColorSetting.value&&(t.uiColor=y(o.uiColorSetting.value).hex(),t.customizeColor=!0),o.uiLinkColorSetting.value&&(t.uiLinkColor=y(o.uiLinkColorSetting.value).hex(),t.customizeLinkColor=!0);case 9:case"end":return e.stop()}}),e)})))()},data:function(){return{vendor:Object(f["d"])(),uiPLSetting:{},uiLogoDarkSetting:{},uiLogoDark:"",uiLogoLightSetting:{},uiLogoLight:"",customizeLogo:!1,uiFaviconSetting:{},uiFavicon:"",customizeFavicon:!1,uiColorSetting:{},uiColor:null,customizeColor:!1,uiLinkColorSetting:{},uiLinkColor:null,customizeLinkColor:!1,errors:[]}},computed:{mode:function(){var t,e=this.$store.getters["management/schemaFor"](L["x"].SETTING);return null!==e&&void 0!==e&&null!==(t=e.resourceMethods)&&void 0!==t&&t.includes("PUT")?S["L"]:S["S"]}},mounted:function(){var t=getComputedStyle(document.body).getPropertyValue("--primary"),e=getComputedStyle(document.body).getPropertyValue("--link"),o=document.querySelector(".suse");o&&(t=getComputedStyle(o).getPropertyValue("--primary"),e=getComputedStyle(o).getPropertyValue("--link")),this.uiColor=this.uiColor||t.trim(),this.uiLinkColor=this.uiLinkColor||e.trim()},methods:{updateLogo:function(t,e){this[e]=t},setError:function(t){this.errors=[],this.errors.push(t)},save:function(t){var e=this;return Object(l["a"])(s.a.mark((function o(){return s.a.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.uiPLSetting.value=e.uiPLSetting.value.replaceAll(/[\<>&=#()"]/gm,""),e.customizeLogo?(e.uiLogoLightSetting.value=e.uiLogoLight,e.uiLogoDarkSetting.value=e.uiLogoDark):(e.uiLogoLightSetting.value="",e.uiLogoDarkSetting.value=""),e.customizeFavicon?e.uiFaviconSetting.value=e.uiFavicon:e.uiFaviconSetting.value="",e.customizeColor?e.uiColorSetting.value=y(e.uiColor).rgb().string():e.uiColorSetting.value=null,e.customizeLinkColor?e.uiLinkColorSetting.value=y(e.uiLinkColor).rgb().string():e.uiLinkColorSetting.value=null,e.errors=[],o.prev=6,o.next=9,Promise.all([e.uiPLSetting.save(),e.uiLogoDarkSetting.save(),e.uiLogoLightSetting.save(),e.uiColorSetting.save(),e.uiLinkColorSetting.save(),e.uiFaviconSetting.save()]);case 9:e.uiPLSetting.value!==e.vendor&&Object(f["f"])(e.uiPLSetting.value),Object(_["b"])(e.$store),t(!0),o.next=18;break;case 14:o.prev=14,o.t0=o["catch"](6),e.errors.push(o.t0),t(!1);case 18:case"end":return o.stop()}}),o,null,[[6,14]])})))()}}},w=x,z=(o("0c1b"),o("0c7c")),F=Object(z["a"])(w,i,a,!1,null,"6d5f2b26",null);e["default"]=F.exports},c05f0:function(t,e,o){}}]);
//# sourceMappingURL=brand.9b40d5ec.js.map