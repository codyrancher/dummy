{"version":3,"sources":["webpack:///./shell/pages/c/_cluster/auth/config/index.vue?bf2d","webpack:///shell/pages/c/_cluster/auth/config/index.vue","webpack:///./shell/pages/c/_cluster/auth/config/index.vue?1dac","webpack:///./shell/pages/c/_cluster/auth/config/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","displayName","enabled","length","_e","attrs","t","localUsersRoute","rows","colorFor","on","row","goTo","id","staticRenderFns","components","SelectIconGrid","Banner","asyncData","store","authProvidersInfo","authProvs","redirect","nonLocal","data","resource","schema","hasListComponent","hasEditComponent","computed","name","params","cluster","product","methods","query","component"],"mappings":"4IAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACE,YAAY,OAAO,CAACN,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIS,aAAa,OAAST,EAAIU,QAAQC,OAA6UX,EAAIY,KAAzUR,EAAG,SAAS,CAACS,MAAM,CAAC,MAAQb,EAAIc,EAAE,0BAA0B,MAAQ,SAAS,CAACV,EAAG,MAAM,CAACJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIc,EAAE,4BAA4B,KAAKV,EAAG,YAAY,CAACS,MAAM,CAAC,GAAKb,EAAIe,kBAAkB,CAACf,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIc,EAAE,2BAA2B,OAAOV,EAAG,MAAMJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIc,EAAE,2BAA2B,MAAM,KAAcV,EAAG,iBAAiB,CAACS,MAAM,CAAC,KAAOb,EAAIgB,KAAK,YAAYhB,EAAIiB,SAAS,aAAa,YAAYC,GAAG,CAAC,QAAU,SAAUC,GAAO,OAAOnB,EAAIoB,KAAKD,EAAIE,SAAW,IAC7qBC,EAAkB,G,iICOP,GACfC,YAAAC,sBAAAC,eAEAC,UAHA,YAGA,gIAAAC,uBAAA,SACAC,kBADA,cACAC,EADA,OAGA,mBACAC,qBAJA,kBAOA,CAAAC,oBAAArB,oBAPA,8CAUAsB,KAbA,WAcA,yBACA,sBACA,uBACA,iCACA,iCACA,kCAEA,OACAC,WACAC,SACAC,mBACAC,mBAGAL,gBAIAM,UACArB,KADA,WAEA,kEAGAP,YALA,WAMA,gEAGAM,gBATA,WAUA,OACAuB,kCACAC,QACAC,mCAAAC,eAAAR,yBAMAS,SACAzB,SADA,SACAE,GACA,qCAEA,0BAEA,aACA,SAGA,qBAGAC,KAbA,SAaAC,GACA,mBACAiB,gCACAC,QAAAlB,MACAsB,4CC5E2X,I,YCOvXC,EAAY,eACd,EACA7C,EACAuB,GACA,EACA,KACA,KACA,MAIa,aAAAsB,E","file":"js/pages/c/_cluster/auth/config/index.a444af44.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticClass:\"m-0\"},[_vm._v(\" \"+_vm._s(_vm.displayName)+\" \")]),(!_vm.enabled.length)?_c('Banner',{attrs:{\"label\":_vm.t('authConfig.noneEnabled'),\"color\":\"info\"}},[_c('div',[_vm._v(\" \"+_vm._s(_vm.t('authConfig.localEnabled'))+\" \"),_c('nuxt-link',{attrs:{\"to\":_vm.localUsersRoute}},[_vm._v(\" \"+_vm._s(_vm.t('authConfig.manageLocal'))+\" \")]),_c('br'),_vm._v(\" \"+_vm._s(_vm.t('authConfig.noneEnabled'))+\" \")],1)]):_vm._e(),_c('SelectIconGrid',{attrs:{\"rows\":_vm.rows,\"color-for\":_vm.colorFor,\"name-field\":\"provider\"},on:{\"clicked\":function (row) { return _vm.goTo(row.id); }}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { MANAGEMENT } from '@shell/config/types';\nimport SelectIconGrid from '@shell/components/SelectIconGrid';\nimport { sortBy } from '@shell/utils/sort';\nimport { MODE, _EDIT } from '@shell/config/query-params';\nimport { authProvidersInfo } from '@shell/utils/auth';\nimport { Banner } from '@components/Banner';\n\nexport default {\n  components: { SelectIconGrid, Banner },\n\n  async asyncData({ store, redirect }) {\n    const authProvs = await authProvidersInfo(store);\n\n    if (!!authProvs.enabledLocation) {\n      redirect(authProvs.enabledLocation);\n    }\n\n    return { nonLocal: authProvs.nonLocal, enabled: authProvs.enabled };\n  },\n\n  data() {\n    const resource = MANAGEMENT.AUTH_CONFIG;\n    const getters = this.$store.getters;\n    const inStore = getters['currentStore'](resource);\n    const hasListComponent = getters['type-map/hasCustomList'](resource);\n    const hasEditComponent = getters['type-map/hasCustomEdit'](resource);\n    const schema = getters[`${ inStore }/schemaFor`](resource);\n\n    return {\n      resource,\n      schema,\n      hasListComponent,\n      hasEditComponent,\n\n      // Provided by asyncData later\n      nonLocal: null,\n    };\n  },\n\n  computed: {\n    rows() {\n      return sortBy(this.nonLocal, ['sideLabel', 'nameDisplay']);\n    },\n\n    displayName() {\n      return this.$store.getters['type-map/labelFor'](this.schema, 2);\n    },\n\n    localUsersRoute() {\n      return {\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster: this.$route.params.cluster, product: 'auth', resource: MANAGEMENT.USER\n        }\n      };\n    },\n  },\n\n  methods: {\n    colorFor(row) {\n      const types = ['ldap', 'oauth', 'saml', 'oidc'];\n\n      const idx = types.indexOf(row.configType);\n\n      if ( idx === -1 ) {\n        return 'color8';\n      }\n\n      return `color${ idx + 1 }`;\n    },\n\n    goTo(id) {\n      this.$router.push({\n        name:   'c-cluster-auth-config-id',\n        params: { id },\n        query:  { [MODE]: _EDIT }\n      });\n    },\n  }\n};\n</script>\n\n<template>\n  <div>\n    <h1 class=\"m-0\">\n      {{ displayName }}\n    </h1>\n    <Banner\n      v-if=\"!enabled.length\"\n      :label=\"t('authConfig.noneEnabled')\"\n      color=\"info\"\n    >\n      <div>\n        {{ t('authConfig.localEnabled') }}\n        <nuxt-link :to=\"localUsersRoute\">\n          {{ t('authConfig.manageLocal') }}\n        </nuxt-link>\n        <br>\n        {{ t('authConfig.noneEnabled') }}\n      </div>\n    </Banner>\n    <SelectIconGrid\n      :rows=\"rows\"\n      :color-for=\"colorFor\"\n      name-field=\"provider\"\n      @clicked=\"(row) => goTo(row.id)\"\n    />\n  </div>\n</template>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3db45f0a&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}