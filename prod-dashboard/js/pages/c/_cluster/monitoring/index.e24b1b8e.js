(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/c/_cluster/monitoring/index"],{"295b":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("header",{staticClass:"row"},[r("div",{staticClass:"col span-12"},[r("h1",[r("t",{attrs:{k:"monitoring.overview.title"}})],1),r("div",[r("t",{attrs:{k:"monitoring.overview.subtitle",raw:!0}})],1)])]),r("div",[e.v1Installed?r("Banner",{attrs:{color:"warning"},scopedSlots:e._u([{key:"default",fn:function(){return[r("t",{attrs:{k:"monitoring.v1Warning",raw:!0}})]},proxy:!0}],null,!1,1527155515)}):e._e(),r("div",{staticClass:"create-resource-container"},[r("div",{staticClass:"subtypes-container"},e._l(e.externalLinks,(function(t){return r("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.enabled?void 0:e.t("monitoring.overview.linkedList.na"),expression:"\n            !fel.enabled ? t('monitoring.overview.linkedList.na') : undefined\n          "}],key:t.label,class:{"subtype-banner":!0,disabled:!t.enabled},attrs:{href:t.enabled?t.link:void 0,disabled:!t.enabled,target:"_blank",rel:"noopener noreferrer"}},[r("div",{staticClass:"subtype-content"},[r("div",{staticClass:"title"},[r("div",{staticClass:"subtype-logo round-image"},[r("LazyImage",{attrs:{src:t.iconSrc}})],1),r("h5",[r("span",[r("t",{attrs:{k:t.label}})],1)]),e._m(0,!0)]),r("hr"),r("div",{staticClass:"description"},[r("span",[r("t",{attrs:{k:t.description}})],1)])])])})),0)])],1),r("div",[r("SimpleBox",{staticClass:"mt-30",attrs:{title:e.t("monitoring.overview.alertsList.label")}},[r("AlertTable")],1)],1)])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex-right"},[r("i",{staticClass:"icon icon-external-link"})])}],i=r("1da1"),s=(r("cf99"),r("8be0"),r("38aa"),r("a34a")),o=r.n(s),c=(r("96cf"),r("13ea")),l=r.n(c),u=r("8495"),p=r("d458"),d=r("fe7f"),m=r("a788"),v=r("fa98"),b=r("f303"),g=r("bec1"),h=r("bc1c"),f=r("8af7"),k=r("ec09"),w="cattle-monitoring-system",x={components:{Banner:g["a"],LazyImage:h["a"],SimpleBox:f["a"],AlertTable:p["a"]},middleware:Object(u["a"])(d["NAME"],d["CHART_NAME"]),fetch:function(){var e=this;return Object(i["a"])(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchDeps();case 2:case"end":return t.stop()}}),t)})))()},data:function(){var e=r("5d49"),t=r("d703"),n=this.$store.getters["currentCluster"];return{availableLinks:{alertmanager:!1,grafana:!1,prometheus:!1},resources:[m["z"].ALERTMANAGER,m["z"].PROMETHEUS],v1Installed:!1,externalLinks:[{enabled:!1,group:"alertmanager",iconSrc:t,label:"monitoring.overview.linkedList.alertManager.label",description:"monitoring.overview.linkedList.alertManager.description",link:"/k8s/clusters/".concat(n.id,"/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-alertmanager:9093/proxy")},{enabled:!1,group:"grafana",iconSrc:e,label:"monitoring.overview.linkedList.grafana.label",description:"monitoring.overview.linkedList.grafana.description",link:"/k8s/clusters/".concat(n.id,"/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy")},{enabled:!1,group:"prometheus",iconSrc:t,label:"monitoring.overview.linkedList.prometheusPromQl.label",description:"monitoring.overview.linkedList.prometheusPromQl.description",link:"/k8s/clusters/".concat(n.id,"/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-prometheus:9090/proxy/graph")},{enabled:!1,group:"prometheus",iconSrc:t,label:"monitoring.overview.linkedList.prometheusRules.label",description:"monitoring.overview.linkedList.prometheusRules.description",link:"/k8s/clusters/".concat(n.id,"/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-prometheus:9090/proxy/rules")},{enabled:!1,group:"prometheus",iconSrc:t,label:"monitoring.overview.linkedList.prometheusTargets.label",description:"monitoring.overview.linkedList.prometheusTargets.description",link:"/k8s/clusters/".concat(n.id,"/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-prometheus:9090/proxy/targets")}]}},methods:{fetchDeps:function(){var e=this;return Object(i["a"])(o.a.mark((function t(){var r,n,a,i,s,c,u,p,d;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$store,n=e.externalLinks,t.next=3,Object(k["b"])(r);case 3:return e.v1Installed=t.sent,t.next=6,Object(v["a"])({endpoints:r.dispatch("cluster/findAll",{type:m["l"]})});case 6:a=t.sent,l()(a.endpoints)||(i=Object(b["e"])(n,"group","alertmanager"),s=Object(b["e"])(n,"group","grafana"),c=n.filter((function(e){return"prometheus"===e.group})),u=Object(b["e"])(a.endpoints,"id","".concat(w,"/rancher-monitoring-alertmanager")),p=Object(b["e"])(a.endpoints,"id","".concat(w,"/rancher-monitoring-grafana")),d=Object(b["e"])(a.endpoints,"id","".concat(w,"/rancher-monitoring-prometheus")),l()(u)||l()(u.subsets)||(i.enabled=!0),l()(p)||l()(p.subsets)||(s.enabled=!0),l()(d)||l()(d.subsets)||c.forEach((function(e){e.enabled=!0})));case 8:case"end":return t.stop()}}),t)})))()}}},y=x,L=(r("8bc1"),r("0c7c")),j=Object(L["a"])(y,n,a,!1,null,"0d612a04",null);t["default"]=j.exports},8495:function(e,t,r){"use strict";var n=r("ade3"),a=r("53ca"),i=r("1da1"),s=r("a34a"),o=r.n(s),c=(r("96cf"),r("fa3b"));t["a"]=function(e,t,r){var s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){var l=Object(i["a"])(o.a.mark((function i(l){var u,p,d,m,v,b;return o.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(p=l.redirect,d=l.store,m=(null===(u=d.getters["currentCluster"])||void 0===u?void 0:u.id)||"local",!d.getters["type-map/isProductActive"](e)){i.next=9;break}if(!r){i.next=7;break}if("object"!==Object(a["a"])(r)){i.next=6;break}return i.abrupt("return",p(r));case 6:return i.abrupt("return",p({name:"c-cluster-product-resource",params:{cluster:m,product:e,resource:r}}));case 7:i.next=21;break;case 9:if(!s){i.next=20;break}return i.next=12,d.dispatch("catalog/load",{force:!0});case 12:if(v=d.getters["catalog/chart"]({chartName:t}),!v){i.next=17;break}return i.abrupt("return",p({name:"c-cluster-apps-charts-chart",params:{cluster:m},query:(b={},Object(n["a"])(b,c["z"],v.repoType),Object(n["a"])(b,c["y"],v.repoName),Object(n["a"])(b,c["d"],v.chartName),Object(n["a"])(b,c["G"],v.versions[0].version),b)}));case 17:d.dispatch("loadingError","Chart not found for ".concat(e));case 18:i.next=21;break;case 20:return i.abrupt("return",p({name:"c-cluster-explorer",params:{cluster:m}}));case 21:case"end":return i.stop()}}),i)})));function u(e){return l.apply(this,arguments)}return u}()}},"8bc1":function(e,t,r){"use strict";r("9651")},9651:function(e,t,r){}}]);
//# sourceMappingURL=index.e24b1b8e.js.map