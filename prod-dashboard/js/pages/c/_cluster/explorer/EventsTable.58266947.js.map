{"version":3,"sources":["webpack:///./shell/pages/c/_cluster/explorer/explorer-utils.js","webpack:///./shell/pages/c/_cluster/explorer/EventsTable.vue?5c80","webpack:///shell/pages/c/_cluster/explorer/EventsTable.vue","webpack:///./shell/pages/c/_cluster/explorer/EventsTable.vue?273b","webpack:///./shell/pages/c/_cluster/explorer/EventsTable.vue"],"names":["fetchClusterResources","store","type","a","opt","schema","getters","dispatch","resources","console","error","render","_vm","this","_h","$createElement","_c","_self","attrs","$fetchState","pending","events","eventHeaders","staticRenderFns","components","SortableTable","fetch","data","REASON","canBeVariable","width","reason","OBJECT","MESSAGE","NAME","name","label","labelKey","value","sort","formatter","defaultSort","component"],"mappings":"gSAAO,SAAeA,EAAtB,oC,+CAAO,WAAqCC,EAAOC,GAA5C,+BAAAC,EAAA,0DAAkDC,EAAlD,+BAAwD,GACvDC,EAASJ,EAAMK,QAAQ,qBAAqBJ,IAE9CG,EAHC,0CAKuBJ,EAAMM,SAAS,kBAAmB,CAAEL,OAAME,QALjE,cAKKI,EALL,yBAOMA,GAPN,4CASDC,QAAQC,MAAR,2CAAmDR,EAAnD,sBATC,kBAWM,IAXN,iCAeE,IAfF,0D,mECAP,IAAIS,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,gBAAgB,CAACE,MAAM,CAAC,QAAUN,EAAIO,YAAYC,QAAQ,KAAOR,EAAIS,OAAO,QAAUT,EAAIU,aAAa,YAAY,KAAK,QAAS,EAAM,iBAAgB,EAAM,eAAc,EAAM,QAAS,EAAK,gBAAgB,GAAG,kBAAkB,WACnUC,EAAkB,G,6vBCMP,OACfC,YAAAC,sBAEAC,MAHA,WAGA,0IACA1B,oDADA,OACA,SADA,qDAIA2B,KAPA,WAQA,eACAC,SACA,CAAAC,mBAFA,IAGAC,YAGA,GACAC,EACAC,QACAC,OACAC,OACA,CACAC,YACAC,aACAC,uDACAC,kBACAC,sBACAC,iBACAV,UACAW,iBAIA,OACApB,UACAC,kBCxCqX,I,YCOjXoB,EAAY,eACd,EACA/B,EACAY,GACA,EACA,KACA,KACA,MAIa,aAAAmB,E","file":"js/pages/c/_cluster/explorer/EventsTable.58266947.js","sourcesContent":["export async function fetchClusterResources(store, type, opt = {}) {\n  const schema = store.getters['cluster/schemaFor'](type);\n\n  if (schema) {\n    try {\n      const resources = await store.dispatch('cluster/findAll', { type, opt });\n\n      return resources;\n    } catch (err) {\n      console.error(`Failed fetching cluster resource ${ type } with error:`, err); // eslint-disable-line no-console\n\n      return [];\n    }\n  }\n\n  return [];\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('SortableTable',{attrs:{\"loading\":_vm.$fetchState.pending,\"rows\":_vm.events,\"headers\":_vm.eventHeaders,\"key-field\":\"id\",\"search\":false,\"table-actions\":false,\"row-actions\":false,\"paging\":true,\"rows-per-page\":10,\"default-sort-by\":\"date\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\n\nimport SortableTable from '@shell/components/SortableTable';\nimport { MESSAGE, NAME, OBJECT, REASON } from '@shell/config/table-headers';\nimport { EVENT } from '@shell/config/types';\nimport { fetchClusterResources } from './explorer-utils';\n\nexport default {\n  components: { SortableTable },\n\n  async fetch() {\n    this.events = await fetchClusterResources(this.$store, EVENT);\n  },\n\n  data() {\n    const reason = {\n      ...REASON,\n      ...{ canBeVariable: true },\n      width: 130,\n    };\n\n    const eventHeaders = [\n      reason,\n      OBJECT,\n      MESSAGE,\n      NAME,\n      {\n        name:        'date',\n        label:       'Date',\n        labelKey:    'clusterIndexPage.sections.events.date.label',\n        value:       'timestamp',\n        sort:        'timestamp:desc',\n        formatter:   'Date',\n        width:       220,\n        defaultSort: true,\n      },\n    ];\n\n    return {\n      events: [],\n      eventHeaders,\n    };\n  }\n};\n</script>\n\n<template>\n  <SortableTable\n    :loading=\"$fetchState.pending\"\n    :rows=\"events\"\n    :headers=\"eventHeaders\"\n    key-field=\"id\"\n    :search=\"false\"\n    :table-actions=\"false\"\n    :row-actions=\"false\"\n    :paging=\"true\"\n    :rows-per-page=\"10\"\n    default-sort-by=\"date\"\n  />\n</template>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EventsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./EventsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventsTable.vue?vue&type=template&id=79a8eb4e&\"\nimport script from \"./EventsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./EventsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}