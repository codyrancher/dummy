{"version":3,"sources":["webpack:///./shell/pages/c/_cluster/uiplugins/RemoveUIPlugins.vue?b3cf","webpack:///shell/pages/c/_cluster/uiplugins/RemoveUIPlugins.vue","webpack:///./shell/pages/c/_cluster/uiplugins/RemoveUIPlugins.vue?c9dc","webpack:///./shell/pages/c/_cluster/uiplugins/RemoveUIPlugins.vue","webpack:///./shell/pages/c/_cluster/uiplugins/index.vue?f150","webpack:///shell/pages/c/_cluster/uiplugins/index.vue","webpack:///./shell/pages/c/_cluster/uiplugins/index.vue?fcc3","webpack:///./shell/pages/c/_cluster/uiplugins/index.vue","webpack:///./shell/pages/c/_cluster/uiplugins/InstallDialog.vue?9a96","webpack:///shell/pages/c/_cluster/uiplugins/InstallDialog.vue","webpack:///./shell/pages/c/_cluster/uiplugins/InstallDialog.vue?bccb","webpack:///./shell/pages/c/_cluster/uiplugins/InstallDialog.vue","webpack:///./shell/components/Dialog.vue?0a1a","webpack:///./shell/pages/c/_cluster/uiplugins/PluginInfoPanel.vue?4494","webpack:///./shell/assets/images/generic-plugin.svg","webpack:///./shell/pages/c/_cluster/uiplugins/UninstallDialog.vue?0399","webpack:///./shell/pages/c/_cluster/uiplugins/UninstallDialog.vue?6ed9","webpack:///shell/pages/c/_cluster/uiplugins/UninstallDialog.vue","webpack:///./shell/pages/c/_cluster/uiplugins/UninstallDialog.vue?c103","webpack:///./shell/pages/c/_cluster/uiplugins/UninstallDialog.vue","webpack:///./shell/pages/c/_cluster/uiplugins/DeveloperInstallDialog.vue?1ffb","webpack:///shell/pages/c/_cluster/uiplugins/DeveloperInstallDialog.vue","webpack:///./shell/pages/c/_cluster/uiplugins/DeveloperInstallDialog.vue?6b6d","webpack:///./shell/pages/c/_cluster/uiplugins/DeveloperInstallDialog.vue","webpack:///./shell/pages/c/_cluster/uiplugins/index.vue?921e","webpack:///./shell/pages/c/_cluster/uiplugins/DeveloperInstallDialog.vue?e5c5","webpack:///./shell/pages/c/_cluster/uiplugins/PluginInfoPanel.vue?7b15","webpack:///shell/pages/c/_cluster/uiplugins/PluginInfoPanel.vue","webpack:///./shell/pages/c/_cluster/uiplugins/PluginInfoPanel.vue?389e","webpack:///./shell/pages/c/_cluster/uiplugins/PluginInfoPanel.vue","webpack:///./shell/pages/c/_cluster/uiplugins/SetupUIPlugins.vue?d027","webpack:///shell/pages/c/_cluster/uiplugins/SetupUIPlugins.vue","webpack:///./shell/pages/c/_cluster/uiplugins/SetupUIPlugins.vue?51fc","webpack:///./shell/pages/c/_cluster/uiplugins/SetupUIPlugins.vue","webpack:///./shell/pages/c/_cluster/uiplugins/RemoveUIPlugins.vue?dbfd","webpack:///./shell/pages/c/_cluster/uiplugins/InstallDialog.vue?1044","webpack:///./shell/components/Dialog.vue?4be5","webpack:///shell/components/Dialog.vue","webpack:///./shell/components/Dialog.vue?0d6a","webpack:///./shell/components/Dialog.vue","webpack:///./shell/pages/c/_cluster/uiplugins/SetupUIPlugins.vue?9fad"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","t","on","doRemove","_v","_s","defaultRepo","staticClass","model","value","callback","$$v","removeRepo","expression","_e","removeCRD","staticRenderFns","components","Checkbox","Dialog","fetch","type","opt","force","repos","plugins","data","errors","hasPluginsInstalled","methods","removeChart","name","apps","found","Promise","showDialog","btnCb","uninstall","i","chart","component","$event","reload","hasService","hasMenuActions","ref","setMenu","menuActions","menuOpen","menuTargetElement","menuTargetEvent","showDeveloperLoaddDialog","removePluginSupport","manageRepos","filterChanged","updates","length","class","list","emptyMessage","_l","plugin","key","showPluginDetail","applyDarkModeBg","defaultIcon","icon","label","description","displayVersion","directives","rawName","upgrade","incompatibleDisclaimer","certified","installing","builtin","showUninstallDialog","showInstallDialog","installableVersions","updateInstallStatus","didInstall","updatePluginInstallStatus","didUninstall","ActionMenu","DeveloperInstallDialog","IconMessage","InstallDialog","LazyImage","PluginInfoPanel","Tab","Tabbed","UninstallDialog","SetupUIPlugins","RemoveUIPlugins","view","charts","helmOps","loading","reloadRequired","rancherVersion","layout","hash","isSetup","allHash","res","c","computed","pluginDeveloper","mapGetters","uiplugins","uiErrors","theme","action","enabled","divider","available","all","id","versions","installed","experimental","item","version","uiplugin","Object","watch","neu","pluginOps","Vue","old","changes","beforeDestroy","service","f","mode","ev","error","status","event","params","cluster","product","resource","versionOptions","busy","closeDialog","buttonMode","install","AsyncButton","Banner","LabeledSelect","currentVersion","defaultRegistrySetting","update","showVersionSelector","result","isRancherImage","repoType","repoName","chartName","versionName","chartVersionInfo","image","exists","app","repo","releaseName","annotations","CATALOG_ANNOTATIONS","values","defaultRegistry","input","namespace","operationId","title","message","timeout","root","module","exports","pluginApp","updateLocation","location","updateName","persist","loadPlugin","LabeledInput","canModifyName","canModifyLocation","last","index","v","url","parts","n","crdName","metadata","spec","endpoint","noCache","developer","direct","pluginCR","method","console","catch","style","headerBannerSize","hide","showSlideIn","info","requiredUiVersion","infoVersion","isCompatibleWithUi","loadPluginVersionInfo","versionInfo","bannerSetting","JSON","showHeader","bannerHeader","headerBannerFontSize","Number","ChartReadme","versionError","show","isVersionNotCompatibleWithUi","scopedSlots","_u","fn","haveCharts","buttonState","enable","e","proxy","dialogClosed","hasRancherUIPluginsRepo","addRepo","UI_PLUGIN_CHARTS","installCharts","installChart","wait","ok","addDefaultHelmRepository","UI_PLUGINS_REPO_NAME","gitBranch","gitRepo","installPluginCharts","beforeOpen","_t","$slots","buttons","props","required","default","closed"],"mappings":"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","file":"js/pages/c/_cluster/uiplugins/index.3d27101d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{attrs:{\"name\":\"confirm-uiplugins-remove\",\"title\":_vm.t('plugins.setup.remove.title'),\"mode\":\"disable\",\"data-testid\":\"disable-ext-modal\"},on:{\"okay\":_vm.doRemove}},[[_c('p',[_vm._v(\" \"+_vm._s(_vm.t('plugins.setup.remove.prompt'))+\" \")]),(!!_vm.defaultRepo)?_c('div',{staticClass:\"mt-20\"},[_c('Checkbox',{attrs:{\"primary\":true,\"label-key\":\"plugins.setup.remove.registry.title\",\"data-testid\":\"disable-ext-modal-remove-repo\"},model:{value:(_vm.removeRepo),callback:function ($$v) {_vm.removeRepo=$$v},expression:\"removeRepo\"}}),_c('div',{staticClass:\"checkbox-info\"},[_vm._v(\" \"+_vm._s(_vm.t('plugins.setup.remove.registry.prompt'))+\" \")])],1):_vm._e(),(_vm.hasPluginsInstalled)?_c('div',{staticClass:\"mt-20\"},[_c('Checkbox',{attrs:{\"primary\":true,\"label-key\":\"plugins.setup.remove.crd.title\"},model:{value:(_vm.removeCRD),callback:function ($$v) {_vm.removeCRD=$$v},expression:\"removeCRD\"}}),_c('div',{staticClass:\"checkbox-info\"},[_vm._v(\" \"+_vm._s(_vm.t('plugins.setup.remove.crd.prompt'))+\" \")])],1):_vm._e()]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { CATALOG, UI_PLUGIN } from '@shell/config/types';\nimport Dialog from '@shell/components/Dialog.vue';\nimport Checkbox from '@components/Form/Checkbox/Checkbox.vue';\nimport {\n  UI_PLUGIN_NAMESPACE,\n  UI_PLUGIN_CHARTS,\n  UI_PLUGINS_REPO_NAME,\n  UI_PLUGINS_REPO_URL,\n  UI_PLUGIN_OPERATOR_CRD_CHART_NAME,\n} from '@shell/config/uiplugins';\n\nexport default {\n  components: {\n    Checkbox,\n    Dialog,\n  },\n\n  async fetch() {\n    if (this.$store.getters['management/schemaFor'](CATALOG.CLUSTER_REPO)) {\n      const repos = await this.$store.dispatch('management/findAll', { type: CATALOG.CLUSTER_REPO, opt: { force: true } });\n\n      this.defaultRepo = repos.find(r => r.name === UI_PLUGINS_REPO_NAME && r.spec.gitRepo === UI_PLUGINS_REPO_URL);\n    }\n\n    if (this.$store.getters['management/schemaFor'](UI_PLUGIN)) {\n      const plugins = await this.$store.dispatch('management/findAll', { type: UI_PLUGIN });\n\n      // Are there any plugins installed?\n      this.hasPluginsInstalled = (plugins || []).length > 0;\n      this.removeCRD = !this.hasPluginsInstalled;\n    }\n  },\n\n  data() {\n    return {\n      errors:              [],\n      defaultRepo:         undefined,\n      removeRepo:          false,\n      removeCRD:           true,\n      hasPluginsInstalled: false,\n    };\n  },\n\n  methods: {\n    async removeChart(name) {\n      const apps = await this.$store.dispatch('management/findAll', { type: CATALOG.APP });\n      const found = apps.find((app) => {\n        return app.namespace === UI_PLUGIN_NAMESPACE && app.name === name;\n      });\n\n      if (found) {\n        return found.remove();\n      }\n\n      // Return rejected promise - could not find the required chart\n      return Promise.reject(new Error(`Could not find chart §{ name }`));\n    },\n\n    showDialog() {\n      this.removeRepo = !!this.defaultRepo;\n      this.$modal.show('confirm-uiplugins-remove');\n    },\n\n    async doRemove(btnCb) {\n      this.errors = [];\n\n      // Remove the charts in the reverse order that we install them in\n      let uninstall = [...UI_PLUGIN_CHARTS].reverse();\n\n      if (!this.removeCRD) {\n        // User does not want to uninstall the CRD, so remove the chart\n        uninstall = uninstall.filter(chart => chart !== UI_PLUGIN_OPERATOR_CRD_CHART_NAME);\n      }\n\n      for (let i = 0; i < uninstall.length; i++) {\n        const chart = uninstall[i];\n\n        try {\n          await this.removeChart(chart);\n        } catch (e) {\n          this.errors.push(e.message);\n        }\n      }\n\n      if (this.removeRepo && this.defaultRepo) {\n        try {\n          await this.defaultRepo.remove();\n        } catch (e) {\n          this.errors.push(e.message);\n        }\n      }\n\n      this.$store.dispatch('management/forgetType', UI_PLUGIN);\n\n      await new Promise(resolve => setTimeout(resolve, 5000));\n\n      this.$emit('done');\n\n      btnCb(true);\n    },\n  }\n};\n</script>\n<template>\n  <Dialog\n    name=\"confirm-uiplugins-remove\"\n    :title=\"t('plugins.setup.remove.title')\"\n    mode=\"disable\"\n    data-testid=\"disable-ext-modal\"\n    @okay=\"doRemove\"\n  >\n    <template>\n      <p>\n        {{ t('plugins.setup.remove.prompt') }}\n      </p>\n      <div\n        v-if=\"!!defaultRepo\"\n        class=\"mt-20\"\n      >\n        <Checkbox\n          v-model=\"removeRepo\"\n          :primary=\"true\"\n          label-key=\"plugins.setup.remove.registry.title\"\n          data-testid=\"disable-ext-modal-remove-repo\"\n        />\n        <div class=\"checkbox-info\">\n          {{ t('plugins.setup.remove.registry.prompt') }}\n        </div>\n      </div>\n      <div\n        v-if=\"hasPluginsInstalled\"\n        class=\"mt-20\"\n      >\n        <Checkbox\n          v-model=\"removeCRD\"\n          :primary=\"true\"\n          label-key=\"plugins.setup.remove.crd.title\"\n        />\n        <div class=\"checkbox-info\">\n          {{ t('plugins.setup.remove.crd.prompt') }}\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n<style lang=\"scss\" scoped>\n  .enable-plugin-support {\n    font-size: 14px;\n    margin-top: 20px;\n  }\n\n  .plugin-setup-error {\n    font-size: 14px;\n    color: var(--error);\n    margin: 10px 0 0 0;\n  }\n\n  .checkbox-info {\n    margin-left: 20px;\n    opacity: 0.7;\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveUIPlugins.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveUIPlugins.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RemoveUIPlugins.vue?vue&type=template&id=e4a36550&scoped=true&\"\nimport script from \"./RemoveUIPlugins.vue?vue&type=script&lang=js&\"\nexport * from \"./RemoveUIPlugins.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RemoveUIPlugins.vue?vue&type=style&index=0&id=e4a36550&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e4a36550\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"plugins\"},[_c('div',{staticClass:\"plugin-header\"},[_c('h2',{attrs:{\"data-testid\":\"extensions-page-title\"}},[_vm._v(\" \"+_vm._s(_vm.t('plugins.title'))+\" \")]),(_vm.reloadRequired)?_c('div',{staticClass:\"plugin-reload-banner mr-20\",attrs:{\"data-testid\":\"extension-reload-banner\"}},[_c('i',{staticClass:\"icon icon-checkmark mr-10\"}),_c('span',[_vm._v(\" \"+_vm._s(_vm.t('plugins.reload'))+\" \")]),_c('button',{staticClass:\"ml-10 btn btn-sm role-primary\",attrs:{\"data-testid\":\"extension-reload-banner-reload-btn\"},on:{\"click\":function($event){return _vm.reload()}}},[_vm._v(\" \"+_vm._s(_vm.t('generic.reload'))+\" \")])]):_vm._e(),(_vm.hasService && _vm.hasMenuActions)?_c('button',{ref:\"actions\",staticClass:\"btn actions role-secondary\",attrs:{\"aria-haspopup\":\"true\",\"type\":\"button\",\"data-testid\":\"extensions-page-menu\"},on:{\"click\":_vm.setMenu}},[_c('i',{staticClass:\"icon icon-actions\"})]):_vm._e(),(_vm.hasService && _vm.hasMenuActions)?_c('ActionMenu',{attrs:{\"custom-actions\":_vm.menuActions,\"open\":_vm.menuOpen,\"use-custom-target-element\":true,\"custom-target-element\":_vm.menuTargetElement,\"custom-target-event\":_vm.menuTargetEvent},on:{\"close\":function($event){return _vm.setMenu(false)},\"devLoad\":_vm.showDeveloperLoaddDialog,\"removePluginSupport\":_vm.removePluginSupport,\"manageRepos\":_vm.manageRepos}}):_vm._e()],1),_c('PluginInfoPanel',{ref:\"infoPanel\"}),(!_vm.hasService)?_c('div',[(_vm.loading)?_c('div',{staticClass:\"data-loading\"},[_c('i',{staticClass:\"icon-spin icon icon-spinner\"}),_c('t',{attrs:{\"k\":\"generic.loading\",\"raw\":true}})],1):_c('SetupUIPlugins',{staticClass:\"setup-message\",on:{\"done\":_vm.updateInstallStatus}})],1):_c('div',[_c('Tabbed',{ref:\"tabs\",attrs:{\"tabs-only\":true,\"data-testid\":\"extension-tabs\"},on:{\"changed\":_vm.filterChanged}},[_c('Tab',{attrs:{\"name\":\"installed\",\"data-testid\":\"extension-tab-installed\",\"label-key\":\"plugins.tabs.installed\",\"weight\":20}}),_c('Tab',{attrs:{\"name\":\"available\",\"data-testid\":\"extension-tab-available\",\"label-key\":\"plugins.tabs.available\",\"weight\":19}}),_c('Tab',{attrs:{\"name\":\"updates\",\"label-key\":\"plugins.tabs.updates\",\"weight\":18,\"badge\":_vm.updates.length}}),_c('Tab',{attrs:{\"name\":\"all\",\"label-key\":\"plugins.tabs.all\",\"weight\":17}})],1),(_vm.loading)?_c('div',{staticClass:\"data-loading\"},[_c('i',{staticClass:\"icon-spin icon icon-spinner\"}),_c('t',{attrs:{\"k\":\"generic.loading\",\"raw\":true}})],1):_c('div',{staticClass:\"plugin-list\",class:{'v-margin': !_vm.list.length}},[(_vm.list.length === 0)?_c('IconMessage',{attrs:{\"vertical\":true,\"subtle\":true,\"icon\":\"icon-extension\",\"message\":_vm.emptyMessage}}):_vm._l((_vm.list),function(plugin){return _c('div',{key:plugin.name,staticClass:\"plugin\",attrs:{\"data-testid\":(\"extension-card-\" + (plugin.name))},on:{\"click\":function($event){return _vm.showPluginDetail(plugin)}}},[_c('div',{staticClass:\"plugin-icon\",class:_vm.applyDarkModeBg},[(plugin.icon)?_c('LazyImage',{staticClass:\"icon plugin-icon-img\",attrs:{\"initial-src\":_vm.defaultIcon,\"error-src\":_vm.defaultIcon,\"src\":plugin.icon}}):_c('img',{staticClass:\"icon plugin-icon-img\",attrs:{\"src\":_vm.defaultIcon}})],1),_c('div',{staticClass:\"plugin-metadata\"},[_c('div',{staticClass:\"plugin-name\"},[_vm._v(\" \"+_vm._s(plugin.label)+\" \")]),_c('div',[_vm._v(_vm._s(plugin.description))]),_c('div',{staticClass:\"plugin-version\"},[(plugin.installing)?_c('span',{staticClass:\"plugin-installing\"},[_vm._v(\" - \")]):_c('span',[_c('span',[_vm._v(_vm._s(plugin.displayVersion))]),(plugin.upgrade)?_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('plugins.upgradeAvailable')),expression:\"t('plugins.upgradeAvailable')\"}]},[_vm._v(\" -> \"+_vm._s(plugin.upgrade))]):_vm._e(),(plugin.incompatibleDisclaimer)?_c('p',{staticClass:\"incompatible\"},[_vm._v(_vm._s(plugin.incompatibleDisclaimer))]):_vm._e()])]),(plugin.builtin)?_c('div',{staticClass:\"plugin-badges\"},[_c('div',{staticClass:\"plugin-builtin\"},[_vm._v(\" \"+_vm._s(_vm.t('plugins.labels.builtin'))+\" \")])]):_c('div',{staticClass:\"plugin-badges\"},[(!plugin.certified)?_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('plugins.descriptions.third-party')),expression:\"t('plugins.descriptions.third-party')\"}]},[_vm._v(\" \"+_vm._s(_vm.t('plugins.labels.third-party'))+\" \")]):_vm._e(),(plugin.experimental)?_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('plugins.descriptions.experimental')),expression:\"t('plugins.descriptions.experimental')\"}]},[_vm._v(\" \"+_vm._s(_vm.t('plugins.labels.experimental'))+\" \")]):_vm._e()]),_c('div',{staticClass:\"plugin-spacer\"}),_c('div',{staticClass:\"plugin-actions\"},[(plugin.error)?[_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(plugin.error),expression:\"plugin.error\"}],staticClass:\"plugin-error\"},[_c('i',{staticClass:\"icon icon-warning\"})])]:_vm._e(),(plugin.helmError)?_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('plugins.helmError')),expression:\"t('plugins.helmError')\"}],staticClass:\"plugin-error\"},[_c('i',{staticClass:\"icon icon-warning\"})]):_vm._e(),_c('div',{staticClass:\"plugin-spacer\"}),(plugin.installing)?_c('div',{staticClass:\"plugin-installing\"},[_c('i',{staticClass:\"version-busy icon icon-spin icon-spinner\"}),(plugin.installing ==='install')?_c('div',[_vm._v(\" \"+_vm._s(_vm.t('plugins.labels.installing'))+\" \")]):_c('div',[_vm._v(\" \"+_vm._s(_vm.t('plugins.labels.uninstalling'))+\" \")])]):(plugin.installed)?_c('div',{staticClass:\"plugin-buttons\"},[(!plugin.builtin)?_c('button',{staticClass:\"btn role-secondary\",attrs:{\"data-testid\":(\"extension-card-uninstall-btn-\" + (plugin.name))},on:{\"click\":function($event){return _vm.showUninstallDialog(plugin, $event)}}},[_vm._v(\" \"+_vm._s(_vm.t('plugins.uninstall.label'))+\" \")]):_vm._e(),(plugin.upgrade)?_c('button',{staticClass:\"btn role-secondary\",attrs:{\"data-testid\":(\"extension-card-update-btn-\" + (plugin.name))},on:{\"click\":function($event){return _vm.showInstallDialog(plugin, 'update', $event)}}},[_vm._v(\" \"+_vm._s(_vm.t('plugins.update.label'))+\" \")]):_vm._e(),(!plugin.upgrade && plugin.installableVersions && plugin.installableVersions.length > 1)?_c('button',{staticClass:\"btn role-secondary\",attrs:{\"data-testid\":(\"extension-card-rollback-btn-\" + (plugin.name))},on:{\"click\":function($event){return _vm.showInstallDialog(plugin, 'rollback', $event)}}},[_vm._v(\" \"+_vm._s(_vm.t('plugins.rollback.label'))+\" \")]):_vm._e()]):_c('div',{staticClass:\"plugin-buttons\"},[_c('button',{staticClass:\"btn role-secondary\",attrs:{\"data-testid\":(\"extension-card-install-btn-\" + (plugin.name))},on:{\"click\":function($event){return _vm.showInstallDialog(plugin, 'install', $event)}}},[_vm._v(\" \"+_vm._s(_vm.t('plugins.install.label'))+\" \")])])],2)])])})],2)],1),_c('InstallDialog',{ref:\"installDialog\",on:{\"closed\":_vm.didInstall,\"update\":_vm.updatePluginInstallStatus}}),_c('UninstallDialog',{ref:\"uninstallDialog\",on:{\"closed\":_vm.didUninstall,\"update\":_vm.updatePluginInstallStatus}}),_c('DeveloperInstallDialog',{ref:\"developerInstallDialog\",on:{\"closed\":_vm.didInstall}}),_c('RemoveUIPlugins',{ref:\"removeUIPlugins\",on:{\"done\":_vm.updateInstallStatus}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport Vue from 'vue';\nimport { mapGetters } from 'vuex';\nimport { mapPref, PLUGIN_DEVELOPER } from '@shell/store/prefs';\nimport { sortBy } from '@shell/utils/sort';\nimport { allHash } from '@shell/utils/promise';\nimport { CATALOG, UI_PLUGIN, SERVICE } from '@shell/config/types';\nimport { getVersionData } from '@shell/config/version';\nimport { CATALOG as CATALOG_ANNOTATIONS } from '@shell/config/labels-annotations';\nimport { NAME as APP_PRODUCT } from '@shell/config/product/apps';\nimport ActionMenu from '@shell/components/ActionMenu';\nimport Tabbed from '@shell/components/Tabbed/index.vue';\nimport Tab from '@shell/components/Tabbed/Tab.vue';\nimport IconMessage from '@shell/components/IconMessage.vue';\nimport LazyImage from '@shell/components/LazyImage';\nimport UninstallDialog from './UninstallDialog.vue';\nimport InstallDialog from './InstallDialog.vue';\nimport DeveloperInstallDialog from './DeveloperInstallDialog.vue';\nimport PluginInfoPanel from './PluginInfoPanel.vue';\nimport SetupUIPlugins from './SetupUIPlugins';\nimport RemoveUIPlugins from './RemoveUIPlugins';\nimport {\n  isUIPlugin,\n  uiPluginAnnotation,\n  uiPluginHasAnnotation,\n  isSupportedChartVersion,\n  isChartVersionAvailableForInstall,\n  isChartVersionHigher,\n  UI_PLUGIN_NAMESPACE,\n  UI_PLUGIN_CHART_ANNOTATIONS\n} from '@shell/config/uiplugins';\n\nconst MAX_DESCRIPTION_LENGTH = 200;\n\nexport default {\n  components: {\n    ActionMenu,\n    DeveloperInstallDialog,\n    IconMessage,\n    InstallDialog,\n    LazyImage,\n    PluginInfoPanel,\n    Tab,\n    Tabbed,\n    UninstallDialog,\n    SetupUIPlugins,\n    RemoveUIPlugins,\n  },\n\n  data() {\n    return {\n      view:              '',\n      charts:            [],\n      installing:        {},\n      errors:            {},\n      plugins:           [], // The installed plugins\n      helmOps:           [], // Helm operations\n      loading:           true,\n      menuTargetElement: null,\n      menuTargetEvent:   null,\n      menuOpen:          false,\n      hasService:        false,\n      defaultIcon:       require('~shell/assets/images/generic-plugin.svg'),\n      reloadRequired:    false,\n      rancherVersion:    getVersionData()?.Version\n    };\n  },\n\n  layout: 'plain',\n\n  async fetch() {\n    const hash = {};\n\n    const isSetup = await this.updateInstallStatus();\n\n    if (isSetup) {\n      if (this.$store.getters['management/schemaFor'](UI_PLUGIN)) {\n        hash.plugins = this.$store.dispatch('management/findAll', { type: UI_PLUGIN });\n      }\n    }\n\n    hash.load = await this.$store.dispatch('catalog/load');\n\n    if (this.$store.getters['management/schemaFor'](CATALOG.OPERATION)) {\n      hash.helmOps = await this.$store.dispatch('management/findAll', { type: CATALOG.OPERATION });\n    }\n\n    const res = await allHash(hash);\n\n    this.plugins = res.plugins || [];\n    this.helmOps = res.helmOps || [];\n\n    const c = this.$store.getters['catalog/rawCharts'];\n\n    this.charts = Object.values(c);\n\n    // If there are no plugins installed, default to the catalog view\n    if (this.plugins.length === 0) {\n      this.$refs.tabs?.select('available');\n    }\n\n    this.loading = false;\n  },\n\n  computed: {\n    pluginDeveloper: mapPref(PLUGIN_DEVELOPER),\n\n    ...mapGetters({ uiplugins: 'uiplugins/plugins' }),\n    ...mapGetters({ uiErrors: 'uiplugins/errors' }),\n    ...mapGetters({ theme: 'prefs/theme' }),\n\n    applyDarkModeBg() {\n      if (this.theme === 'dark') {\n        return { 'dark-mode': true };\n      }\n\n      return {};\n    },\n\n    menuActions() {\n      const menuActions = [];\n\n      // Add link to go to the Repos view of the local cluster\n      menuActions.push({\n        action:  'manageRepos',\n        label:   this.t('plugins.manageRepos'),\n        enabled: true\n      });\n\n      // Only show Developer Load action if the user has this enabled in preferences\n      if (this.pluginDeveloper) {\n        menuActions.push( { divider: true });\n        menuActions.push({\n          action:  'devLoad',\n          label:   this.t('plugins.developer.label'),\n          enabled: true\n        });\n      }\n\n      if (this.hasService) {\n        menuActions.push( { divider: true });\n        menuActions.push({\n          action:  'removePluginSupport',\n          label:   this.t('plugins.setup.remove.label'),\n          enabled: true\n        });\n      }\n\n      return menuActions;\n    },\n\n    list() {\n      const all = this.available;\n\n      switch (this.view) {\n      case 'installed':\n        return all.filter(p => !!p.installed || !!p.installing);\n      case 'updates':\n        return this.updates;\n      case 'available':\n        return all.filter(p => !p.installed);\n      default:\n        return all;\n      }\n    },\n\n    hasMenuActions() {\n      return this.menuActions?.length > 0;\n    },\n\n    // Message to display when the tab view is empty (depends on the tab)\n    emptyMessage() {\n      return this.t(`plugins.empty.${ this.view }`);\n    },\n\n    updates() {\n      return this.available.filter(plugin => !!plugin.upgrade);\n    },\n\n    available() {\n      let all = this.charts.filter(c => isUIPlugin(c));\n\n      // Filter out hidden charts\n      all = all.filter(c => !uiPluginHasAnnotation(c, CATALOG_ANNOTATIONS.HIDDEN, 'true'));\n\n      all = all.map((chart) => {\n        // Label can be overridden by chart annotation\n        const label = uiPluginAnnotation(UI_PLUGIN_CHART_ANNOTATIONS.DISPLAY_NAME) || chart.chartNameDisplay;\n        const item = {\n          name:         chart.chartNameDisplay,\n          label,\n          description:  chart.chartDescription,\n          id:           chart.id,\n          versions:     [],\n          installed:    false,\n          builtin:      false,\n          experimental: uiPluginHasAnnotation(chart, CATALOG_ANNOTATIONS.EXPERIMENTAL, 'true'),\n          certified:    uiPluginHasAnnotation(chart, CATALOG_ANNOTATIONS.CERTIFIED, CATALOG_ANNOTATIONS._RANCHER),\n        };\n\n        item.versions = [...chart.versions];\n        item.chart = chart;\n\n        // Filter the versions available to install (plugins-api version and current dashboard version)\n        item.installableVersions = item.versions.filter(version => isSupportedChartVersion(version) && isChartVersionAvailableForInstall(version, this.rancherVersion));\n\n        // add prop to version object if version is compatible with the current dashboard version\n        item.versions = item.versions.map(version => isChartVersionAvailableForInstall(version, this.rancherVersion, true));\n\n        const latestCompatible = item.installableVersions?.[0];\n        const latestNotCompatible = item.versions.find(version => !version.isCompatibleWithUi);\n\n        if (latestCompatible) {\n          item.displayVersion = latestCompatible.version;\n          item.icon = latestCompatible.icon;\n        } else {\n          item.displayVersion = item.versions?.[0]?.version;\n          item.icon = chart.icon || latestCompatible.annotations['catalog.cattle.io/ui-icon'];\n        }\n\n        if (latestNotCompatible && item.installableVersions.length && isChartVersionHigher(latestNotCompatible.version, item.installableVersions?.[0].version)) {\n          item.incompatibleDisclaimer = this.t('plugins.incompatibleDisclaimer', { version: latestNotCompatible.version, rancherVersion: latestNotCompatible.requiredUiVersion }, true);\n        }\n\n        if (this.installing[item.name]) {\n          item.installing = this.installing[item.name];\n        }\n\n        return item;\n      });\n\n      // Remove charts with no installable versions\n      all = all.filter(c => c.versions.length > 0);\n\n      // Check that all of the loaded plugins are represented\n      this.uiplugins.forEach((p) => {\n        const chart = all.find(c => c.name === p.name);\n\n        if (!chart) {\n          // A plugin is loaded, but there is no chart, so add an item so that it shows up\n          const rancher = typeof p.metadata?.rancher === 'object' ? p.metadata.rancher : {};\n          const label = rancher[UI_PLUGIN_CHART_ANNOTATIONS.DISPLAY_NAME] || p.name;\n          const item = {\n            name:           p.name,\n            label,\n            description:    p.metadata?.description,\n            icon:           p.metadata?.icon,\n            id:             p.id,\n            versions:       [],\n            displayVersion: p.metadata?.version || '-',\n            installed:      true,\n            builtin:        !!p.builtin,\n          };\n\n          all.push(item);\n        }\n      });\n\n      // Go through the CRs for the plugins and wire them into the catalog\n      this.plugins.forEach((p) => {\n        const chart = all.find(c => c.name === p.name);\n\n        if (chart) {\n          chart.installed = true;\n          chart.uiplugin = p;\n          chart.displayVersion = p.version;\n\n          // Can't do this here\n          chart.installing = this.installing[chart.name];\n\n          // Check for upgrade\n          if (chart.installableVersions?.length && p.version !== chart.installableVersions?.[0]?.version) {\n            chart.upgrade = chart.installableVersions[0].version;\n          }\n        } else {\n          // No chart, so add a card for the plugin based on its Custom resource being present\n          const item = {\n            name:           p.name,\n            label:          p.name,\n            description:    p.description || '-',\n            id:             `${ p.name }-${ p.version }`,\n            versions:       [],\n            displayVersion: p.version || '-',\n            installed:      true,\n            installing:     false,\n            builtin:        false,\n            uiplugin:       p,\n          };\n\n          all.push(item);\n        }\n      });\n\n      // Merge in the plugin load errors\n      Object.keys(this.uiErrors).forEach((e) => {\n        const chart = all.find(c => c.name === e);\n\n        if (chart) {\n          const error = this.uiErrors[e];\n\n          if (error && typeof error === 'string') {\n            chart.error = this.t(this.uiErrors[e]);\n          } else {\n            chart.error = false;\n          }\n        }\n      });\n\n      // Merge in the plugin load errors from help ops\n      Object.keys(this.errors).forEach((e) => {\n        const chart = all.find(c => c.name === e);\n\n        if (chart) {\n          chart.helmError = !!this.errors[e];\n        }\n      });\n\n      // Clamp the lengths of the descriptions\n      all.forEach((plugin) => {\n        if (plugin.description && plugin.description.length > MAX_DESCRIPTION_LENGTH) {\n          plugin.description = `${ plugin.description.substr(0, MAX_DESCRIPTION_LENGTH) } ...`;\n        }\n      });\n\n      // Sort by name\n      return sortBy(all, 'name', false);\n    },\n  },\n\n  watch: {\n    helmOps(neu) {\n      // Get Helm operations for UI plugins and order by date\n      let pluginOps = neu.filter((op) => {\n        return op.namespace === UI_PLUGIN_NAMESPACE;\n      });\n\n      pluginOps = sortBy(pluginOps, 'metadata.creationTimestamp', true);\n\n      // Go through the installed plugins\n      (this.available || []).forEach((plugin) => {\n        const op = pluginOps.find(o => o.status?.releaseName === plugin.name);\n\n        if (op) {\n          const active = op.metadata.state?.transitioning;\n          const error = op.metadata.state?.error;\n\n          Vue.set(this.errors, plugin.name, error);\n\n          if (active) {\n            // Can use the status directly, apart from upgrade, which maps to install\n            const status = op.status.action === 'upgrade' ? 'install' : op.status.action;\n\n            this.updatePluginInstallStatus(plugin.name, status);\n          } else if (op.status.action === 'uninstall') {\n            // Uninstall has finished\n            this.updatePluginInstallStatus(plugin.name, false);\n          } else if (error) {\n            this.updatePluginInstallStatus(plugin.name, false);\n          }\n        } else {\n          this.updatePluginInstallStatus(plugin.name, false);\n        }\n      });\n    },\n\n    plugins(neu, old) {\n      const installed = this.$store.getters['uiplugins/plugins'];\n      const shouldHaveLoaded = (installed || []).filter(p => !this.uiErrors[p.name] && !p.builtin);\n      let changes = 0;\n\n      // Did the user remove an extension\n      if (neu?.length < shouldHaveLoaded.length) {\n        changes++;\n      }\n\n      neu.forEach((plugin) => {\n        const existing = installed.find(p => !p.removed && p.name === plugin.name && p.version === plugin.version);\n\n        if (!existing && plugin.isCached) {\n          if (!this.uiErrors[plugin.name]) {\n            changes++;\n          }\n\n          this.updatePluginInstallStatus(plugin.name, false);\n        }\n      });\n\n      if (changes > 0 ) {\n        Vue.set(this, 'reloadRequired', true);\n      }\n    },\n  },\n\n  // Forget the types when we leave the page\n  beforeDestroy() {\n    this.$store.dispatch('management/forgetType', UI_PLUGIN);\n    this.$store.dispatch('management/forgetType', CATALOG.OPERATION);\n    this.$store.dispatch('management/forgetType', CATALOG.APP);\n    this.$store.dispatch('management/forgetType', CATALOG.CLUSTER_REPO);\n  },\n\n  methods: {\n    async updateInstallStatus() {\n      let hasService;\n\n      try {\n        const service = await this.$store.dispatch('management/find', {\n          type: SERVICE,\n          id:   `${ UI_PLUGIN_NAMESPACE }/ui-plugin-operator`,\n          opt:  { force: true },\n        });\n\n        hasService = !!service;\n      } catch (e) {\n        hasService = false;\n      }\n\n      Vue.set(this, 'hasService', hasService);\n\n      return hasService;\n    },\n\n    filterChanged(f) {\n      this.view = f.selectedName;\n    },\n\n    removePluginSupport() {\n      this.$refs.removeUIPlugins.showDialog();\n    },\n\n    // Developer Load is in the action menu\n    showDeveloperLoaddDialog() {\n      this.$refs.developerInstallDialog.showDialog();\n    },\n\n    showInstallDialog(plugin, mode, ev) {\n      ev.target?.blur();\n      ev.preventDefault();\n      ev.stopPropagation();\n\n      this.$refs.installDialog.showDialog(plugin, mode);\n    },\n\n    showUninstallDialog(plugin, ev) {\n      ev.target?.blur();\n      ev.preventDefault();\n      ev.stopPropagation();\n\n      this.$refs.uninstallDialog.showDialog(plugin);\n    },\n\n    didUninstall(plugin) {\n      if (plugin) {\n        this.updatePluginInstallStatus(plugin.name, 'uninstall');\n\n        // Clear the load error, if there was one\n        this.$store.dispatch('uiplugins/setError', { name: plugin.name, error: false });\n      }\n    },\n\n    didInstall(plugin) {\n      if (plugin) {\n        // Change the view to installed if we started installing a plugin\n        this.$refs.tabs?.select('installed');\n\n        // Clear the load error, if there was one previously\n        this.$store.dispatch('uiplugins/setError', { name: plugin.name, error: false });\n      }\n    },\n\n    showPluginDetail(plugin) {\n      this.$refs.infoPanel.show(plugin);\n    },\n\n    updatePluginInstallStatus(name, status) {\n      // console.log(`UPDATING PLUGIN STATUS: ${ name } ${ status }`);\n      Vue.set(this.installing, name, status);\n    },\n\n    setMenu(event) {\n      this.menuOpen = !!event;\n\n      if (event) {\n        this.menuTargetElement = this.$refs.actions;\n        this.menuTargetEvent = event;\n      } else {\n        this.menuTargetElement = undefined;\n        this.menuTargetEvent = undefined;\n      }\n    },\n\n    reload() {\n      this.$router.go();\n    },\n\n    manageRepos() {\n      this.$router.push({\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster:  'local',\n          product:  APP_PRODUCT,\n          resource: CATALOG.CLUSTER_REPO\n        }\n      });\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"plugins\">\n    <div class=\"plugin-header\">\n      <h2 data-testid=\"extensions-page-title\">\n        {{ t('plugins.title') }}\n      </h2>\n      <div\n        v-if=\"reloadRequired\"\n        class=\"plugin-reload-banner mr-20\"\n        data-testid=\"extension-reload-banner\"\n      >\n        <i class=\"icon icon-checkmark mr-10\" />\n        <span>\n          {{ t('plugins.reload') }}\n        </span>\n        <button\n          class=\"ml-10 btn btn-sm role-primary\"\n          data-testid=\"extension-reload-banner-reload-btn\"\n          @click=\"reload()\"\n        >\n          {{ t('generic.reload') }}\n        </button>\n      </div>\n      <button\n        v-if=\"hasService && hasMenuActions\"\n        ref=\"actions\"\n        aria-haspopup=\"true\"\n        type=\"button\"\n        class=\"btn actions role-secondary\"\n        data-testid=\"extensions-page-menu\"\n        @click=\"setMenu\"\n      >\n        <i class=\"icon icon-actions\" />\n      </button>\n      <ActionMenu\n        v-if=\"hasService && hasMenuActions\"\n        :custom-actions=\"menuActions\"\n        :open=\"menuOpen\"\n        :use-custom-target-element=\"true\"\n        :custom-target-element=\"menuTargetElement\"\n        :custom-target-event=\"menuTargetEvent\"\n        @close=\"setMenu(false)\"\n        @devLoad=\"showDeveloperLoaddDialog\"\n        @removePluginSupport=\"removePluginSupport\"\n        @manageRepos=\"manageRepos\"\n      />\n    </div>\n\n    <PluginInfoPanel ref=\"infoPanel\" />\n\n    <div v-if=\"!hasService\">\n      <div\n        v-if=\"loading\"\n        class=\"data-loading\"\n      >\n        <i class=\"icon-spin icon icon-spinner\" />\n        <t\n          k=\"generic.loading\"\n          :raw=\"true\"\n        />\n      </div>\n      <SetupUIPlugins\n        v-else\n        class=\"setup-message\"\n        @done=\"updateInstallStatus\"\n      />\n    </div>\n    <div v-else>\n      <Tabbed\n        ref=\"tabs\"\n        :tabs-only=\"true\"\n        data-testid=\"extension-tabs\"\n        @changed=\"filterChanged\"\n      >\n        <Tab\n          name=\"installed\"\n          data-testid=\"extension-tab-installed\"\n          label-key=\"plugins.tabs.installed\"\n          :weight=\"20\"\n        />\n        <Tab\n          name=\"available\"\n          data-testid=\"extension-tab-available\"\n          label-key=\"plugins.tabs.available\"\n          :weight=\"19\"\n        />\n        <Tab\n          name=\"updates\"\n          label-key=\"plugins.tabs.updates\"\n          :weight=\"18\"\n          :badge=\"updates.length\"\n        />\n        <Tab\n          name=\"all\"\n          label-key=\"plugins.tabs.all\"\n          :weight=\"17\"\n        />\n      </Tabbed>\n      <div\n        v-if=\"loading\"\n        class=\"data-loading\"\n      >\n        <i class=\"icon-spin icon icon-spinner\" />\n        <t\n          k=\"generic.loading\"\n          :raw=\"true\"\n        />\n      </div>\n      <div\n        v-else\n        class=\"plugin-list\"\n        :class=\"{'v-margin': !list.length}\"\n      >\n        <IconMessage\n          v-if=\"list.length === 0\"\n          :vertical=\"true\"\n          :subtle=\"true\"\n          icon=\"icon-extension\"\n          :message=\"emptyMessage\"\n        />\n        <template v-else>\n          <div\n            v-for=\"plugin in list\"\n            :key=\"plugin.name\"\n            class=\"plugin\"\n            :data-testid=\"`extension-card-${plugin.name}`\"\n            @click=\"showPluginDetail(plugin)\"\n          >\n            <!-- plugin icon -->\n            <div\n              class=\"plugin-icon\"\n              :class=\"applyDarkModeBg\"\n            >\n              <LazyImage\n                v-if=\"plugin.icon\"\n                :initial-src=\"defaultIcon\"\n                :error-src=\"defaultIcon\"\n                :src=\"plugin.icon\"\n                class=\"icon plugin-icon-img\"\n              />\n              <img\n                v-else\n                :src=\"defaultIcon\"\n                class=\"icon plugin-icon-img\"\n              >\n            </div>\n            <!-- plugin card -->\n            <div class=\"plugin-metadata\">\n              <!-- plugin basic info -->\n              <div class=\"plugin-name\">\n                {{ plugin.label }}\n              </div>\n              <div>{{ plugin.description }}</div>\n              <div class=\"plugin-version\">\n                <span\n                  v-if=\"plugin.installing\"\n                  class=\"plugin-installing\"\n                >\n                  -\n                </span>\n                <span v-else>\n                  <span>{{ plugin.displayVersion }}</span>\n                  <span\n                    v-if=\"plugin.upgrade\"\n                    v-tooltip=\"t('plugins.upgradeAvailable')\"\n                  > -> {{ plugin.upgrade }}</span>\n                  <p\n                    v-if=\"plugin.incompatibleDisclaimer\"\n                    class=\"incompatible\"\n                  >{{ plugin.incompatibleDisclaimer }}</p>\n                </span>\n              </div>\n              <!-- plugin badges -->\n              <div\n                v-if=\"plugin.builtin\"\n                class=\"plugin-badges\"\n              >\n                <div class=\"plugin-builtin\">\n                  {{ t('plugins.labels.builtin') }}\n                </div>\n              </div>\n              <div\n                v-else\n                class=\"plugin-badges\"\n              >\n                <div\n                  v-if=\"!plugin.certified\"\n                  v-tooltip=\"t('plugins.descriptions.third-party')\"\n                >\n                  {{ t('plugins.labels.third-party') }}\n                </div>\n                <div\n                  v-if=\"plugin.experimental\"\n                  v-tooltip=\"t('plugins.descriptions.experimental')\"\n                >\n                  {{ t('plugins.labels.experimental') }}\n                </div>\n              </div>\n              <div class=\"plugin-spacer\" />\n              <!-- plugin badges -->\n              <div class=\"plugin-actions\">\n                <template v-if=\"plugin.error\">\n                  <div\n                    v-tooltip=\"plugin.error\"\n                    class=\"plugin-error\"\n                  >\n                    <i class=\"icon icon-warning\" />\n                  </div>\n                </template>\n                <!-- plugin status -->\n                <div\n                  v-if=\"plugin.helmError\"\n                  v-tooltip=\"t('plugins.helmError')\"\n                  class=\"plugin-error\"\n                >\n                  <i class=\"icon icon-warning\" />\n                </div>\n\n                <div class=\"plugin-spacer\" />\n\n                <div\n                  v-if=\"plugin.installing\"\n                  class=\"plugin-installing\"\n                >\n                  <i class=\"version-busy icon icon-spin icon-spinner\" />\n                  <div v-if=\"plugin.installing ==='install'\">\n                    {{ t('plugins.labels.installing') }}\n                  </div>\n                  <div v-else>\n                    {{ t('plugins.labels.uninstalling') }}\n                  </div>\n                </div>\n                <!-- plugin buttons -->\n                <div\n                  v-else-if=\"plugin.installed\"\n                  class=\"plugin-buttons\"\n                >\n                  <button\n                    v-if=\"!plugin.builtin\"\n                    class=\"btn role-secondary\"\n                    :data-testid=\"`extension-card-uninstall-btn-${plugin.name}`\"\n                    @click=\"showUninstallDialog(plugin, $event)\"\n                  >\n                    {{ t('plugins.uninstall.label') }}\n                  </button>\n                  <button\n                    v-if=\"plugin.upgrade\"\n                    class=\"btn role-secondary\"\n                    :data-testid=\"`extension-card-update-btn-${plugin.name}`\"\n                    @click=\"showInstallDialog(plugin, 'update', $event)\"\n                  >\n                    {{ t('plugins.update.label') }}\n                  </button>\n                  <button\n                    v-if=\"!plugin.upgrade && plugin.installableVersions && plugin.installableVersions.length > 1\"\n                    class=\"btn role-secondary\"\n                    :data-testid=\"`extension-card-rollback-btn-${plugin.name}`\"\n                    @click=\"showInstallDialog(plugin, 'rollback', $event)\"\n                  >\n                    {{ t('plugins.rollback.label') }}\n                  </button>\n                </div>\n                <div\n                  v-else\n                  class=\"plugin-buttons\"\n                >\n                  <button\n                    class=\"btn role-secondary\"\n                    :data-testid=\"`extension-card-install-btn-${plugin.name}`\"\n                    @click=\"showInstallDialog(plugin, 'install', $event)\"\n                  >\n                    {{ t('plugins.install.label') }}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </template>\n      </div>\n    </div>\n\n    <InstallDialog\n      ref=\"installDialog\"\n      @closed=\"didInstall\"\n      @update=\"updatePluginInstallStatus\"\n    />\n    <UninstallDialog\n      ref=\"uninstallDialog\"\n      @closed=\"didUninstall\"\n      @update=\"updatePluginInstallStatus\"\n    />\n    <DeveloperInstallDialog\n      ref=\"developerInstallDialog\"\n      @closed=\"didInstall\"\n    />\n    <RemoveUIPlugins\n      ref=\"removeUIPlugins\"\n      @done=\"updateInstallStatus\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n\n  .setup-message {\n    margin-top: 100px;\n  }\n\n  .data-loading {\n    align-items: center;\n    display: flex;\n    justify-content: center;\n\n    > I {\n      margin-right: 5px;\n    }\n  }\n\n  .plugin-reload-banner {\n    align-items: center;\n    background-color: var(--success-banner-bg);\n    display: flex;\n    padding: 0 10px;\n    border-radius: 5px;\n    min-height: 36px;\n\n    > i {\n      color: var(--success);\n      font-size: 14px;\n      font-weight: bold;\n    }\n\n    > button {\n      line-height: 30px;\n      min-height: 30px;\n    }\n  }\n\n  .plugin-complete {\n    font-size: 18px;\n  }\n\n  .plugin-list {\n    display: flex;\n    flex-wrap: wrap;\n\n    > .plugin:not(:last-child) {\n      margin-right: 20px;\n    }\n\n    &.v-margin {\n      margin-top: 40px;\n    }\n  }\n  .plugins {\n    display: inherit;\n  }\n\n  .plugin-header {\n    display: flex;\n    align-items: center;\n    margin-bottom: 10px;\n\n    > h2 {\n      flex: 1;\n      margin-bottom: 0;\n    }\n\n    .btn.actions {\n      line-height: 36px;\n      min-height: 36px;\n      padding: 0 10px;\n    }\n  }\n\n  .plugin {\n    display: flex;\n    border: 1px solid var(--border);\n    padding: 10px;\n    width: calc(33% - 20px);\n    max-width: 540px;\n    margin-bottom: 20px;\n    cursor: pointer;\n\n    .plugin-icon {\n      font-size: 40px;\n      margin-right:10px;\n      color: #888;\n      width: 44px;\n      height: 44px;\n\n      &.dark-mode {\n        border-radius: calc(2 * var(--border-radius));\n        overflow: hidden;\n        background-color: white;\n      }\n\n      .plugin-icon-img {\n        height: 40px;\n        width: 40px;\n        -o-object-fit: contain;\n        object-fit: contain;\n        top: 2px;\n        left: 2px;\n      }\n    }\n\n    .plugin-spacer {\n      flex: 1;\n    }\n\n    .plugin-metadata {\n      display: flex;\n      flex: 1;\n      flex-direction: column;\n\n      .plugin-buttons {\n        > button:not(:first-child) {\n          margin-left: 5px;\n        }\n      }\n    }\n\n    .plugin-builtin {\n      color: var(--primary);\n      display: block;\n      padding: 2px 0;\n      text-transform: uppercase;\n    }\n\n    .plugin-name {\n      font-size: 16px;\n      font-weight: bold;\n      margin-bottom: 5px;\n      text-transform: capitalize;\n    }\n\n    .plugin-badges {\n      display: flex;\n\n      > div {\n        border: 1px solid var(--border);\n        border-radius: 4px;\n        padding: 2px 8px;\n        margin-right: 10px;\n        font-size: 12px;\n      }\n    }\n\n    .plugin-version {\n      align-items: center;\n      display: inline-flex;\n      font-size: 12px;\n      border-radius: 4px;\n      margin: 5px 0;\n\n      i.icon-spinner {\n        padding-right: 5px;\n        font-size: 16px;\n        height: 16px;\n        width: 16px;\n      }\n\n      .incompatible {\n        margin: 10px 0;\n        font-weight: bold;\n      }\n    }\n\n    .plugin-installing {\n      align-items: center;\n      display: flex;\n\n      > div {\n        font-size: 14px;\n        margin-left: 5px;\n      }\n    }\n\n    .plugin-actions {\n      align-items:center;\n      display: flex;\n\n      $error-icon-size: 22px;\n\n      .plugin-error {\n        display: inline;\n        cursor: help;\n\n        > i {\n          color: var(--error);\n          height: $error-icon-size;\n          font-size: $error-icon-size;\n          width: $error-icon-size;\n        }\n      }\n\n      .btn {\n        line-height: 20px;\n        min-height: 20px;\n        padding: 0 5px;\n      }\n    }\n  }\n\n  @media screen and (max-width: 1200px) {\n    .plugin-list {\n      .plugin {\n        width: calc(50% - 20px);\n      }\n    }\n  }\n\n  @media screen and (max-width: 960px) {\n    .plugin-list {\n      .plugin {\n        margin-right: 0 !important;\n        width: 100%;\n      }\n    }\n  }\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=231e2bca&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=231e2bca&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"231e2bca\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{attrs:{\"name\":\"installPluginDialog\",\"height\":\"auto\",\"scrollable\":true}},[(_vm.plugin)?_c('div',{staticClass:\"plugin-install-dialog\"},[_c('h4',{staticClass:\"mt-10\"},[_vm._v(\" \"+_vm._s(_vm.t((\"plugins.\" + _vm.mode + \".title\"), { name: _vm.plugin.label }))+\" \")]),_c('div',{staticClass:\"custom mt-10\"},[_c('div',{staticClass:\"dialog-panel\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.t((\"plugins.\" + _vm.mode + \".prompt\")))+\" \")]),(!_vm.plugin.certified)?_c('Banner',{attrs:{\"color\":\"warning\",\"label\":_vm.t('plugins.install.warnNotCertified')}}):_vm._e(),(_vm.showVersionSelector)?_c('LabeledSelect',{staticClass:\"version-selector mt-10\",attrs:{\"label-key\":\"plugins.install.version\",\"options\":_vm.versionOptions,\"data-testid\":\"install-ext-modal-select-version\"},model:{value:(_vm.version),callback:function ($$v) {_vm.version=$$v},expression:\"version\"}}):_c('div',[_vm._v(\" \"+_vm._s(_vm.t('plugins.install.version'))+\" \"+_vm._s(_vm.version)+\" \")])],1),_c('div',{staticClass:\"dialog-buttons\"},[_c('button',{staticClass:\"btn role-secondary\",attrs:{\"disabled\":_vm.busy,\"data-testid\":\"install-ext-modal-cancel-btn\"},on:{\"click\":function($event){return _vm.closeDialog(false)}}},[_vm._v(\" \"+_vm._s(_vm.t('generic.cancel'))+\" \")]),_c('AsyncButton',{attrs:{\"mode\":_vm.buttonMode,\"data-testid\":\"install-ext-modal-install-btn\"},on:{\"click\":_vm.install}})],1)])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport AsyncButton from '@shell/components/AsyncButton';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { CATALOG, MANAGEMENT } from '@shell/config/types';\nimport { CATALOG as CATALOG_ANNOTATIONS } from '@shell/config/labels-annotations';\nimport { UI_PLUGIN_NAMESPACE } from '@shell/config/uiplugins';\nimport Banner from '@components/Banner/Banner.vue';\n\n// Note: This dialog handles installation and update of a plugin\n\nexport default {\n  components: {\n    AsyncButton,\n    Banner,\n    LabeledSelect,\n  },\n\n  async fetch() {\n    this.defaultRegistrySetting = await this.$store.dispatch('management/find', {\n      type: MANAGEMENT.SETTING,\n      id:   'system-default-registry'\n    });\n  },\n\n  data() {\n    return {\n      currentVersion:         '',\n      defaultRegistrySetting: null,\n      plugin:                 undefined,\n      busy:                   false,\n      version:                '',\n      update:                 false,\n      mode:                   '',\n    };\n  },\n\n  computed: {\n    showVersionSelector() {\n      return this.versionOptions?.length > 1;\n    },\n\n    versionOptions() {\n      if (!this.plugin) {\n        return [];\n      }\n\n      // Don't allow update/rollback to current version\n      const versions = this.plugin?.installableVersions?.filter((v) => {\n        if (this.currentVersion) {\n          return v.version !== this.currentVersion;\n        }\n\n        return true;\n      });\n\n      return versions.map((version) => {\n        return {\n          label: version.version,\n          value: version.version,\n        };\n      });\n    },\n\n    buttonMode() {\n      return this.update ? 'update' : 'install';\n    }\n  },\n\n  methods: {\n    showDialog(plugin, mode) {\n      this.plugin = plugin;\n      this.mode = mode;\n\n      // Default to latest version on install (this is default on the plugin)\n      this.version = plugin.displayVersion;\n\n      if (mode === 'update') {\n        this.currentVersion = plugin.displayVersion;\n\n        // Update to latest version, so take the first version\n        if (plugin.installableVersions?.length > 0) {\n          this.version = plugin.installableVersions?.[0]?.version;\n        }\n      } else if (mode === 'rollback') {\n        // Find the newest version once we remove the current version\n        const versionNames = plugin.installableVersions.filter(v => v.version !== plugin.displayVersion);\n\n        this.currentVersion = plugin.displayVersion;\n\n        if (versionNames.length > 0) {\n          this.version = versionNames[0].version;\n        }\n      }\n\n      // Make sure we have the version available\n      const versionChart = plugin.installableVersions?.find(v => v.version === this.version);\n\n      if (!versionChart) {\n        this.version = plugin.installableVersions?.[0]?.version;\n      }\n\n      this.busy = false;\n      this.update = mode !== 'install';\n      this.$modal.show('installPluginDialog');\n    },\n\n    closeDialog(result) {\n      this.$modal.hide('installPluginDialog');\n      this.$emit('closed', result);\n    },\n\n    async install() {\n      this.busy = true;\n\n      const plugin = this.plugin;\n\n      this.$emit('update', plugin.name, 'install');\n\n      // Find the version that the user wants to install\n      const version = plugin.versions?.find(v => v.version === this.version);\n\n      if (!version) {\n        this.busy = false;\n\n        return;\n      }\n\n      // is the image used by the chart in the rancher org?\n      let isRancherImage = false;\n\n      try {\n        const chartVersionInfo = await this.$store.dispatch('catalog/getVersionInfo', {\n          repoType:    version.repoType,\n          repoName:    version.repoName,\n          chartName:   plugin.chart.chartName,\n          versionName: this.version,\n        });\n\n        const image = chartVersionInfo?.values?.image?.repository || '';\n\n        isRancherImage = image.startsWith('rancher/');\n      } catch (e) {}\n\n      // See if there is already a plugin with this name\n      let exists = false;\n\n      try {\n        const app = await this.$store.dispatch('management/find', {\n          type: CATALOG.APP,\n          id:   `${ UI_PLUGIN_NAMESPACE }/${ plugin.chart.chartName }`,\n          opt:  { force: true },\n        });\n\n        exists = !!app;\n      } catch (e) {}\n\n      const repoType = version.repoType;\n      const repoName = version.repoName;\n      const repo = this.$store.getters['catalog/repo']({ repoType, repoName });\n\n      const chart = {\n        chartName:   plugin.chart.chartName,\n        version:     this.version,\n        releaseName: plugin.chart.chartName,\n        annotations: {\n          [CATALOG_ANNOTATIONS.SOURCE_REPO_TYPE]: plugin.repoType,\n          [CATALOG_ANNOTATIONS.SOURCE_REPO_NAME]: plugin.repoName\n        },\n        values: {}\n      };\n\n      // Pass in the system default registry property if set - only if the image is in the rancher org\n      const defaultRegistry = this.defaultRegistrySetting?.value || '';\n\n      if (isRancherImage && defaultRegistry) {\n        chart.values.global = chart.values.global || {};\n        chart.values.global.cattle = chart.values.global.cattle || {};\n        chart.values.global.cattle.systemDefaultRegistry = defaultRegistry;\n      }\n\n      const input = {\n        charts:    [chart],\n        // timeout:   this.cmdOptions.timeout > 0 ? `${ this.cmdOptions.timeout }s` : null,\n        // wait:      this.cmdOptions.wait === true,\n        namespace: UI_PLUGIN_NAMESPACE,\n      };\n\n      // Helm action\n      const action = (exists || this.update) ? 'upgrade' : 'install';\n\n      try {\n        const res = await repo.doAction(action, input);\n        const operationId = `${ res.operationNamespace }/${ res.operationName }`;\n\n        this.closeDialog(plugin);\n\n        await repo.waitForOperation(operationId);\n\n        await this.$store.dispatch(`management/find`, {\n          type: CATALOG.OPERATION,\n          id:   operationId\n        });\n      } catch (e) {\n        this.$store.dispatch('growl/error', {\n          title:   this.t('plugins.error.generic'),\n          message: e.message ? e.message : e,\n          timeout: 10000\n        }, { root: true });\n\n        this.closeDialog(plugin);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <modal\n    name=\"installPluginDialog\"\n    height=\"auto\"\n    :scrollable=\"true\"\n  >\n    <div\n      v-if=\"plugin\"\n      class=\"plugin-install-dialog\"\n    >\n      <h4 class=\"mt-10\">\n        {{ t(`plugins.${ mode }.title`, { name: plugin.label }) }}\n      </h4>\n      <div class=\"custom mt-10\">\n        <div class=\"dialog-panel\">\n          <p>\n            {{ t(`plugins.${ mode }.prompt`) }}\n          </p>\n          <Banner\n            v-if=\"!plugin.certified\"\n            color=\"warning\"\n            :label=\"t('plugins.install.warnNotCertified')\"\n          />\n          <LabeledSelect\n            v-if=\"showVersionSelector\"\n            v-model=\"version\"\n            label-key=\"plugins.install.version\"\n            :options=\"versionOptions\"\n            class=\"version-selector mt-10\"\n            data-testid=\"install-ext-modal-select-version\"\n          />\n          <div v-else>\n            {{ t('plugins.install.version') }} {{ version }}\n          </div>\n        </div>\n        <div class=\"dialog-buttons\">\n          <button\n            :disabled=\"busy\"\n            class=\"btn role-secondary\"\n            data-testid=\"install-ext-modal-cancel-btn\"\n            @click=\"closeDialog(false)\"\n          >\n            {{ t('generic.cancel') }}\n          </button>\n          <AsyncButton\n            :mode=\"buttonMode\"\n            data-testid=\"install-ext-modal-install-btn\"\n            @click=\"install\"\n          />\n        </div>\n      </div>\n    </div>\n  </modal>\n</template>\n\n<style lang=\"scss\" scoped>\n  .plugin-install-dialog {\n    padding: 10px;\n\n    h4 {\n      font-weight: bold;\n    }\n\n    .dialog-panel {\n      display: flex;\n      flex-direction: column;\n      min-height: 100px;\n\n      p {\n        margin-bottom: 5px;\n      }\n\n      .dialog-info {\n        flex: 1;\n      }\n\n      .toggle-advanced {\n        display: flex;\n        align-items: center;\n        cursor: pointer;\n        margin: 10px 0;\n\n        &:hover {\n          text-decoration: none;\n          color: var(--link);\n        }\n      }\n\n      .version-selector {\n        margin: 0 10px 10px 10px;\n        width: auto;\n      }\n    }\n\n    .dialog-buttons {\n      display: flex;\n      justify-content: flex-end;\n      margin-top: 10px;\n\n      > *:not(:last-child) {\n        margin-right: 10px;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InstallDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InstallDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InstallDialog.vue?vue&type=template&id=0c3745a3&scoped=true&\"\nimport script from \"./InstallDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./InstallDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InstallDialog.vue?vue&type=style&index=0&id=0c3745a3&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c3745a3\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=5130a572&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PluginInfoPanel.vue?vue&type=style&index=0&id=226184da&prod&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/generic-plugin.3cca4b04.svg\";","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UninstallDialog.vue?vue&type=style&index=0&id=3afa020e&prod&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{attrs:{\"name\":\"uninstallPluginDialog\",\"height\":\"auto\",\"scrollable\":true}},[(_vm.plugin)?_c('div',{staticClass:\"plugin-install-dialog\"},[_c('h4',{staticClass:\"mt-10\"},[_vm._v(\" \"+_vm._s(_vm.t('plugins.uninstall.title', { name: _vm.plugin.label }))+\" \")]),_c('div',{staticClass:\"mt-10 dialog-panel\"},[_c('div',{staticClass:\"dialog-info\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.t('plugins.uninstall.prompt'))+\" \")])]),_c('div',{staticClass:\"dialog-buttons\"},[_c('button',{staticClass:\"btn role-secondary\",attrs:{\"disabled\":_vm.busy,\"data-testid\":\"uninstall-ext-modal-cancel-btn\"},on:{\"click\":function($event){return _vm.closeDialog(false)}}},[_vm._v(\" \"+_vm._s(_vm.t('generic.cancel'))+\" \")]),_c('AsyncButton',{attrs:{\"mode\":\"uninstall\",\"data-testid\":\"uninstall-ext-modal-uninstall-btn\"},on:{\"click\":function($event){return _vm.uninstall()}}})],1)])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { CATALOG } from '@shell/config/types';\n\nimport { UI_PLUGIN_NAMESPACE } from '@shell/config/uiplugins';\n\nexport default {\n  components: { AsyncButton },\n\n  data() {\n    return { plugin: undefined, busy: false };\n  },\n\n  methods: {\n    showDialog(plugin) {\n      this.plugin = plugin;\n      this.busy = false;\n      this.$modal.show('uninstallPluginDialog');\n    },\n    closeDialog(result) {\n      this.$modal.hide('uninstallPluginDialog');\n      this.$emit('closed', result);\n    },\n    async uninstall() {\n      this.busy = true;\n\n      const plugin = this.plugin;\n\n      this.$emit('update', plugin.name, 'uninstall');\n\n      // Delete the CR if this is a developer plugin (there is no Helm App, so need to remove the CRD ourselves)\n      if (plugin.uiplugin?.isDeveloper) {\n        // Delete the custom resource\n        await plugin.uiplugin.remove();\n      }\n\n      // Find the app for this plugin\n      const apps = await this.$store.dispatch('management/findAll', { type: CATALOG.APP });\n\n      const pluginApp = apps.find((app) => {\n        return app.namespace === UI_PLUGIN_NAMESPACE && app.name === plugin.name;\n      });\n\n      if (pluginApp) {\n        try {\n          await pluginApp.remove();\n        } catch (e) {\n          this.$store.dispatch('growl/error', {\n            title:   this.t('plugins.error.generic'),\n            message: e.message ? e.message : e,\n            timeout: 10000\n          }, { root: true });\n        }\n\n        await this.$store.dispatch('management/findAll', { type: CATALOG.OPERATION });\n      }\n\n      this.closeDialog(plugin);\n    }\n  }\n};\n</script>\n\n<template>\n  <modal\n    name=\"uninstallPluginDialog\"\n    height=\"auto\"\n    :scrollable=\"true\"\n  >\n    <div\n      v-if=\"plugin\"\n      class=\"plugin-install-dialog\"\n    >\n      <h4 class=\"mt-10\">\n        {{ t('plugins.uninstall.title', { name: plugin.label }) }}\n      </h4>\n      <div class=\"mt-10 dialog-panel\">\n        <div class=\"dialog-info\">\n          <p>\n            {{ t('plugins.uninstall.prompt') }}\n          </p>\n        </div>\n        <div class=\"dialog-buttons\">\n          <button\n            :disabled=\"busy\"\n            class=\"btn role-secondary\"\n            data-testid=\"uninstall-ext-modal-cancel-btn\"\n            @click=\"closeDialog(false)\"\n          >\n            {{ t('generic.cancel') }}\n          </button>\n          <AsyncButton\n            mode=\"uninstall\"\n            data-testid=\"uninstall-ext-modal-uninstall-btn\"\n            @click=\"uninstall()\"\n          />\n        </div>\n      </div>\n    </div>\n  </modal>\n</template>\n\n<style lang=\"scss\" scoped>\n  .plugin-install-dialog {\n    padding: 10px;\n\n    h4 {\n      font-weight: bold;\n    }\n\n    .dialog-panel {\n      display: flex;\n      flex-direction: column;\n      min-height: 100px;\n\n      .dialog-info {\n        flex: 1;\n      }\n    }\n\n    .dialog-buttons {\n      display: flex;\n      justify-content: flex-end;\n      margin-top: 10px;\n\n      > *:not(:last-child) {\n        margin-right: 10px;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UninstallDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./UninstallDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UninstallDialog.vue?vue&type=template&id=3afa020e&scoped=true&\"\nimport script from \"./UninstallDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./UninstallDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UninstallDialog.vue?vue&type=style&index=0&id=3afa020e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3afa020e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{attrs:{\"name\":\"developerInstallPluginDialog\",\"height\":\"auto\",\"scrollable\":true}},[_c('div',{staticClass:\"plugin-install-dialog\"},[_c('h4',[_vm._v(\" \"+_vm._s(_vm.t('plugins.developer.title'))+\" \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.t('plugins.developer.prompt'))+\" \")]),_c('div',{staticClass:\"custom mt-10\"},[_c('div',{staticClass:\"fields\"},[_c('LabeledInput',{directives:[{name:\"focus\",rawName:\"v-focus\"}],attrs:{\"label-key\":\"plugins.developer.fields.url\"},on:{\"input\":_vm.updateLocation},model:{value:(_vm.location),callback:function ($$v) {_vm.location=$$v},expression:\"location\"}})],1)]),_c('div',{staticClass:\"custom mt-10\"},[_c('div',{staticClass:\"fields\"},[_c('LabeledInput',{attrs:{\"label-key\":\"plugins.developer.fields.name\"},on:{\"input\":_vm.updateName},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('div',{staticClass:\"fields mt-10\"},[_c('Checkbox',{attrs:{\"label-key\":\"plugins.developer.fields.persist\"},model:{value:(_vm.persist),callback:function ($$v) {_vm.persist=$$v},expression:\"persist\"}})],1),_c('div',{staticClass:\"dialog-buttons mt-20\"},[_c('button',{staticClass:\"btn role-secondary\",attrs:{\"data-testid\":\"dev-install-ext-modal-cancel-btn\"},on:{\"click\":function($event){return _vm.closeDialog()}}},[_vm._v(\" \"+_vm._s(_vm.t('generic.cancel'))+\" \")]),_c('AsyncButton',{attrs:{\"mode\":\"load\",\"data-testid\":\"dev-install-ext-modal-install-btn\"},on:{\"click\":_vm.loadPlugin}})],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport Checkbox from '@components/Form/Checkbox/Checkbox.vue';\nimport { UI_PLUGIN } from '@shell/config/types';\nimport { UI_PLUGIN_NAMESPACE } from '@shell/config/uiplugins';\n\nexport default {\n  components: {\n    AsyncButton,\n    Checkbox,\n    LabeledInput,\n  },\n\n  data() {\n    return {\n      name:              '',\n      location:          '',\n      persist:           false,\n      canModifyName:     true,\n      canModifyLocation: true,\n    };\n  },\n\n  watch: {\n    name(neu, old) {\n      if (this.canModifyLocation) {\n        this.location = `/pkg/${ neu }/${ neu }.umd.min.js`;\n      }\n    },\n    location(neu, old) {\n      if (this.canModifyName) {\n        const names = neu.split('/');\n        let last = names[names.length - 1];\n        let index = last.indexOf('.umd.min.js');\n\n        if (index !== -1) {\n          last = last.substr(0, index);\n        } else {\n          index = last.indexOf('.umd.js');\n          if (index !== -1) {\n            last = last.substr(0, index);\n          }\n        }\n\n        this.name = last;\n      }\n    }\n  },\n\n  methods: {\n    showDialog() {\n      this.$modal.show('developerInstallPluginDialog');\n    },\n    closeDialog(result) {\n      this.$modal.hide('developerInstallPluginDialog');\n      this.$emit('closed', result);\n    },\n\n    updateName(v) {\n      this.canModifyName = v.length === 0;\n    },\n\n    updateLocation(v) {\n      this.canModifyLocation = v.length === 0;\n    },\n\n    async loadPlugin(btnCb) {\n      let name = this.name;\n      const url = this.location;\n\n      if (!name) {\n        const parts = url.split('/');\n        const n = parts[parts.length - 1];\n\n        // Split on '.'\n        name = n.split('.')[0];\n      }\n\n      // Try and parse version number from the name\n      let version = '0.0.1';\n      let crdName = name;\n\n      const parts = name.split('-');\n\n      if (parts.length >= 2) {\n        version = parts.pop();\n        crdName = parts.join('-');\n      }\n\n      if (this.persist) {\n        const pluginCR = await this.$store.dispatch('management/create', {\n          type:     UI_PLUGIN,\n          metadata: {\n            name,\n            namespace: UI_PLUGIN_NAMESPACE\n          },\n          spec: {\n            plugin: {\n              name:     crdName,\n              version,\n              endpoint: url,\n              noCache:  true,\n              metadata: {\n                developer: 'true',\n                direct:    'true'\n              }\n            }\n          }\n        });\n\n        try {\n          await pluginCR.save({ url: `/v1/${ UI_PLUGIN }`, method: 'POST' });\n        } catch (e) {\n          console.error('Could not create CRD for plugin', e); // eslint-disable-line no-console\n          btnCb(false);\n        }\n      }\n\n      this.$plugin.loadAsync(name, url).then(() => {\n        this.closeDialog(true);\n        this.$store.dispatch('growl/success', {\n          title:   this.t('plugins.success.title', { name }),\n          message: this.t('plugins.success.message'),\n          timeout: 3000,\n        }, { root: true });\n        btnCb(true);\n      }).catch((error) => {\n        btnCb(false);\n        // this.closeDialog(false);\n        const message = typeof error === 'object' ? this.t('plugins.error.message') : error;\n\n        this.$store.dispatch('growl/error', {\n          title:   this.t('plugins.error.title'),\n          message,\n          timeout: 5000\n        }, { root: true });\n      });\n    }\n  }\n};\n</script>\n\n<template>\n  <modal\n    name=\"developerInstallPluginDialog\"\n    height=\"auto\"\n    :scrollable=\"true\"\n  >\n    <div class=\"plugin-install-dialog\">\n      <h4>\n        {{ t('plugins.developer.title') }}\n      </h4>\n      <p>\n        {{ t('plugins.developer.prompt') }}\n      </p>\n      <div class=\"custom mt-10\">\n        <div class=\"fields\">\n          <LabeledInput\n            v-model=\"location\"\n            v-focus\n            label-key=\"plugins.developer.fields.url\"\n            @input=\"updateLocation\"\n          />\n        </div>\n      </div>\n      <div class=\"custom mt-10\">\n        <div class=\"fields\">\n          <LabeledInput\n            v-model=\"name\"\n            label-key=\"plugins.developer.fields.name\"\n            @input=\"updateName\"\n          />\n        </div>\n        <div class=\"fields mt-10\">\n          <Checkbox\n            v-model=\"persist\"\n            label-key=\"plugins.developer.fields.persist\"\n          />\n        </div>\n        <div class=\"dialog-buttons mt-20\">\n          <button\n            class=\"btn role-secondary\"\n            data-testid=\"dev-install-ext-modal-cancel-btn\"\n            @click=\"closeDialog()\"\n          >\n            {{ t('generic.cancel') }}\n          </button>\n          <AsyncButton\n            mode=\"load\"\n            data-testid=\"dev-install-ext-modal-install-btn\"\n            @click=\"loadPlugin\"\n          />\n        </div>\n      </div>\n    </div>\n  </modal>\n</template>\n\n<style lang=\"scss\" scoped>\n  .plugin-install-dialog {\n    padding: 10px;\n\n    h4 {\n      font-weight: bold;\n    }\n\n    .dialog-panel {\n      display: flex;\n      flex-direction: column;\n      min-height: 100px;\n\n      p {\n        margin-bottom: 5px;\n      }\n\n      .dialog-info {\n        flex: 1;\n      }\n\n      .toggle-advanced {\n        display: flex;\n        align-items: center;\n        cursor: pointer;\n        margin: 10px 0;\n\n        &:hover {\n          text-decoration: none;\n          color: var(--link);\n        }\n      }\n\n      .version-selector {\n        margin: 0 10px 10px 10px;\n        width: auto;\n      }\n    }\n\n    .dialog-buttons {\n      display: flex;\n      justify-content: flex-end;\n      margin-top: 10px;\n\n      > *:not(:last-child) {\n        margin-right: 10px;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DeveloperInstallDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DeveloperInstallDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DeveloperInstallDialog.vue?vue&type=template&id=c8f2eee2&scoped=true&\"\nimport script from \"./DeveloperInstallDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./DeveloperInstallDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DeveloperInstallDialog.vue?vue&type=style&index=0&id=c8f2eee2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c8f2eee2\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=231e2bca&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DeveloperInstallDialog.vue?vue&type=style&index=0&id=c8f2eee2&prod&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"plugin-info-panel\",style:((\"--banner-top-offset: \" + _vm.headerBannerSize + \"px\"))},[(_vm.showSlideIn)?_c('div',{staticClass:\"glass\",attrs:{\"data-testid\":\"extension-details-bg\"},on:{\"click\":function($event){return _vm.hide()}}}):_vm._e(),_c('div',{staticClass:\"slideIn\",class:{'hide': false, 'slideIn__show': _vm.showSlideIn},attrs:{\"data-testid\":\"extension-details\"}},[(_vm.info)?_c('div',{staticClass:\"plugin-info-content\"},[_c('div',{staticClass:\"plugin-header\"},[_c('div',{staticClass:\"plugin-icon\",class:_vm.applyDarkModeBg},[(_vm.info.icon)?_c('LazyImage',{staticClass:\"icon plugin-icon-img\",attrs:{\"initial-src\":_vm.defaultIcon,\"error-src\":_vm.defaultIcon,\"src\":_vm.info.icon}}):_c('img',{staticClass:\"icon plugin-icon-img\",attrs:{\"src\":_vm.defaultIcon}})],1),_c('div',{staticClass:\"plugin-title\"},[_c('h2',{staticClass:\"slideIn__header\",attrs:{\"data-testid\":\"extension-details-title\"}},[_vm._v(\" \"+_vm._s(_vm.info.label)+\" \")]),_c('p',{staticClass:\"plugin-description\"},[_vm._v(\" \"+_vm._s(_vm.info.description)+\" \")])]),_c('div',{staticClass:\"plugin-close\"},[_c('div',{staticClass:\"slideIn__header__buttons\"},[_c('div',{staticClass:\"slideIn__header__button\",attrs:{\"data-testid\":\"extension-details-close\"},on:{\"click\":function($event){_vm.showSlideIn = false}}},[_c('i',{staticClass:\"icon icon-close\"})])])])]),_c('div',[(_vm.info.error)?_c('Banner',{staticClass:\"mt-10\",attrs:{\"color\":\"error\",\"label\":_vm.info.error}}):_vm._e(),(_vm.info.builtin)?_c('Banner',{staticClass:\"mt-10\",attrs:{\"color\":\"warning\",\"label\":_vm.t('plugins.descriptions.built-in')}}):[(!_vm.info.certified)?_c('Banner',{staticClass:\"mt-10\",attrs:{\"color\":\"warning\",\"label\":_vm.t('plugins.descriptions.third-party')}}):_vm._e(),(_vm.info.experimental)?_c('Banner',{staticClass:\"mt-10\",attrs:{\"color\":\"warning\",\"label\":_vm.t('plugins.descriptions.experimental')}}):_vm._e()]],2),(_vm.info.versions.length)?_c('h3',[_vm._v(\" \"+_vm._s(_vm.t('plugins.info.versions'))+\" \")]):_vm._e(),_c('div',{staticClass:\"plugin-versions mb-10\"},_vm._l((_vm.info.versions),function(v){return _c('div',{key:v.version},[_c('a',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(v.requiredUiVersion ? _vm.t('plugins.info.requiresVersion', { version: v.requiredUiVersion }) : ''),expression:\"v.requiredUiVersion ? t('plugins.info.requiresVersion', { version: v.requiredUiVersion }) : ''\"}],staticClass:\"version-link\",class:{'version-active': v.version === _vm.infoVersion, 'disabled': !v.isCompatibleWithUi},on:{\"click\":function($event){return _vm.loadPluginVersionInfo(v.version)}}},[_vm._v(\" \"+_vm._s(v.version)+\" \")])])}),0),(_vm.versionError)?_c('div',[_vm._v(\" \"+_vm._s(_vm.t('plugins.info.versionError'))+\" \")]):_vm._e(),(_vm.versionInfo)?_c('h3',[_vm._v(\" \"+_vm._s(_vm.t('plugins.info.detail'))+\" \")]):_vm._e(),(_vm.versionInfo)?_c('div',{staticClass:\"plugin-info-detail\"},[(_vm.versionInfo)?_c('ChartReadme',{attrs:{\"version-info\":_vm.versionInfo}}):_vm._e()],1):_vm._e(),(!_vm.info.versions.length)?_c('div',[_c('h3',[_vm._v(\" \"+_vm._s(_vm.t('plugins.info.versions'))+\" \")]),_c('div',{staticClass:\"version-link version-active version-builtin\"},[_vm._v(\" \"+_vm._s(_vm.info.displayVersion)+\" \")])]):_vm._e()]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport ChartReadme from '@shell/components/ChartReadme';\nimport { Banner } from '@components/Banner';\nimport LazyImage from '@shell/components/LazyImage';\nimport { MANAGEMENT } from '@shell/config/types';\nimport { SETTING } from '@shell/config/settings';\n\nexport default {\n  async fetch() {\n    const bannerSetting = await this.$store.getters['management/byId'](MANAGEMENT.SETTING, SETTING.BANNERS);\n    const { showHeader, bannerHeader } = JSON.parse(bannerSetting.value);\n\n    if (showHeader === 'true') {\n      const headerBannerFontSize = Number(bannerHeader?.fontSize?.split('px')[0] ?? 0);\n\n      this.headerBannerSize = headerBannerFontSize * 2;\n    }\n  },\n  components: {\n    Banner,\n    ChartReadme,\n    LazyImage\n  },\n\n  data() {\n    return {\n      showSlideIn:      false,\n      info:             undefined,\n      infoVersion:      undefined,\n      versionInfo:      undefined,\n      versionError:     undefined,\n      defaultIcon:      require('~shell/assets/images/generic-plugin.svg'),\n      headerBannerSize: 0,\n    };\n  },\n\n  computed: {\n    ...mapGetters({ theme: 'prefs/theme' }),\n\n    applyDarkModeBg() {\n      if (this.theme === 'dark') {\n        return { 'dark-mode': true };\n      }\n\n      return {};\n    },\n  },\n\n  methods: {\n    show(info) {\n      this.info = info;\n      this.showSlideIn = true;\n      this.version = null;\n      this.versionInfo = null;\n      this.versionError = null;\n\n      this.loadPluginVersionInfo();\n    },\n\n    hide() {\n      this.showSlideIn = false;\n    },\n\n    async loadPluginVersionInfo(version) {\n      const versionName = version || this.info.displayVersion;\n\n      const isVersionNotCompatibleWithUi = this.info.versions?.find(v => v.version === versionName && !v.isCompatibleWithUi);\n\n      if (!this.info.chart || isVersionNotCompatibleWithUi) {\n        return;\n      }\n\n      this.infoVersion = versionName;\n\n      this.versionError = false;\n      this.versionInfo = undefined;\n\n      try {\n        this.versionInfo = await this.$store.dispatch('catalog/getVersionInfo', {\n          repoType:  this.info.chart.repoType,\n          repoName:  this.info.chart.repoName,\n          chartName: this.info.chart.chartName,\n          versionName\n        });\n        // Here we set us versionInfo. The returned\n        // object contains everything all info\n        // about a currently installed app, and it has the\n        // following keys:\n        //\n        // - appReadme: A short overview of what the app does. This\n        //   forms the first few paragraphs of the chart info when\n        //   you install a Helm chart app through Rancher.\n        // - chart: Metadata about the Helm chart, including the\n        //   name and version.\n        // - readme: This is more detailed information that appears\n        //   under the heading \"Chart Information (Helm README)\" when\n        //   you install or upgrade a Helm chart app through Rancher,\n        //   below the app README.\n        // - values: All Helm chart values for the currently installed\n        //   app.\n      } catch (e) {\n        this.versionError = true;\n        console.error('Unable to fetch VersionInfo: ', e); // eslint-disable-line no-console\n      }\n    }\n  }\n};\n</script>\n<template>\n  <div\n    class=\"plugin-info-panel\"\n    :style=\"`--banner-top-offset: ${headerBannerSize}px`\"\n  >\n    <div\n      v-if=\"showSlideIn\"\n      class=\"glass\"\n      data-testid=\"extension-details-bg\"\n      @click=\"hide()\"\n    />\n    <div\n      class=\"slideIn\"\n      data-testid=\"extension-details\"\n      :class=\"{'hide': false, 'slideIn__show': showSlideIn}\"\n    >\n      <div\n        v-if=\"info\"\n        class=\"plugin-info-content\"\n      >\n        <div class=\"plugin-header\">\n          <div\n            class=\"plugin-icon\"\n            :class=\"applyDarkModeBg\"\n          >\n            <LazyImage\n              v-if=\"info.icon\"\n              :initial-src=\"defaultIcon\"\n              :error-src=\"defaultIcon\"\n              :src=\"info.icon\"\n              class=\"icon plugin-icon-img\"\n            />\n            <img\n              v-else\n              :src=\"defaultIcon\"\n              class=\"icon plugin-icon-img\"\n            >\n          </div>\n          <div class=\"plugin-title\">\n            <h2\n              class=\"slideIn__header\"\n              data-testid=\"extension-details-title\"\n            >\n              {{ info.label }}\n            </h2>\n            <p class=\"plugin-description\">\n              {{ info.description }}\n            </p>\n          </div>\n          <div class=\"plugin-close\">\n            <div class=\"slideIn__header__buttons\">\n              <div\n                class=\"slideIn__header__button\"\n                data-testid=\"extension-details-close\"\n                @click=\"showSlideIn = false\"\n              >\n                <i class=\"icon icon-close\" />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div>\n          <Banner\n            v-if=\"info.error\"\n            color=\"error\"\n            :label=\"info.error\"\n            class=\"mt-10\"\n          />\n          <Banner\n            v-if=\"info.builtin\"\n            color=\"warning\"\n            :label=\"t('plugins.descriptions.built-in')\"\n            class=\"mt-10\"\n          />\n          <template v-else>\n            <Banner\n              v-if=\"!info.certified\"\n              color=\"warning\"\n              :label=\"t('plugins.descriptions.third-party')\"\n              class=\"mt-10\"\n            />\n            <Banner\n              v-if=\"info.experimental\"\n              color=\"warning\"\n              :label=\"t('plugins.descriptions.experimental')\"\n              class=\"mt-10\"\n            />\n          </template>\n        </div>\n\n        <h3 v-if=\"info.versions.length\">\n          {{ t('plugins.info.versions') }}\n        </h3>\n        <div class=\"plugin-versions mb-10\">\n          <div\n            v-for=\"v in info.versions\"\n            :key=\"v.version\"\n          >\n            <a\n              v-tooltip=\"v.requiredUiVersion ? t('plugins.info.requiresVersion', { version: v.requiredUiVersion }) : ''\"\n              class=\"version-link\"\n              :class=\"{'version-active': v.version === infoVersion, 'disabled': !v.isCompatibleWithUi}\"\n              @click=\"loadPluginVersionInfo(v.version)\"\n            >\n              {{ v.version }}\n            </a>\n          </div>\n        </div>\n\n        <div v-if=\"versionError\">\n          {{ t('plugins.info.versionError') }}\n        </div>\n        <h3 v-if=\"versionInfo\">\n          {{ t('plugins.info.detail') }}\n        </h3>\n        <div\n          v-if=\"versionInfo\"\n          class=\"plugin-info-detail\"\n        >\n          <ChartReadme\n            v-if=\"versionInfo\"\n            :version-info=\"versionInfo\"\n          />\n        </div>\n        <div v-if=\"!info.versions.length\">\n          <h3>\n            {{ t('plugins.info.versions') }}\n          </h3>\n          <div class=\"version-link version-active version-builtin\">\n            {{ info.displayVersion }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n  .plugin-info-panel {\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 1;\n\n    $slideout-width: 35%;\n    $title-height: 50px;\n    $padding: 5px;\n    $slideout-width: 35%;\n    --banner-top-offset: 0;\n    $header-height: calc(54px + var(--banner-top-offset));\n\n    .glass {\n      z-index: 9;\n      position: fixed;\n      top: $header-height;\n      height: calc(100% - $header-height);\n      left: 0;\n      width: 100%;\n      opacity: 0;\n    }\n\n    .slideIn {\n      border-left: var(--header-border-size) solid var(--header-border);\n      position: fixed;\n      top: $header-height;\n      right: -$slideout-width;\n      height: calc(100% - $header-height);\n      background-color: var(--topmenu-bg);\n      width: $slideout-width;\n      z-index: 10;\n      display: flex;\n      flex-direction: column;\n\n      padding: 10px;\n\n      transition: right .5s ease;\n\n      &__header {\n        text-transform: capitalize;\n      }\n\n      .plugin-info-content {\n        display: flex;\n        flex-direction: column;\n        overflow: hidden;\n\n        .plugin-info-detail {\n          overflow: auto;\n        }\n      }\n\n      h3 {\n        font-size: 14px;\n        margin: 15px 0 10px 0;\n        opacity: 0.7;\n        text-transform: uppercase;\n      }\n\n      .plugin-header {\n        border-bottom: 1px solid var(--border);\n        display: flex;\n        padding-bottom: 20px;\n\n        .plugin-title {\n          flex: 1;\n        }\n      }\n\n      .plugin-icon {\n        font-size: 40px;\n        margin-right:10px;\n        color: #888;\n        width: 44px;\n        height: 44px;\n\n        &.dark-mode {\n          border-radius: calc(2 * var(--border-radius));\n          overflow: hidden;\n          background-color: white;\n        }\n\n        .plugin-icon-img {\n          height: 40px;\n          width: 40px;\n          -o-object-fit: contain;\n          object-fit: contain;\n          position: relative;\n          top: 2px;\n          left: 2px;\n        }\n      }\n\n      .plugin-versions {\n        display: flex;\n        flex-wrap: wrap;\n      }\n\n      .plugin-description {\n        font-size: 15px;\n      }\n\n      .version-link {\n        cursor: pointer;\n        border: 1px solid var(--link);\n        padding: 2px 8px;\n        border-radius: 5px;\n        user-select: none;\n        margin: 0 5px 5px 0;\n        display: block;\n\n        &.version-active {\n          color: var(--link-text);\n          background: var(--link);\n        }\n\n        &.disabled {\n          cursor: not-allowed;\n          color: var(--disabled-text) !important;\n          background-color: var(--disabled-bg) !important;\n          border-color: var(--disabled-bg) !important;\n          text-decoration: none !important;\n        }\n\n        &.version-builtin {\n          display: inline-block;\n        }\n      }\n\n      &__header {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n\n        &__buttons {\n          display: flex;\n        }\n\n        &__button {\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          padding: 2px;\n          > i {\n            font-size: 20px;\n            opacity: 0.5;\n          }\n          &:hover {\n            background-color: var(--wm-closer-hover-bg);\n          }\n        }\n      }\n\n      .chart-content__tabs {\n        display: flex;\n        flex-direction: column;\n        flex: 1;\n\n        height: 0;\n\n        padding-bottom: 10px;\n\n        ::v-deep .chart-readmes {\n          flex: 1;\n          overflow: auto;\n        }\n      }\n\n      &__show {\n        right: 0;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PluginInfoPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PluginInfoPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PluginInfoPanel.vue?vue&type=template&id=226184da&scoped=true&\"\nimport script from \"./PluginInfoPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./PluginInfoPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PluginInfoPanel.vue?vue&type=style&index=0&id=226184da&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"226184da\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('IconMessage',{attrs:{\"vertical\":true,\"subtle\":false,\"icon\":\"icon-gear\"},scopedSlots:_vm._u([{key:\"message\",fn:function(){return [_c('h2',[_vm._v(\" \"+_vm._s(_vm.t('plugins.setup.title'))+\" \")]),(!_vm.loading)?_c('div',[(!_vm.haveCharts)?_c('div',[_c('p',[_vm._v(\" \"+_vm._s(_vm.t('plugins.setup.prompt.cant'))+\" \")])]):_c('div',[_c('p',[_vm._v(\" \"+_vm._s(_vm.t('plugins.setup.prompt.can'))+\" \")]),_c('AsyncButton',{staticClass:\"enable-plugin-support\",attrs:{\"mode\":\"enable\",\"manual\":true,\"current-phase\":_vm.buttonState,\"data-testid\":\"extension-enable-operator\"},on:{\"click\":_vm.enable}})],1),_vm._l((_vm.errors),function(e,i){return _c('div',{key:i,staticClass:\"plugin-setup-error\"},[_vm._v(\" \"+_vm._s(e)+\" \")])})],2):_vm._e()]},proxy:true}])}),_c('Dialog',{attrs:{\"name\":\"confirm-uiplugins-setup\",\"title\":_vm.t('plugins.setup.install.title')},on:{\"closed\":_vm.dialogClosed}},[[_c('p',[_vm._v(\" \"+_vm._s(_vm.t('plugins.setup.install.prompt'))+\" \")]),(!_vm.hasRancherUIPluginsRepo)?_c('div',{staticClass:\"mt-20\"},[_c('Checkbox',{attrs:{\"primary\":true,\"label-key\":\"plugins.setup.install.addRancherRepo\"},model:{value:(_vm.addRepo),callback:function ($$v) {_vm.addRepo=$$v},expression:\"addRepo\"}}),_c('div',{staticClass:\"checkbox-info\"},[_vm._v(\" \"+_vm._s(_vm.t('plugins.setup.install.airgap'))+\" \")])],1):_vm._e()]],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport AsyncButton from '@shell/components/AsyncButton';\nimport IconMessage from '@shell/components/IconMessage.vue';\nimport { CATALOG, MANAGEMENT } from '@shell/config/types';\nimport { CATALOG as CATALOG_ANNOTATIONS } from '@shell/config/labels-annotations';\nimport Dialog from '@shell/components/Dialog.vue';\nimport Checkbox from '@components/Form/Checkbox/Checkbox.vue';\nimport { ASYNC_BUTTON_STATES } from '@shell/components/AsyncButton.vue';\nimport {\n  UI_PLUGIN_NAMESPACE,\n  UI_PLUGIN_CHARTS,\n  UI_PLUGIN_OPERATOR_REPO_NAME,\n  UI_PLUGINS_REPO_NAME,\n  UI_PLUGINS_REPO_URL,\n  UI_PLUGINS_REPO_BRANCH,\n} from '@shell/config/uiplugins';\n\nexport default {\n  components: {\n    AsyncButton,\n    Checkbox,\n    IconMessage,\n    Dialog,\n  },\n\n  async fetch() {\n    // Check to see that the charts we need are available\n    const c = this.$store.getters['catalog/rawCharts'];\n    const charts = Object.values(c);\n    const found = [];\n\n    UI_PLUGIN_CHARTS.forEach((c) => {\n      const f = charts.find(chart => chart.repoName === UI_PLUGIN_OPERATOR_REPO_NAME & chart.chartName === c);\n\n      if (f) {\n        found.push(f);\n      }\n    });\n\n    this.haveCharts = (found.length === UI_PLUGIN_CHARTS.length);\n\n    if (this.haveCharts) {\n      this.installCharts = found;\n\n      if (this.$store.getters['management/schemaFor'](CATALOG.CLUSTER_REPO)) {\n        await this.$store.dispatch('management/findAll', { type: CATALOG.CLUSTER_REPO });\n      }\n    }\n\n    this.defaultRegistrySetting = await this.$store.dispatch('management/find', {\n      type: MANAGEMENT.SETTING,\n      id:   'system-default-registry'\n    });\n\n    this.loading = false;\n  },\n\n  data() {\n    return {\n      loading:                true,\n      haveCharts:             false,\n      installCharts:          [],\n      errors:                 [],\n      addRepo:                true,\n      buttonState:            ASYNC_BUTTON_STATES.ACTION,\n      defaultRegistrySetting: null,\n    };\n  },\n\n  computed: {\n    hasRancherUIPluginsRepo() {\n      // Look to see if the Rancher UI Plugins repository is already installed\n      const repos = this.$store.getters['catalog/repos'];\n\n      return !!repos.find(r => r.name === UI_PLUGINS_REPO_NAME);\n    }\n  },\n\n  methods: {\n    async installChart(installChart) {\n      const version = installChart.versions[0];\n      const repoType = version.repoType;\n      const repoName = version.repoName;\n      const repo = this.$store.getters['catalog/repo']({ repoType, repoName });\n\n      const chart = {\n        chartName:   installChart.chartName,\n        version:     version.version,\n        releaseName: installChart.chartName,\n        annotations: {\n          [CATALOG_ANNOTATIONS.SOURCE_REPO_TYPE]: repoType,\n          [CATALOG_ANNOTATIONS.SOURCE_REPO_NAME]: repoName\n        },\n        values: {}\n      };\n\n      // Pass in the system default registry property if set\n      const defaultRegistry = this.defaultRegistrySetting?.value || '';\n\n      if (defaultRegistry) {\n        chart.values.global = chart.values.global || {};\n        chart.values.global.cattle = chart.values.global.cattle || {};\n        chart.values.global.cattle.systemDefaultRegistry = defaultRegistry;\n      }\n\n      const input = {\n        charts:    [chart],\n        wait:      true,\n        namespace: UI_PLUGIN_NAMESPACE,\n      };\n\n      const action = 'install';\n      const res = await repo.doAction(action, input);\n      const operationId = `${ res.operationNamespace }/${ res.operationName }`;\n\n      await repo.waitForOperation(operationId);\n\n      return this.$store.dispatch(`management/find`, {\n        type: CATALOG.OPERATION,\n        id:   operationId\n      });\n    },\n\n    enable() {\n      this.errors = [];\n\n      // Reset checkbox bsed on if the repo is already installed\n      this.addRepo = !this.hasRancherUIPluginsRepo;\n\n      this.$modal.show('confirm-uiplugins-setup');\n    },\n\n    async dialogClosed(ok) {\n      this.errors = [];\n\n      // User wants to proceed\n      if (ok) {\n        this.buttonState = ASYNC_BUTTON_STATES.WAITING;\n\n        if (this.addRepo) {\n          await this.addDefaultHelmRepository();\n        }\n\n        await this.installPluginCharts();\n\n        await new Promise(resolve => setTimeout(resolve, 5000));\n\n        this.buttonState = this.errors.length > 0 ? ASYNC_BUTTON_STATES.ERROR : ASYNC_BUTTON_STATES.ACTION;\n\n        this.$emit('done');\n      }\n    },\n\n    async addDefaultHelmRepository() {\n      const name = UI_PLUGINS_REPO_NAME;\n\n      try {\n        const pluginCR = await this.$store.dispatch('management/create', {\n          type:     CATALOG.CLUSTER_REPO,\n          metadata: { name },\n          spec:     {\n            gitBranch: UI_PLUGINS_REPO_BRANCH,\n            gitRepo:   UI_PLUGINS_REPO_URL,\n          }\n        });\n\n        return pluginCR.save();\n      } catch (e) {\n        console.error(e); // eslint-disable-line no-console\n\n        this.errors.push(e.message);\n      }\n    },\n\n    async installPluginCharts() {\n      for (let i = 0; i < this.installCharts.length; i++) {\n        const chart = this.installCharts[i];\n\n        try {\n          await this.installChart(chart);\n        } catch (e) {\n          this.errors.push(e.message);\n        }\n      }\n\n      return new Promise(resolve => setTimeout(resolve, 2000));\n    }\n  }\n};\n</script>\n<template>\n  <div>\n    <IconMessage\n      :vertical=\"true\"\n      :subtle=\"false\"\n      icon=\"icon-gear\"\n    >\n      <template v-slot:message>\n        <h2>\n          {{ t('plugins.setup.title') }}\n        </h2>\n        <div v-if=\"!loading\">\n          <div v-if=\"!haveCharts\">\n            <p>\n              {{ t('plugins.setup.prompt.cant') }}\n            </p>\n          </div>\n          <div v-else>\n            <p>\n              {{ t('plugins.setup.prompt.can') }}\n            </p>\n            <AsyncButton\n              mode=\"enable\"\n              :manual=\"true\"\n              :current-phase=\"buttonState\"\n              class=\"enable-plugin-support\"\n              data-testid=\"extension-enable-operator\"\n              @click=\"enable\"\n            />\n          </div>\n          <div\n            v-for=\"(e, i) in errors\"\n            :key=\"i\"\n            class=\"plugin-setup-error\"\n          >\n            {{ e }}\n          </div>\n        </div>\n      </template>\n    </IconMessage>\n    <Dialog\n      name=\"confirm-uiplugins-setup\"\n      :title=\"t('plugins.setup.install.title')\"\n      @closed=\"dialogClosed\"\n    >\n      <template>\n        <p>\n          {{ t('plugins.setup.install.prompt') }}\n        </p>\n        <div\n          v-if=\"!hasRancherUIPluginsRepo\"\n          class=\"mt-20\"\n        >\n          <Checkbox\n            v-model=\"addRepo\"\n            :primary=\"true\"\n            label-key=\"plugins.setup.install.addRancherRepo\"\n          />\n          <div class=\"checkbox-info\">\n            {{ t('plugins.setup.install.airgap') }}\n          </div>\n        </div>\n      </template>\n    </Dialog>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n  .enable-plugin-support {\n    font-size: 14px;\n    margin-top: 20px;\n  }\n\n  .plugin-setup-error {\n    font-size: 14px;\n    color: var(--error);\n    margin: 10px 0 0 0;\n  }\n\n  .checkbox-info {\n    margin-left: 20px;\n    opacity: 0.7;\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SetupUIPlugins.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SetupUIPlugins.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SetupUIPlugins.vue?vue&type=template&id=320baac8&scoped=true&\"\nimport script from \"./SetupUIPlugins.vue?vue&type=script&lang=js&\"\nexport * from \"./SetupUIPlugins.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SetupUIPlugins.vue?vue&type=style&index=0&id=320baac8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"320baac8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveUIPlugins.vue?vue&type=style&index=0&id=e4a36550&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InstallDialog.vue?vue&type=style&index=0&id=0c3745a3&prod&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal',{attrs:{\"name\":_vm.name,\"height\":\"auto\",\"scrollable\":true},on:{\"closed\":function($event){return _vm.closeDialog(false)},\"before-open\":_vm.beforeOpen}},[_c('div',{staticClass:\"modal-dialog\"},[_c('h4',[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_vm._t(\"default\"),_c('div',{staticClass:\"dialog-buttons mt-20\"},[_vm._t(\"buttons\"),(!_vm.$slots.buttons)?_c('div',[_c('button',{staticClass:\"btn role-secondary\",on:{\"click\":function($event){return _vm.closeDialog(false)}}},[_vm._v(\" \"+_vm._s(_vm.t('generic.cancel'))+\" \")]),(!_vm.mode)?_c('button',{staticClass:\"btn role-primary ml-10\",on:{\"click\":function($event){return _vm.closeDialog(true)}}},[_vm._v(\" \"+_vm._s(_vm.t('generic.ok'))+\" \")]):_c('AsyncButton',{staticClass:\"ml-10\",attrs:{\"mode\":_vm.mode},on:{\"click\":_vm.ok}})],1):_vm._e()],2)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport AsyncButton from '@shell/components/AsyncButton';\n\nexport default {\n  components: { AsyncButton },\n\n  props: {\n    name: {\n      type:     String,\n      required: true,\n    },\n\n    title: {\n      type:     String,\n      required: true,\n    },\n\n    mode: {\n      type:    String,\n      default: '',\n    }\n  },\n\n  data() {\n    return { closed: false };\n  },\n\n  methods: {\n    beforeOpen() {\n      this.closed = false;\n    },\n\n    ok(btnCb) {\n      const callback = (ok) => {\n        btnCb(ok);\n        if (ok) {\n          this.closeDialog(true);\n        }\n      };\n\n      this.$emit('okay', callback);\n    },\n\n    closeDialog(result) {\n      if (!this.closed) {\n        this.$modal.hide(this.name);\n        this.$emit('closed', result);\n        this.closed = true;\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <modal\n    :name=\"name\"\n    height=\"auto\"\n    :scrollable=\"true\"\n    @closed=\"closeDialog(false)\"\n    @before-open=\"beforeOpen\"\n  >\n    <div class=\"modal-dialog\">\n      <h4>\n        {{ title }}\n      </h4>\n      <slot />\n      <div class=\"dialog-buttons mt-20\">\n        <slot name=\"buttons\" />\n        <div v-if=\"!$slots.buttons\">\n          <button\n            class=\"btn role-secondary\"\n            @click=\"closeDialog(false)\"\n          >\n            {{ t('generic.cancel') }}\n          </button>\n          <button\n            v-if=\"!mode\"\n            class=\"btn role-primary ml-10\"\n            @click=\"closeDialog(true)\"\n          >\n            {{ t('generic.ok') }}\n          </button>\n          <AsyncButton\n            v-else\n            :mode=\"mode\"\n            class=\"ml-10\"\n            @click=\"ok\"\n          />\n        </div>\n      </div>\n    </div>\n  </modal>\n</template>\n\n<style lang=\"scss\" scoped>\n  .modal-dialog {\n    padding: 10px;\n\n    h4 {\n      font-weight: bold;\n    }\n\n    .dialog-buttons {\n      display: flex;\n      justify-content: flex-end;\n      margin-top: 10px;\n\n      > *:not(:last-child) {\n        margin-right: 10px;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dialog.vue?vue&type=template&id=5130a572&scoped=true&\"\nimport script from \"./Dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./Dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dialog.vue?vue&type=style&index=0&id=5130a572&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5130a572\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SetupUIPlugins.vue?vue&type=style&index=0&id=320baac8&prod&lang=scss&scoped=true&\""],"sourceRoot":""}