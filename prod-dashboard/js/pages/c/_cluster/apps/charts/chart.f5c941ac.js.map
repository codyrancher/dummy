{"version":3,"sources":["webpack:///./shell/mixins/chart.js","webpack:///./shell/pages/c/_cluster/apps/charts/chart.vue?bdb3","webpack:///shell/pages/c/_cluster/apps/charts/chart.vue","webpack:///./shell/pages/c/_cluster/apps/charts/chart.vue?7ced","webpack:///./shell/pages/c/_cluster/apps/charts/chart.vue","webpack:///./shell/pages/c/_cluster/apps/charts/chart.vue?eb1a"],"names":["data","version","versionInfo","existing","ignoreWarning","computed","mapGetters","showPreRelease","mapPref","SHOW_PRE_RELEASE","chart","this","repo","query","chartName","$store","getters","repoType","repoName","includeHidden","showReadme","readme","hasReadme","appReadme","mappedVersions","versions","selectedVersion","targetVersion","OSs","currentCluster","workerOSs","out","forEach","nue","label","originalVersion","shortLabel","length","slice","id","created","disabled","keywords","permittedSystems","annotations","CATALOG_ANNOTATIONS","PERMITTED_OS","LINUX","split","difference","t","ver","isPrerelease","push","selectedMatch","find","v","unshift","currentVersion","filteredVersions","filter","isPre","$route","REPO_TYPE","REPO","CHART","versionName","VERSION","appNamespace","NAMESPACE","appName","NAME","description","DESCRIPTION_QUERY","showDeprecated","DEPRECATED","_FLAGGED","showHidden","HIDDEN","warnings","needCpu","parseSi","REQUESTS_CPU","needMemory","REQUESTS_MEMORY","availableCpu","availableMemory","need","Math","round","have","formatSi","increment","suffix","firstSuffix","requires","required","REQUIRES_GVK","x","reverse","gvr","provider","url","$router","resolve","chartLocation","href","name","spec","metadata","action","isChartTargeted","targetNamespace","targetName","hasQuestions","questions","methods","fetchChart","dispatch","force","reset","type","CATALOG","APP","mode","_EDIT","_CREATE","e","console","error","warn","selectVersion","applyQuery","install","prov","params","cluster","product","appLocation","detailLocation","resource","clusterToolsLocation","EXPLORER","clustersLocation","MANAGER","CAPI","RANCHER_CLUSTER","render","_vm","_h","$createElement","_c","_self","$fetchState","attrs","staticClass","icon","_v","_s","chartNameDisplay","_e","on","$event","preventDefault","apply","arguments","targetedAppWarning","osWarning","domProps","_l","msg","key","vers","directives","rawName","value","expression","showLastVersions","showMoreVersions","appVersion","home","m","text","s","urls","join","staticRenderFns","components","Banner","ChartReadme","DateFormatter","LazyImage","Loading","TypeDescription","mixins","ChartMixin","fetch","maintainers","watch","neu","old","component"],"mappings":"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","file":"js/pages/c/_cluster/apps/charts/chart.f5c941ac.js","sourcesContent":["\nimport { mapGetters } from 'vuex';\n\nimport {\n  REPO_TYPE, REPO, CHART, VERSION, NAMESPACE, NAME, DESCRIPTION as DESCRIPTION_QUERY, DEPRECATED, HIDDEN, _FLAGGED, _CREATE, _EDIT\n} from '@shell/config/query-params';\nimport { CATALOG as CATALOG_ANNOTATIONS } from '@shell/config/labels-annotations';\nimport { SHOW_PRE_RELEASE, mapPref } from '@shell/store/prefs';\nimport { NAME as EXPLORER } from '@shell/config/product/explorer';\nimport { NAME as MANAGER } from '@shell/config/product/manager';\n\nimport { formatSi, parseSi } from '@shell/utils/units';\nimport { CAPI, CATALOG } from '@shell/config/types';\nimport { isPrerelease } from '@shell/utils/version';\nimport difference from 'lodash/difference';\nimport { LINUX } from '@shell/store/catalog';\n\nexport default {\n  data() {\n    return {\n      version:     null,\n      versionInfo: null,\n      existing:    null,\n\n      ignoreWarning: false,\n\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster', 'isRancher']),\n\n    showPreRelease: mapPref(SHOW_PRE_RELEASE),\n\n    chart() {\n      if ( this.repo && this.query.chartName ) {\n        return this.$store.getters['catalog/chart']({\n          repoType:      this.query.repoType,\n          repoName:      this.query.repoName,\n          chartName:     this.query.chartName,\n          includeHidden: true,\n        });\n      }\n\n      return null;\n    },\n\n    repo() {\n      return this.$store.getters['catalog/repo']({\n        repoType: this.query.repoType,\n        repoName: this.query.repoName,\n      });\n    },\n\n    showReadme() {\n      return !!this.versionInfo?.readme;\n    },\n\n    hasReadme() {\n      return !!this.versionInfo?.appReadme || !!this.versionInfo?.readme;\n    },\n\n    mappedVersions() {\n      const versions = this.chart?.versions || [];\n      const selectedVersion = this.targetVersion;\n      const OSs = this.currentCluster?.workerOSs;\n      const out = [];\n\n      versions.forEach((version) => {\n        const nue = {\n          label:           version.version,\n          version:         version.version,\n          originalVersion: version.version,\n          shortLabel:      version.version.length > 16 ? `${ version.version.slice(0, 15) }...` : version.version,\n          id:              version.version,\n          created:         version.created,\n          disabled:        false,\n          keywords:        version.keywords\n        };\n\n        const permittedSystems = (version?.annotations?.[CATALOG_ANNOTATIONS.PERMITTED_OS] || LINUX).split(',');\n\n        if (permittedSystems.length > 0 && difference(OSs, permittedSystems).length > 0) {\n          nue.disabled = true;\n        }\n        // if only one OS is allowed, show '<OS>-only' on hover\n        if (permittedSystems.length === 1) {\n          nue.label = this.t(`catalog.install.versions.${ permittedSystems[0] }`, { ver: version.version });\n        }\n\n        if (!this.showPreRelease && isPrerelease(version.version)) {\n          return;\n        }\n\n        out.push(nue);\n      });\n\n      const selectedMatch = out.find(v => v.id === selectedVersion);\n\n      if (!selectedMatch) {\n        out.unshift({\n          label:           selectedVersion,\n          originalVersion: selectedVersion,\n          shortLabel:      selectedVersion.length > 16 ? `${ selectedVersion.slice(0, 15) }...` : selectedVersion,\n          id:              selectedVersion,\n          created:         null,\n          disabled:        false,\n          keywords:        []\n        });\n      }\n\n      const currentVersion = out.find(v => v.originalVersion === this.currentVersion);\n\n      if (currentVersion) {\n        currentVersion.label = this.t('catalog.install.versions.current', { ver: this.currentVersion });\n      }\n\n      return out;\n    },\n\n    // Conditionally filter out prerelease versions of the chart.\n    filteredVersions() {\n      return this.showPreRelease ? this.mappedVersions : this.mappedVersions.filter(v => !v.isPre);\n    },\n\n    query() {\n      const query = this.$route.query;\n\n      return {\n        repoType:     query[REPO_TYPE],\n        repoName:     query[REPO],\n        chartName:    query[CHART],\n        versionName:  query[VERSION],\n        appNamespace: query[NAMESPACE] || '',\n        appName:      query[NAME] || '',\n        description:  query[DESCRIPTION_QUERY]\n      };\n    },\n\n    showDeprecated() {\n      return this.$route.query[DEPRECATED] === _FLAGGED;\n    },\n\n    showHidden() {\n      return this.$route.query[HIDDEN] === _FLAGGED;\n    },\n\n    // If the user is installing the app for the first time,\n    // warn them about CPU and memory requirements.\n    warnings() {\n      const warnings = [];\n\n      if ( this.existing ) {\n        // Ignore the limits on upgrade (or if asked by query) and don't show any warnings\n      } else {\n        // The UI will show warnings about CPU and memory if\n        // these annotations are added to Helm chart:\n        // - catalog.cattle.io/requests-cpu\n        // - catalog.cattle.io/requests-memory\n        const needCpu = parseSi(this.version?.annotations?.[CATALOG_ANNOTATIONS.REQUESTS_CPU] || '0');\n        const needMemory = parseSi(this.version?.annotations?.[CATALOG_ANNOTATIONS.REQUESTS_MEMORY] || '0');\n\n        // Note: These are null if unknown\n        const availableCpu = this.currentCluster?.availableCpu;\n        const availableMemory = this.currentCluster?.availableMemory;\n\n        if ( availableCpu !== null && availableCpu < needCpu ) {\n          warnings.push(this.t('catalog.install.error.insufficientCpu', {\n            need: Math.round(needCpu * 100) / 100,\n            have: Math.round(availableCpu * 100) / 100,\n          }));\n        }\n\n        if ( availableMemory !== null && availableMemory < needMemory ) {\n          warnings.push(this.t('catalog.install.error.insufficientMemory', {\n            need: formatSi(needMemory, {\n              increment: 1024, suffix: 'iB', firstSuffix: 'B'\n            }),\n            have: formatSi(availableMemory, {\n              increment: 1024, suffix: 'iB', firstSuffix: 'B'\n            }),\n          }));\n        }\n      }\n\n      return warnings;\n    },\n\n    requires() {\n      const requires = [];\n\n      const required = (this.version?.annotations?.[CATALOG_ANNOTATIONS.REQUIRES_GVK] || '').split(/\\s*,\\s*/).filter(x => !!x).reverse();\n\n      if ( required.length ) {\n        for ( const gvr of required ) {\n          if ( this.$store.getters['catalog/isInstalled']({ gvr }) ) {\n            continue;\n          }\n\n          const provider = this.provider(gvr);\n\n          if ( provider ) {\n            const url = this.$router.resolve(this.chartLocation(true, provider)).href;\n\n            requires.push(this.t('catalog.install.error.requiresFound', {\n              url,\n              name: provider.name\n            }, true));\n          } else {\n            requires.push(this.t('catalog.install.error.requiresMissing', { name: gvr }));\n          }\n        }\n      }\n\n      return requires;\n    },\n\n    currentVersion() {\n      return this.existing?.spec.chart.metadata.version;\n    },\n\n    targetVersion() {\n      return this.version ? this.version.version : this.query.versionName;\n    },\n\n    action() {\n      if (this.existing) {\n        return this.currentVersion === this.targetVersion ? 'update' : 'upgrade';\n      }\n\n      return 'install';\n    },\n\n    isChartTargeted() {\n      return this.chart?.targetNamespace && this.chart?.targetName;\n    },\n\n    hasQuestions() {\n      return this.versionInfo && !!this.versionInfo.questions;\n    },\n  },\n\n  methods: {\n    async fetchChart() {\n      await this.$store.dispatch('catalog/load', { force: true, reset: true }); // not the problem\n\n      if ( this.query.appNamespace && this.query.appName ) {\n        // First check the URL query for an app name and namespace.\n        // Use those values to check for a catalog app resource.\n        // If found, set the form to edit mode. If not, set the\n        // form to create mode.\n\n        try {\n          this.existing = await this.$store.dispatch('cluster/find', {\n            type: CATALOG.APP,\n            id:   `${ this.query.appNamespace }/${ this.query.appName }`,\n          });\n\n          this.mode = _EDIT;\n        } catch (e) {\n          this.mode = _CREATE;\n          this.existing = null;\n        }\n      } else if ( this.chart?.targetNamespace && this.chart?.targetName ) {\n        // If the app name and namespace values are not provided in the\n        // query, fall back on target values defined in the Helm chart itself.\n\n        // Ask to install a special chart with fixed namespace/name\n        // or edit it if there's an existing install.\n\n        try {\n          this.existing = await this.$store.dispatch('cluster/find', {\n            type: CATALOG.APP,\n            id:   `${ this.chart.targetNamespace }/${ this.chart.targetName }`,\n          });\n          this.mode = _EDIT;\n        } catch (e) {\n          this.mode = _CREATE;\n          this.existing = null;\n        }\n      } else {\n        // Regular create\n\n        this.mode = _CREATE;\n      }\n\n      if ( !this.chart ) {\n        return;\n      }\n\n      // If no version is given in the URL query,\n      // use the first version provided by the Helm chart\n      // as the default.\n      if ( !this.query.versionName && this.chart.versions?.length ) {\n        this.query.versionName = this.chart.versions[0].version;\n      }\n\n      if ( !this.query.versionName ) {\n        return;\n      }\n\n      try {\n        this.version = this.$store.getters['catalog/version']({\n          repoType:    this.query.repoType,\n          repoName:    this.query.repoName,\n          chartName:   this.query.chartName,\n          versionName: this.query.versionName\n        });\n      } catch (e) {\n        console.error('Unable to fetch Version: ', e); // eslint-disable-line no-console\n      }\n      if (!this.version) {\n        console.warn('No version found: ', this.query.repoType, this.query.repoName, this.query.chartName, this.query.versionName);// eslint-disable-line no-console\n      }\n\n      try {\n        this.versionInfo = await this.$store.dispatch('catalog/getVersionInfo', {\n          repoType:    this.query.repoType,\n          repoName:    this.query.repoName,\n          chartName:   this.query.chartName,\n          versionName: this.query.versionName\n        });\n        // Here we set us versionInfo. The returned\n        // object contains everything all info\n        // about a currently installed app, and it has the\n        // following keys:\n        //\n        // - appReadme: A short overview of what the app does. This\n        //   forms the first few paragraphs of the chart info when\n        //   you install a Helm chart app through Rancher.\n        // - chart: Metadata about the Helm chart, including the\n        //   name and version.\n        // - readme: This is more detailed information that appears\n        //   under the heading \"Chart Information (Helm README)\" when\n        //   you install or upgrade a Helm chart app through Rancher,\n        //   below the app README.\n        // - values: All Helm chart values for the currently installed\n        //   app.\n      } catch (e) {\n        console.error('Unable to fetch VersionInfo: ', e); // eslint-disable-line no-console\n      }\n    }, // End of fetchChart\n\n    selectVersion({ id: version }) {\n      this.$router.applyQuery({ [VERSION]: version });\n    },\n\n    provider(gvr) {\n      return this.$store.getters['catalog/versionProviding']({\n        gvr,\n        repoName: this.chart.repoName,\n        repoType: this.chart.repoType\n      });\n    },\n\n    /**\n     * Location of chart install or details page for either the current chart or from gvr\n     */\n    chartLocation(install = false, prov) {\n      const provider = prov || {\n        repoType: this.chart.repoType,\n        repoName: this.chart.repoName,\n        name:     this.chart.chartName,\n        version:  this.chart.versionName,\n      };\n\n      return {\n        name:   install ? 'c-cluster-apps-charts-install' : 'c-cluster-apps-charts-chart',\n        params: {\n          cluster: this.$route.params.cluster,\n          product: this.$store.getters['productId'],\n        },\n        query: {\n          [REPO_TYPE]: provider.repoType,\n          [REPO]:      provider.repoName,\n          [CHART]:     provider.name,\n          [VERSION]:   provider.version,\n        }\n      };\n    },\n\n    appLocation() {\n      return this.existing?.detailLocation || {\n        name:   `c-cluster-product-resource`,\n        params: {\n          product:  this.$store.getters['productId'],\n          cluster:  this.$store.getters['clusterId'],\n          resource: CATALOG.APP,\n        }\n      };\n    },\n\n    clusterToolsLocation() {\n      return {\n        name:   `c-cluster-explorer-tools`,\n        params: {\n          product:  EXPLORER,\n          cluster:  this.$store.getters['clusterId'],\n          resource: CATALOG.APP,\n        }\n      };\n    },\n\n    clustersLocation() {\n      return {\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster:  this.$route.params.cluster,\n          product:  MANAGER,\n          resource: CAPI.RANCHER_CLUSTER,\n        },\n      };\n    }\n  },\n\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$fetchState.pending)?_c('Loading'):_c('div',[_c('TypeDescription',{attrs:{\"resource\":\"chart\"}}),(_vm.chart)?_c('div',{staticClass:\"chart-header\"},[_c('div',{staticClass:\"name-logo-install\"},[_c('div',{staticClass:\"name-logo\"},[_c('div',{staticClass:\"logo-bg\"},[_c('LazyImage',{staticClass:\"logo\",attrs:{\"src\":_vm.chart.icon}})],1),_c('h1',[_c('nuxt-link',{attrs:{\"to\":{ name: 'c-cluster-apps-charts' }}},[_vm._v(\" \"+_vm._s(_vm.t('catalog.chart.header.charts'))+\": \")]),_vm._v(\" \"+_vm._s(_vm.chart.chartNameDisplay)+\" (\"+_vm._s(_vm.targetVersion)+\") \")],1)]),(!_vm.requires.length)?_c('button',{staticClass:\"btn role-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.install.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.t((\"asyncButton.\" + _vm.action + \".action\") ))+\" \")]):_vm._e()]),(_vm.chart.windowsIncompatible)?_c('div',{staticClass:\"mt-5\"},[_c('label',{staticClass:\"os-label\"},[_vm._v(_vm._s(_vm.t('catalog.charts.windowsIncompatible')))])]):_vm._e(),(_vm.requires.length || _vm.warnings.length || _vm.targetedAppWarning || _vm.osWarning)?_c('div',{staticClass:\"mt-20\"},[(_vm.osWarning)?_c('Banner',{attrs:{\"color\":\"error\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.osWarning)}})]):_vm._e(),_vm._l((_vm.requires),function(msg){return _c('Banner',{key:msg,attrs:{\"color\":\"error\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(msg)}})])}),_vm._l((_vm.warnings),function(msg){return _c('Banner',{key:msg,attrs:{\"color\":\"warning\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(msg)}})])}),(_vm.targetedAppWarning)?_c('Banner',{attrs:{\"color\":\"warning\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.targetedAppWarning)}})]):_vm._e()],2):(_vm.version && _vm.version.description)?_c('div',{staticClass:\"description mt-10\"},[_c('p',[_vm._v(\" \"+_vm._s(_vm.version.description)+\" \")])]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"spacer\"}),_c('div',{staticClass:\"chart-content\"},[(_vm.hasReadme)?_c('ChartReadme',{staticClass:\"chart-content__tabs\",attrs:{\"version-info\":_vm.versionInfo}}):_c('div',{staticClass:\"chart-content__tabs\"},[_vm._v(\" \"+_vm._s(_vm.t('catalog.install.appReadmeMissing', {}, true))+\" \")]),(_vm.version)?_c('div',{staticClass:\"chart-content__right-bar ml-20\"},[_c('div',{staticClass:\"chart-content__right-bar__section\"},[_c('h3',[_vm._v(\" \"+_vm._s(_vm.t('catalog.chart.info.chartVersions.label'))+\" \")]),_vm._l((_vm.versions),function(vers){return _c('div',{key:vers.id,staticClass:\"chart-content__right-bar__section--cVersion\"},[(vers.originalVersion === _vm.version.version)?_c('b',[_vm._v(_vm._s(vers.originalVersion === _vm.currentVersion ? _vm.t('catalog.install.versions.current', { ver: _vm.currentVersion }): vers.shortLabel))]):_c('a',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(vers.label.length > 16 ? vers.label : null),expression:\"vers.label.length > 16 ? vers.label : null\"}],on:{\"click\":function($event){$event.preventDefault();return _vm.selectVersion(vers)}}},[_vm._v(\" \"+_vm._s(vers.originalVersion === _vm.currentVersion ? _vm.t('catalog.install.versions.current', { ver: _vm.currentVersion }): vers.shortLabel)+\" \")]),_c('DateFormatter',{attrs:{\"value\":vers.created,\"show-time\":false}})],1)}),_c('div',{staticClass:\"mt-10 chart-content__right-bar__section--showMore\"},[(_vm.mappedVersions.length > _vm.showLastVersions)?_c('button',{staticClass:\"btn btn-sm role-link\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showMoreVersions = !_vm.showMoreVersions}}},[_vm._v(\" \"+_vm._s(_vm.t((\"catalog.chart.info.chartVersions.\" + (_vm.showMoreVersions ? 'showLess' : 'showMore'))))+\" \")]):_vm._e()])],2),_c('div',{staticClass:\"chart-content__right-bar__section\"},[_c('h3',{attrs:{\"t\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.t('catalog.chart.info.appVersion'))+\" \")]),_vm._v(\" \"+_vm._s(_vm.version.appVersion)+\" \")]),(_vm.version.home)?_c('div',{staticClass:\"chart-content__right-bar__section\"},[_c('h3',[_vm._v(_vm._s(_vm.t('catalog.chart.info.home')))]),_c('a',{attrs:{\"href\":_vm.version.home,\"rel\":\"nofollow noopener noreferrer\",\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.version.home))])]):_vm._e(),(_vm.version.maintainers)?_c('div',{staticClass:\"chart-content__right-bar__section\"},[_c('h3',[_vm._v(_vm._s(_vm.t('catalog.chart.info.maintainers')))]),_vm._l((_vm.maintainers),function(m){return _c('a',{key:m.id,attrs:{\"href\":m.url,\"rel\":\"nofollow noopener noreferrer\",\"target\":\"_blank\"}},[_vm._v(_vm._s(m.text))])})],2):_vm._e(),(_vm.version.sources)?_c('div',{staticClass:\"chart-content__right-bar__section\"},[_c('h3',[_vm._v(_vm._s(_vm.t('catalog.chart.info.related')))]),_vm._l((_vm.version.sources),function(s){return _c('a',{key:s,attrs:{\"href\":s,\"rel\":\"nofollow noopener noreferrer\",\"target\":\"_blank\"}},[_vm._v(_vm._s(s))])})],2):_vm._e(),(_vm.version.urls)?_c('div',{staticClass:\"chart-content__right-bar__section\"},[_c('h3',[_vm._v(_vm._s(_vm.t('catalog.chart.info.chartUrls')))]),_vm._l((_vm.version.urls),function(url){return _c('a',{key:url,attrs:{\"href\":url,\"rel\":\"nofollow noopener noreferrer\",\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.version.urls.length === 1 ? 'Download': url))])})],2):_vm._e(),(_vm.version.keywords)?_c('div',{staticClass:\"chart-content__right-bar__section chart-content__right-bar__section--keywords\"},[_c('h3',[_vm._v(_vm._s(_vm.t('catalog.chart.info.keywords')))]),_vm._v(\" \"+_vm._s(_vm.version.keywords.join(', '))+\" \")]):_vm._e()]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport Loading from '@shell/components/Loading';\nimport ChartMixin from '@shell/mixins/chart';\nimport { Banner } from '@components/Banner';\nimport ChartReadme from '@shell/components/ChartReadme';\nimport LazyImage from '@shell/components/LazyImage';\nimport DateFormatter from '@shell/components/formatter/Date';\nimport isEqual from 'lodash/isEqual';\nimport { CHART, REPO, REPO_TYPE, VERSION } from '@shell/config/query-params';\nimport { mapGetters } from 'vuex';\nimport { compatibleVersionsFor } from '@shell/store/catalog';\nimport TypeDescription from '@shell/components/TypeDescription';\nexport default {\n  components: {\n    Banner,\n    ChartReadme,\n    DateFormatter,\n    LazyImage,\n    Loading,\n    TypeDescription\n  },\n\n  mixins: [\n    ChartMixin\n  ],\n\n  async fetch() {\n    await this.fetchChart();\n  },\n\n  data() {\n    return {\n      showLastVersions: 10,\n      showMoreVersions: false,\n    };\n  },\n\n  computed: {\n    ...mapGetters(['currentCluster']),\n\n    versions() {\n      return this.showMoreVersions ? this.mappedVersions : this.mappedVersions.slice(0, this.showLastVersions);\n    },\n\n    targetedAppWarning() {\n      if (!this.existing) {\n        return;\n      }\n      const url = this.$router.resolve(this.appLocation()).href;\n\n      return this.isChartTargeted ? this.t('catalog.chart.errors.clusterToolExists', { url }, true) : '';\n    },\n\n    maintainers() {\n      return this.version.maintainers.map((m) => {\n        return {\n          id:   m.name,\n          text: m.name,\n          url:  `mailto:${ m.email }`\n        };\n      });\n    },\n\n    osWarning() {\n      if (this.chart) {\n        const compatible = compatibleVersionsFor(this.chart, this.currentCluster.workerOSs, this.showPreRelease );\n\n        const currentlyCompatible = !!compatible.find((version) => {\n          return version.version === this.targetVersion;\n        });\n\n        if (currentlyCompatible) {\n          return false;\n        } else if (compatible.length > 0) {\n          return this.t('catalog.os.versionIncompatible');\n        } else {\n          return this.t('catalog.os.chartIncompatible');\n        }\n      }\n\n      return false;\n    }\n\n  },\n\n  watch: {\n    '$route.query'(neu, old) {\n      if ( !isEqual(neu, old) ) {\n        this.$fetch();\n      }\n    },\n  },\n\n  methods: {\n    install() {\n      this.$router.push({\n        name:   'c-cluster-apps-charts-install',\n        params: {\n          cluster: this.$route.params.cluster,\n          product: this.$store.getters['productId'],\n        },\n        query: {\n          [REPO_TYPE]: this.query.repoType,\n          [REPO]:      this.query.repoName,\n          [CHART]:     this.query.chartName,\n          [VERSION]:   this.query.versionName,\n        }\n      });\n    },\n\n  },\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <TypeDescription resource=\"chart\" />\n\n    <div\n      v-if=\"chart\"\n      class=\"chart-header\"\n    >\n      <div class=\"name-logo-install\">\n        <div class=\"name-logo\">\n          <div class=\"logo-bg\">\n            <LazyImage\n              :src=\"chart.icon\"\n              class=\"logo\"\n            />\n          </div>\n          <h1>\n            <nuxt-link :to=\"{ name: 'c-cluster-apps-charts' }\">\n              {{ t('catalog.chart.header.charts') }}:\n            </nuxt-link>\n            {{ chart.chartNameDisplay }} ({{ targetVersion }})\n          </h1>\n        </div>\n        <button\n          v-if=\"!requires.length\"\n          type=\"button\"\n          class=\"btn role-primary\"\n          @click.prevent=\"install\"\n        >\n          {{ t(`asyncButton.${action}.action` ) }}\n        </button>\n      </div>\n      <div\n        v-if=\"chart.windowsIncompatible\"\n        class=\"mt-5\"\n      >\n        <label class=\"os-label\">{{ t('catalog.charts.windowsIncompatible') }}</label>\n      </div>\n      <div\n        v-if=\"requires.length || warnings.length || targetedAppWarning || osWarning\"\n        class=\"mt-20\"\n      >\n        <Banner\n          v-if=\"osWarning\"\n          color=\"error\"\n        >\n          <span v-html=\"osWarning\" />\n        </Banner>\n        <Banner\n          v-for=\"msg in requires\"\n          :key=\"msg\"\n          color=\"error\"\n        >\n          <span v-html=\"msg\" />\n        </Banner>\n\n        <Banner\n          v-for=\"msg in warnings\"\n          :key=\"msg\"\n          color=\"warning\"\n        >\n          <span v-html=\"msg\" />\n        </Banner>\n\n        <Banner\n          v-if=\"targetedAppWarning\"\n          color=\"warning\"\n        >\n          <span v-html=\"targetedAppWarning\" />\n        </Banner>\n      </div>\n      <div\n        v-else-if=\"version && version.description\"\n        class=\"description mt-10\"\n      >\n        <p>\n          {{ version.description }}\n        </p>\n      </div>\n    </div>\n\n    <div class=\"spacer\" />\n\n    <div class=\"chart-content\">\n      <ChartReadme\n        v-if=\"hasReadme\"\n        :version-info=\"versionInfo\"\n        class=\"chart-content__tabs\"\n      />\n      <div\n        v-else\n        class=\"chart-content__tabs\"\n      >\n        {{ t('catalog.install.appReadmeMissing', {}, true) }}\n      </div>\n      <div\n        v-if=\"version\"\n        class=\"chart-content__right-bar ml-20\"\n      >\n        <div class=\"chart-content__right-bar__section\">\n          <h3>\n            {{ t('catalog.chart.info.chartVersions.label') }}\n          </h3>\n          <div\n            v-for=\"vers of versions\"\n            :key=\"vers.id\"\n            class=\"chart-content__right-bar__section--cVersion\"\n          >\n            <b v-if=\"vers.originalVersion === version.version\">{{ vers.originalVersion === currentVersion ? t('catalog.install.versions.current', { ver: currentVersion }): vers.shortLabel }}</b>\n            <a\n              v-else\n              v-tooltip=\"vers.label.length > 16 ? vers.label : null\"\n              @click.prevent=\"selectVersion(vers)\"\n            >\n              {{ vers.originalVersion === currentVersion ? t('catalog.install.versions.current', { ver: currentVersion }): vers.shortLabel }}\n            </a>\n            <DateFormatter\n              :value=\"vers.created\"\n              :show-time=\"false\"\n            />\n          </div>\n          <div class=\"mt-10 chart-content__right-bar__section--showMore\">\n            <button\n              v-if=\"mappedVersions.length > showLastVersions\"\n              type=\"button\"\n              class=\"btn btn-sm role-link\"\n              @click=\"showMoreVersions = !showMoreVersions\"\n            >\n              {{ t(`catalog.chart.info.chartVersions.${showMoreVersions ? 'showLess' : 'showMore'}`) }}\n            </button>\n          </div>\n        </div>\n        <div class=\"chart-content__right-bar__section\">\n          <h3 t>\n            {{ t('catalog.chart.info.appVersion') }}\n          </h3>\n          {{ version.appVersion }}\n        </div>\n        <div\n          v-if=\"version.home\"\n          class=\"chart-content__right-bar__section\"\n        >\n          <h3>{{ t('catalog.chart.info.home') }}</h3>\n          <a\n            :href=\"version.home\"\n            rel=\"nofollow noopener noreferrer\"\n            target=\"_blank\"\n          >{{ version.home }}</a>\n        </div>\n        <div\n          v-if=\"version.maintainers\"\n          class=\"chart-content__right-bar__section\"\n        >\n          <h3>{{ t('catalog.chart.info.maintainers') }}</h3>\n          <a\n            v-for=\"m of maintainers\"\n            :key=\"m.id\"\n            :href=\"m.url\"\n            rel=\"nofollow noopener noreferrer\"\n            target=\"_blank\"\n          >{{ m.text }}</a>\n        </div>\n        <div\n          v-if=\"version.sources\"\n          class=\"chart-content__right-bar__section\"\n        >\n          <h3>{{ t('catalog.chart.info.related') }}</h3>\n          <a\n            v-for=\"s of version.sources\"\n            :key=\"s\"\n            :href=\"s\"\n            rel=\"nofollow noopener noreferrer\"\n            target=\"_blank\"\n          >{{ s }}</a>\n        </div>\n        <div\n          v-if=\"version.urls\"\n          class=\"chart-content__right-bar__section\"\n        >\n          <h3>{{ t('catalog.chart.info.chartUrls') }}</h3>\n          <a\n            v-for=\"url of version.urls\"\n            :key=\"url\"\n            :href=\"url\"\n            rel=\"nofollow noopener noreferrer\"\n            target=\"_blank\"\n          >{{ version.urls.length === 1 ? 'Download': url }}</a>\n        </div>\n        <div\n          v-if=\"version.keywords\"\n          class=\"chart-content__right-bar__section chart-content__right-bar__section--keywords\"\n        >\n          <h3>{{ t('catalog.chart.info.keywords') }}</h3>\n          {{ version.keywords.join(', ') }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  $name-height: 50px;\n  $padding: 5px;\n\n  .chart-header {\n\n    .name-logo-install {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      height: $name-height;\n    }\n\n    .name-logo {\n      display: flex;\n      align-items: center;\n\n      .logo-bg {\n        height: $name-height;\n        width: $name-height;\n        background-color: white;\n        border: $padding solid white;\n        border-radius: calc( 3 * var(--border-radius));\n        position: relative;\n      }\n\n      .logo {\n        max-height: $name-height - 2 * $padding;\n        max-width: $name-height - 2 * $padding;\n        position: absolute;\n        width: auto;\n        height: auto;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        margin: auto;\n      }\n\n      h1 {\n        margin: 0 20px;\n      }\n    }\n\n    .os-label{\n      background-color: var(--warning-banner-bg);\n      color: var(--warning);\n    }\n\n    .btn {\n      height: 30px;\n    }\n\n    .description {\n      margin-right: 80px;\n    }\n  }\n\n  .chart-content {\n    display: flex;\n    &__tabs {\n      flex: 1;\n      min-width: 400px;\n    }\n    &__right-bar {\n      min-width: 260px;\n      max-width: 260px;\n\n      &__section {\n        display: flex;\n        flex-direction: column;\n        padding-bottom: 20px;\n        word-break: break-all;\n        a {\n          cursor: pointer;\n        }\n        &--cVersion{\n          display: flex;\n          justify-content: space-between;\n        }\n\n        &--keywords{\n         word-break: break-word;\n        }\n\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./chart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./chart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./chart.vue?vue&type=template&id=80f5c556&scoped=true&\"\nimport script from \"./chart.vue?vue&type=script&lang=js&\"\nexport * from \"./chart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chart.vue?vue&type=style&index=0&id=80f5c556&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"80f5c556\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./chart.vue?vue&type=style&index=0&id=80f5c556&prod&lang=scss&scoped=true&\""],"sourceRoot":""}