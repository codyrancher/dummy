{"version":3,"sources":["webpack:///./shell/pages/c/_cluster/_product/_resource/index.vue?8eb5","webpack:///./shell/components/ResourceList/index.vue?e2c7","webpack:///shell/components/ResourceList/index.vue","webpack:///./shell/components/ResourceList/index.vue?30d6","webpack:///./shell/components/ResourceList/index.vue","webpack:///shell/pages/c/_cluster/_product/_resource/index.vue","webpack:///./shell/pages/c/_cluster/_product/_resource/index.vue?58eb","webpack:///./shell/pages/c/_cluster/_product/_resource/index.vue","webpack:///./shell/components/ResourceList/index.vue?6842"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","attrs","scopedSlots","_u","key","fn","staticClass","domProps","_s","t","resource","$store","getters","schema","customTypeDisplay","proxy","showIncrementalLoadingIndicator","loadResources","loadIndeterminate","namespaceFilter","slot","_t","_e","extensionType","extensionLocation","listComponent","_b","tag","rows","$data","loading","headers","groupBy","hasAdvancedFiltering","advFilterHideLabelsAsCols","advFilterPreventFilteringLabels","useQueryParamsForSimpleFiltering","forceUpdateLiveAndDelayed","name","components","Loading","ResourceTable","Masthead","ResourceLoadingIndicator","IconMessage","ExtensionPanel","mixins","props","type","default","fetch","store","importer","component","data","inStore","hasListComponent","showMasthead","hasFetch","manualRefreshInit","watch","force","computed","neu","created","ResourceList"],"mappings":"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","file":"js/pages/c/_cluster/_product/_resource/index.b21596b0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ResourceList')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.namespaceFilterRequired)?_c('IconMessage',{attrs:{\"vertical\":true,\"subtle\":false,\"icon\":\"icon-filter_alt\"},scopedSlots:_vm._u([{key:\"message\",fn:function(){return [_c('span',{staticClass:\"filter\",domProps:{\"innerHTML\":_vm._s(_vm.t('resourceList.nsFiltering', { resource: _vm.$store.getters['type-map/labelFor'](_vm.schema, 2) || _vm.customTypeDisplay }, true))}})]},proxy:true}],null,false,2943734778)}):_c('div',[(_vm.showMasthead)?_c('Masthead',{attrs:{\"type-display\":_vm.customTypeDisplay,\"schema\":_vm.schema,\"resource\":_vm.resource,\"show-incremental-loading-indicator\":_vm.showIncrementalLoadingIndicator,\"load-resources\":_vm.loadResources,\"load-indeterminate\":_vm.loadIndeterminate,\"load-namespace\":_vm.namespaceFilter}},[_c('template',{slot:\"extraActions\"},[_vm._t(\"extraActions\")],2)],2):_vm._e(),_c('ExtensionPanel',{attrs:{\"resource\":{},\"type\":_vm.extensionType,\"location\":_vm.extensionLocation}}),(_vm.hasListComponent)?_c('div',[_c(_vm.listComponent,_vm._b({tag:\"component\",attrs:{\"incremental-loading-indicator\":_vm.showIncrementalLoadingIndicator,\"rows\":_vm.rows}},'component',_vm.$data,false))],1):_c('ResourceTable',{attrs:{\"schema\":_vm.schema,\"rows\":_vm.rows,\"loading\":_vm.loading,\"headers\":_vm.headers,\"group-by\":_vm.groupBy,\"has-advanced-filtering\":_vm.hasAdvancedFiltering,\"adv-filter-hide-labels-as-cols\":_vm.advFilterHideLabelsAsCols,\"adv-filter-prevent-filtering-labels\":_vm.advFilterPreventFilteringLabels,\"use-query-params-for-simple-filtering\":_vm.useQueryParamsForSimpleFiltering,\"force-update-live-and-delayed\":_vm.forceUpdateLiveAndDelayed}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport ResourceTable from '@shell/components/ResourceTable';\nimport Loading from '@shell/components/Loading';\nimport Masthead from './Masthead';\nimport ResourceLoadingIndicator from './ResourceLoadingIndicator';\nimport ResourceFetch from '@shell/mixins/resource-fetch';\nimport IconMessage from '@shell/components/IconMessage.vue';\nimport { ResourceListComponentName } from './resource-list.config';\nimport { PanelLocation, ExtensionPoint } from '@shell/core/types';\nimport ExtensionPanel from '@shell/components/ExtensionPanel';\n\nexport default {\n  name: ResourceListComponentName,\n\n  components: {\n    Loading,\n    ResourceTable,\n    Masthead,\n    ResourceLoadingIndicator,\n    IconMessage,\n    ExtensionPanel\n  },\n  mixins: [ResourceFetch],\n\n  props: {\n    hasAdvancedFiltering: {\n      type:    Boolean,\n      default: false\n    },\n    advFilterHideLabelsAsCols: {\n      type:    Boolean,\n      default: false\n    },\n    advFilterPreventFilteringLabels: {\n      type:    Boolean,\n      default: false\n    },\n  },\n\n  async fetch() {\n    const store = this.$store;\n    const resource = this.resource;\n\n    const schema = this.schema;\n\n    if ( this.hasListComponent ) {\n      // If you provide your own list then call its asyncData\n      const importer = this.listComponent;\n      const component = (await importer())?.default;\n\n      if ( component?.typeDisplay ) {\n        this.customTypeDisplay = component.typeDisplay.apply(this);\n      }\n\n      // If your list page has a fetch then it's responsible for populating rows itself\n      if ( component?.fetch ) {\n        this.hasFetch = true;\n      }\n\n      // If the custom component supports it, ask it what resources it loads, so we can\n      // use the incremental loading indicator when enabled\n      if (component?.$loadingResources) {\n        const { loadResources, loadIndeterminate } = component?.$loadingResources(this.$route, this.$store);\n\n        this.loadResources = loadResources || [resource];\n        this.loadIndeterminate = loadIndeterminate || false;\n      }\n    }\n\n    if ( !this.hasFetch ) {\n      if ( !schema ) {\n        store.dispatch('loadingError', new Error(`Type ${ resource } not found, unable to display list`));\n\n        return;\n      }\n\n      // See comment for `namespaceFilterRequired` watcher, skip fetch if we don't have a valid NS\n      if (!this.namespaceFilterRequired) {\n        await this.$fetchType(resource);\n      }\n    }\n  },\n\n  data() {\n    const getters = this.$store.getters;\n    const params = { ...this.$route.params };\n    const resource = params.resource;\n\n    const hasListComponent = getters['type-map/hasCustomList'](resource);\n\n    const inStore = getters['currentStore'](resource);\n    const schema = getters[`${ inStore }/schemaFor`](resource);\n\n    const showMasthead = getters[`type-map/optionsFor`](resource).showListMasthead;\n\n    return {\n      inStore,\n      schema,\n      hasListComponent,\n      showMasthead:                     showMasthead === undefined ? true : showMasthead,\n      resource,\n      extensionType:                    ExtensionPoint.PANEL,\n      extensionLocation:                PanelLocation.RESOURCE_LIST,\n      loadResources:                    [resource], // List of resources that will be loaded, this could be many (`Workloads`)\n      hasFetch:                         false,\n      // manual refresh\n      manualRefreshInit:                false,\n      watch:                            false,\n      force:                            false,\n      // Provided by fetch later\n      customTypeDisplay:                null,\n      // incremental loading\n      loadIndeterminate:                false,\n      // query param for simple filtering\n      useQueryParamsForSimpleFiltering: true\n    };\n  },\n\n  computed: {\n    headers() {\n      if ( this.hasListComponent || !this.schema ) {\n        // Custom lists figure out their own headers\n        return [];\n      }\n\n      return this.$store.getters['type-map/headersFor'](this.schema);\n    },\n\n    groupBy() {\n      return this.$store.getters['type-map/groupByFor'](this.schema);\n    },\n\n    showIncrementalLoadingIndicator() {\n      return this.perfConfig?.incrementalLoading?.enabled;\n    },\n\n  },\n\n  watch: {\n    /**\n     * When a NS filter is required and the user selects a different one, kick off a new set of API requests\n     *\n     * ResourceList has two modes\n     * 1) ResourceList component handles API request to fetch resources\n     * 2) Custom list component handles API request to fetch resources\n     *\n     * This covers case 1\n     */\n    namespaceFilter(neu) {\n      if (neu && !this.hasFetch) {\n        this.$fetchType(this.resource);\n      }\n    }\n  },\n\n  created() {\n    let listComponent = false;\n\n    const resource = this.$route.params.resource;\n    const hasListComponent = this.$store.getters['type-map/hasCustomList'](resource);\n\n    if ( hasListComponent ) {\n      listComponent = this.$store.getters['type-map/importList'](resource);\n    }\n\n    this.listComponent = listComponent;\n  },\n};\n</script>\n\n<template>\n  <IconMessage\n    v-if=\"namespaceFilterRequired\"\n    :vertical=\"true\"\n    :subtle=\"false\"\n    icon=\"icon-filter_alt\"\n  >\n    <template #message>\n      <span\n        class=\"filter\"\n        v-html=\"t('resourceList.nsFiltering', { resource: $store.getters['type-map/labelFor'](schema, 2) || customTypeDisplay }, true)\"\n      />\n    </template>\n  </IconMessage>\n  <div v-else>\n    <Masthead\n      v-if=\"showMasthead\"\n      :type-display=\"customTypeDisplay\"\n      :schema=\"schema\"\n      :resource=\"resource\"\n      :show-incremental-loading-indicator=\"showIncrementalLoadingIndicator\"\n      :load-resources=\"loadResources\"\n      :load-indeterminate=\"loadIndeterminate\"\n      :load-namespace=\"namespaceFilter\"\n    >\n      <template slot=\"extraActions\">\n        <slot name=\"extraActions\" />\n      </template>\n    </Masthead>\n    <!-- Extensions area -->\n    <ExtensionPanel\n      :resource=\"{}\"\n      :type=\"extensionType\"\n      :location=\"extensionLocation\"\n    />\n\n    <div v-if=\"hasListComponent\">\n      <component\n        :is=\"listComponent\"\n        :incremental-loading-indicator=\"showIncrementalLoadingIndicator\"\n        :rows=\"rows\"\n        v-bind=\"$data\"\n      />\n    </div>\n    <ResourceTable\n      v-else\n      :schema=\"schema\"\n      :rows=\"rows\"\n      :loading=\"loading\"\n      :headers=\"headers\"\n      :group-by=\"groupBy\"\n      :has-advanced-filtering=\"hasAdvancedFiltering\"\n      :adv-filter-hide-labels-as-cols=\"advFilterHideLabelsAsCols\"\n      :adv-filter-prevent-filtering-labels=\"advFilterPreventFilteringLabels\"\n      :use-query-params-for-simple-filtering=\"useQueryParamsForSimpleFiltering\"\n      :force-update-live-and-delayed=\"forceUpdateLiveAndDelayed\"\n    />\n  </div>\n</template>\n\n  <style lang=\"scss\" scoped>\n    .header {\n      position: relative;\n    }\n    H2 {\n      position: relative;\n      margin: 0 0 20px 0;\n    }\n    .filter{\n      line-height: 45px;\n    }\n    .right-action {\n      position: absolute;\n      top: 10px;\n      right: 10px;\n    }\n  </style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=78c20a7a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=78c20a7a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78c20a7a\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport ResourceList from '@shell/components/ResourceList';\n\nexport default {\n  name:       'ClusterResourcedList',\n  components: { ResourceList },\n};\n</script>\n\n<template>\n  <ResourceList />\n</template>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=787b6db2&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=78c20a7a&prod&lang=scss&scoped=true&\""],"sourceRoot":""}