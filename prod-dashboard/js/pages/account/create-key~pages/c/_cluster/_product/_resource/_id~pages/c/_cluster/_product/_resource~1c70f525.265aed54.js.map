{"version":3,"sources":["webpack:///./shell/components/ResourceDetail/index.vue?2829","webpack:///./shell/components/ResourceDetail/Masthead.vue?c5e1","webpack:///./shell/components/fleet/ForceDirectedTreeChart/index.vue?8c3e","webpack:///./shell/components/ResourceDetail/index.vue?a4ad","webpack:///./shell/components/ResourceDetail/Masthead.vue?dea1","webpack:///shell/components/ResourceDetail/Masthead.vue","webpack:///./shell/components/ResourceDetail/Masthead.vue?48af","webpack:///./shell/components/ResourceDetail/Masthead.vue","webpack:///./shell/components/fleet/ForceDirectedTreeChart/index.vue?32dc","webpack:///./shell/components/fleet/ForceDirectedTreeChart/chartIcons.js","webpack:///shell/components/fleet/ForceDirectedTreeChart/index.vue","webpack:///./shell/components/fleet/ForceDirectedTreeChart/index.vue?9356","webpack:///./shell/components/fleet/ForceDirectedTreeChart/index.vue","webpack:///shell/components/ResourceDetail/index.vue","webpack:///./shell/components/ResourceDetail/index.vue?a40b","webpack:///./shell/components/ResourceDetail/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","$fetchState","attrs","scopedSlots","_u","key","fn","_v","_s","t","resource","notFound","proxy","liveModel","mode","realMode","as","hasGraph","hasCustomDetail","hasCustomEdit","canViewYaml","resourceSubtype","parentRouteOverride","storeOverride","isView","isDetail","_e","isGraph","canViewChart","chartData","getGraphConfig","ref","class","flexContent","yaml","offerPreview","doneRoute","value","doneOverride","model","callback","$$v","expression","showComponent","_b","tag","doneParams","initialModel","on","setSubtype","_data","directives","name","rawName","modifiers","staticClass","componentTestid","$event","keyAction","staticRenderFns","location","parent","displayName","detailPageHeaderActionOverride","isCreate","showState","isNamespace","project","detailLocation","nameDisplay","workspaceLocation","namespace","hasMultipleNamespaces","hideNamespaceLocation","namespaceLocation","creationTimestamp","restartCount","_t","detailsAction","currentView","DETAIL_VIEW","enabled","invokeDetailsAction","label","hideSensitiveData","sensitiveOptions","toggleSensitiveData","viewOptions","showActions","extensionType","extensionLocation","banner","hideBanner","color","message","managedWarning","components","BadgeState","Banner","ButtonGroup","ExtensionPanel","props","type","default","hasDetail","hasEdit","data","computed","schema","isEdit","isProject","isProjectHelmChart","shouldHifenize","params","cluster","product","id","isWorkspace","typeOptions","tooltipKey","icon","out","labelKey","get","set","val","MODE","_UNFLAG","AS","_CONFIG","_GRAPH","_YAML","showSensitiveToggle","show","hasName","appName","managedBy","methods","resources","elem","e","component","isChartFirstRenderAnimationFinished","isChartFirstRendered","_l","item","i","valueObj","stateLabel","getChartIcon","required","fdcConfig","dataWatcher","parsedInfo","root","allNodesData","allLinks","rootNode","node","link","svg","zoom","simulation","moreInfo","watcherFunction","newValue","flattenedData","hasStatusChange","renderChart","attr","force","d3","alphaDecay","updateChart","isStartingData","isSettingNodesAndLinks","selectAll","enter","append","style","call","nodeEnter","distance","links","mainNodeClass","d","defaultClassArray","setNodeRadius","nodeImageSize","nodeImagePosition","setDetailsInfo","toUpdate","zoomFit","translate","scale","ticked","dragStarted","ev","dragging","dragEnded","zoomed","flatten","nodes","recurse","mounted","unmounted","modeFor","route","getYaml","a","inStore","store","opt","headers","accept","cleanedYaml","Loading","DetailTop","ForceDirectedTreeChart","ResourceYaml","Masthead","IconMessage","mixins","resourceOverride","fetch","schemas","requested","options","checkSchemasForFindAllHash","inStoreType","bundle","bundleDeployment","graphSchema","fqid","watch","asYaml","isYaml","inNeu","inOld","b","created","subtype","act","m"],"mappings":"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","file":"js/pages/account/create-key~pages/c/_cluster/_product/_resource/_id~pages/c/_cluster/_product/_resource~1c70f525.265aed54.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=41ba05f8&prod&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Masthead.vue?vue&type=style&index=0&id=1be61e32&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=fb800f4e&prod&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.$fetchState.pending)?_c('Loading'):(_vm.notFound)?_c('div',[_c('IconMessage',{attrs:{\"icon\":\"icon-warning\"},scopedSlots:_vm._u([{key:\"message\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.t('generic.notFound'))+\" \"),_c('div',[_c('div',[_vm._v(_vm._s(_vm.t('generic.type'))+\": \"+_vm._s(_vm.resource))]),_c('div',[_vm._v(_vm._s(_vm.t('generic.id'))+\": \"+_vm._s(_vm.notFound))])])]},proxy:true}])})],1):_c('div',[(_vm.showMasthead)?_c('Masthead',{attrs:{\"resource\":_vm.resource,\"value\":_vm.liveModel,\"mode\":_vm.mode,\"real-mode\":_vm.realMode,\"as\":_vm.as,\"has-graph\":_vm.hasGraph,\"has-detail\":_vm.hasCustomDetail,\"has-edit\":_vm.hasCustomEdit,\"can-view-yaml\":_vm.canViewYaml,\"resource-subtype\":_vm.resourceSubtype,\"parent-route-override\":_vm.parentRouteOverride,\"store-override\":_vm.storeOverride}},[(_vm.isView && _vm.isDetail)?_c('DetailTop',{attrs:{\"value\":_vm.liveModel}}):_vm._e()],1):_vm._e(),(_vm.isGraph && _vm.canViewChart)?_c('ForceDirectedTreeChart',{attrs:{\"data\":_vm.chartData,\"fdc-config\":_vm.getGraphConfig}}):(_vm.isYaml)?_c('ResourceYaml',{ref:\"resourceyaml\",class:{'flex-content': _vm.flexContent},attrs:{\"mode\":_vm.mode,\"yaml\":_vm.yaml,\"offer-preview\":_vm.offerPreview,\"done-route\":_vm.doneRoute,\"done-override\":_vm.value.doneOverride},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}):_c(_vm.showComponent,_vm._b({ref:\"comp\",tag:\"component\",class:{'flex-content': _vm.flexContent},attrs:{\"done-params\":_vm.doneParams,\"done-route\":_vm.doneRoute,\"mode\":_vm.mode,\"initial-value\":_vm.initialModel,\"live-value\":_vm.liveModel,\"real-mode\":_vm.realMode},on:{\"set-subtype\":_vm.setSubtype},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},'component',_vm._data,false)),(_vm.isView)?_c('button',{directives:[{name:\"shortkey\",rawName:\"v-shortkey.once\",value:(['shift','d']),expression:\"['shift','d']\",modifiers:{\"once\":true}}],staticClass:\"hide\",attrs:{\"data-testid\":_vm.componentTestid + '-detail'},on:{\"shortkey\":function($event){return _vm.keyAction('goToDetail')}}}):_vm._e(),(_vm.isView)?_c('button',{directives:[{name:\"shortkey\",rawName:\"v-shortkey.once\",value:(['shift','c']),expression:\"['shift','c']\",modifiers:{\"once\":true}}],staticClass:\"hide\",attrs:{\"data-testid\":_vm.componentTestid + '-config'},on:{\"shortkey\":function($event){return _vm.keyAction('goToViewConfig')}}}):_vm._e(),(_vm.isView)?_c('button',{directives:[{name:\"shortkey\",rawName:\"v-shortkey.once\",value:(['shift','y']),expression:\"['shift','y']\",modifiers:{\"once\":true}}],staticClass:\"hide\",attrs:{\"data-testid\":_vm.componentTestid + '-yaml'},on:{\"shortkey\":function($event){return _vm.keyAction('goToViewYaml')}}}):_vm._e(),(_vm.isView)?_c('button',{directives:[{name:\"shortkey\",rawName:\"v-shortkey.once\",value:(['shift','e']),expression:\"['shift','e']\",modifiers:{\"once\":true}}],staticClass:\"hide\",attrs:{\"data-testid\":_vm.componentTestid + '-edit'},on:{\"shortkey\":function($event){return _vm.keyAction('goToEdit')}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"masthead\"},[_c('header',[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"primaryheader\"},[_c('h1',[(_vm.location)?_c('nuxt-link',{attrs:{\"to\":_vm.location}},[_vm._v(\" \"+_vm._s(_vm.parent.displayName)+\": \")]):_c('span',[_vm._v(_vm._s(_vm.parent.displayName)+\":\")]),(_vm.value.detailPageHeaderActionOverride && _vm.value.detailPageHeaderActionOverride(_vm.realMode))?_c('span',[_vm._v(_vm._s(_vm.value.detailPageHeaderActionOverride(_vm.realMode)))]):_c('t',{attrs:{\"k\":'resourceDetail.header.' + _vm.realMode,\"subtype\":_vm.resourceSubtype,\"name\":_vm.displayName,\"escapehtml\":false}}),(!_vm.isCreate && _vm.parent.showState)?_c('BadgeState',{staticClass:\"masthead-state\",attrs:{\"value\":_vm.value}}):_vm._e()],1)]),(!_vm.isCreate)?_c('div',{staticClass:\"subheader\"},[(_vm.isNamespace && _vm.project)?_c('span',[_vm._v(_vm._s(_vm.t(\"resourceDetail.masthead.project\"))+\": \"),_c('nuxt-link',{attrs:{\"to\":_vm.project.detailLocation}},[_vm._v(_vm._s(_vm.project.nameDisplay))])],1):(_vm.isWorkspace)?_c('span',[_vm._v(_vm._s(_vm.t(\"resourceDetail.masthead.workspace\"))+\": \"),_c('nuxt-link',{attrs:{\"to\":_vm.workspaceLocation}},[_vm._v(_vm._s(_vm.namespace))])],1):(_vm.namespace && !_vm.hasMultipleNamespaces)?_c('span',[_vm._v(\" \"+_vm._s(_vm.t(\"resourceDetail.masthead.namespace\"))+\": \"),(!_vm.hideNamespaceLocation)?_c('nuxt-link',{attrs:{\"to\":_vm.namespaceLocation}},[_vm._v(\" \"+_vm._s(_vm.namespace)+\" \")]):_c('span',[_vm._v(\" \"+_vm._s(_vm.namespace)+\" \")])],1):_vm._e(),(_vm.parent.showAge)?_c('span',[_vm._v(_vm._s(_vm.t(\"resourceDetail.masthead.age\"))+\": \"),_c('LiveDate',{staticClass:\"live-date\",attrs:{\"value\":_vm.value.creationTimestamp}})],1):_vm._e(),(_vm.value.showPodRestarts)?_c('span',[_vm._v(_vm._s(_vm.t(\"resourceDetail.masthead.restartCount\"))+\":\"),_c('span',{staticClass:\"live-data\"},[_vm._v(\" \"+_vm._s(_vm.value.restartCount))])]):_vm._e()]):_vm._e()]),_vm._t(\"right\",function(){return [_c('div',{staticClass:\"actions-container align-start\"},[_c('div',{staticClass:\"actions\"},[(_vm.detailsAction && _vm.currentView === _vm.DETAIL_VIEW && _vm.isView)?_c('button',{staticClass:\"btn role-primary actions mr-10\",attrs:{\"type\":\"button\",\"disabled\":!_vm.detailsAction.enabled},on:{\"click\":_vm.invokeDetailsAction}},[_vm._v(\" \"+_vm._s(_vm.detailsAction.label)+\" \")]):_vm._e(),(_vm.showSensitiveToggle)?_c('ButtonGroup',{staticClass:\"mr-10\",attrs:{\"value\":!!_vm.hideSensitiveData,\"icon-size\":\"lg\",\"options\":_vm.sensitiveOptions},on:{\"input\":_vm.toggleSensitiveData}}):_vm._e(),(_vm.viewOptions && _vm.isView)?_c('ButtonGroup',{staticClass:\"mr-10\",attrs:{\"options\":_vm.viewOptions},model:{value:(_vm.currentView),callback:function ($$v) {_vm.currentView=$$v},expression:\"currentView\"}}):_vm._e(),(_vm.isView)?_c('button',{ref:\"actions\",staticClass:\"btn role-multi-action actions\",attrs:{\"aria-haspopup\":\"true\",\"type\":\"button\"},on:{\"click\":_vm.showActions}},[_c('i',{staticClass:\"icon icon-actions\"})]):_vm._e()],1)])]})],2),_c('ExtensionPanel',{attrs:{\"resource\":_vm.value,\"type\":_vm.extensionType,\"location\":_vm.extensionLocation}}),(_vm.banner && _vm.isView && !_vm.parent.hideBanner)?_c('Banner',{staticClass:\"state-banner mb-10\",attrs:{\"color\":_vm.banner.color,\"label\":_vm.banner.message}}):_vm._e(),(_vm.managedWarning.show)?_c('Banner',{staticClass:\"mb-20\",attrs:{\"color\":\"warning\",\"label\":_vm.t('resourceDetail.masthead.managedWarning', _vm.managedWarning)}}):_vm._e(),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { KUBERNETES, PROJECT } from '@shell/config/labels-annotations';\nimport { FLEET, NAMESPACE, MANAGEMENT, HELM } from '@shell/config/types';\nimport ButtonGroup from '@shell/components/ButtonGroup';\nimport { BadgeState } from '@components/BadgeState';\nimport { Banner } from '@components/Banner';\nimport { get } from '@shell/utils/object';\nimport { NAME as FLEET_NAME } from '@shell/config/product/fleet';\nimport { HIDE_SENSITIVE } from '@shell/store/prefs';\nimport {\n  AS, _DETAIL, _CONFIG, _YAML, MODE, _CREATE, _EDIT, _VIEW, _UNFLAG, _GRAPH\n} from '@shell/config/query-params';\nimport { ExtensionPoint, PanelLocation } from '@shell/core/types';\nimport ExtensionPanel from '@shell/components/ExtensionPanel';\n\n/**\n * Resource Detail Masthead component.\n *\n * ToDo: this component seem to be picking up a lot of logic from special cases, could be simplified down to parameters and then customized per use-case via wrapper component\n */\nexport default {\n\n  name: 'MastheadResourceDetail',\n\n  components: {\n    BadgeState, Banner, ButtonGroup, ExtensionPanel\n  },\n  props: {\n    value: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n\n    mode: {\n      type:    String,\n      default: 'create'\n    },\n\n    realMode: {\n      type:    String,\n      default: 'create'\n    },\n\n    as: {\n      type:    String,\n      default: _YAML,\n    },\n\n    hasGraph: {\n      type:    Boolean,\n      default: false\n    },\n\n    hasDetail: {\n      type:    Boolean,\n      default: false\n    },\n\n    hasEdit: {\n      type:    Boolean,\n      default: false\n    },\n\n    storeOverride: {\n      type:    String,\n      default: null,\n    },\n\n    resource: {\n      type:    String,\n      default: null,\n    },\n\n    resourceSubtype: {\n      type:    String,\n      default: null,\n    },\n\n    parentRouteOverride: {\n      type:    String,\n      default: null,\n    },\n  },\n\n  data() {\n    return {\n      DETAIL_VIEW:       _DETAIL,\n      extensionType:     ExtensionPoint.PANEL,\n      extensionLocation: PanelLocation.DETAILS_MASTHEAD,\n    };\n  },\n\n  computed: {\n    schema() {\n      const inStore = this.storeOverride || this.$store.getters['currentStore'](this.resource);\n\n      return this.$store.getters[`${ inStore }/schemaFor`]( this.resource );\n    },\n\n    isView() {\n      return this.mode === _VIEW;\n    },\n\n    isEdit() {\n      return this.mode === _EDIT;\n    },\n\n    isCreate() {\n      return this.mode === _CREATE;\n    },\n\n    isNamespace() {\n      return this.schema?.id === NAMESPACE;\n    },\n\n    isProject() {\n      return this.schema?.id === MANAGEMENT.PROJECT;\n    },\n\n    isProjectHelmChart() {\n      return this.schema?.id === HELM.PROJECTHELMCHART;\n    },\n\n    hasMultipleNamespaces() {\n      return !!this.value.namespaces;\n    },\n\n    namespace() {\n      if (this.value?.metadata?.namespace) {\n        return this.value?.metadata?.namespace;\n      }\n\n      return null;\n    },\n\n    detailsAction() {\n      return this.value?.detailsAction;\n    },\n\n    shouldHifenize() {\n      return (this.mode === 'view' || this.mode === 'edit') && this.resourceSubtype?.length && this.value?.nameDisplay?.length;\n    },\n\n    namespaceLocation() {\n      if (!this.isNamespace) {\n        return this.value.namespaceLocation || {\n          name:   'c-cluster-product-resource-id',\n          params: {\n            cluster:  this.$route.params.cluster,\n            product:  this.$store.getters['productId'],\n            resource: NAMESPACE,\n            id:       this.$route.params.namespace\n          }\n        };\n      }\n\n      return null;\n    },\n\n    isWorkspace() {\n      return this.$store.getters['productId'] === FLEET_NAME && !!this.value?.metadata?.namespace;\n    },\n\n    workspaceLocation() {\n      return {\n        name:   'c-cluster-product-resource-id',\n        params: {\n          cluster:  this.$route.params.cluster,\n          product:  this.$store.getters['productId'],\n          resource: FLEET.WORKSPACE,\n          id:       this.$route.params.namespace\n        }\n      };\n    },\n\n    project() {\n      if (this.isNamespace) {\n        const id = (this.value?.metadata?.labels || {})[PROJECT];\n        const clusterId = this.$store.getters['currentCluster'].id;\n\n        return this.$store.getters['management/byId'](MANAGEMENT.PROJECT, `${ clusterId }/${ id }`);\n      } else {\n        return null;\n      }\n    },\n\n    banner() {\n      if (this.value?.stateObj?.error) {\n        const defaultErrorMessage = this.t('resourceDetail.masthead.defaultBannerMessage.error', undefined, true);\n\n        return {\n          color:   'error',\n          message: this.value.stateObj.message || defaultErrorMessage\n        };\n      }\n\n      if (this.value?.spec?.paused) {\n        return {\n          color:   'info',\n          message: this.t('asyncButton.pause.description')\n        };\n      }\n\n      if (this.value?.stateObj?.transitioning) {\n        const defaultTransitioningMessage = this.t('resourceDetail.masthead.defaultBannerMessage.transitioning', undefined, true);\n\n        return {\n          color:   'info',\n          message: this.value.stateObj.message || defaultTransitioningMessage\n        };\n      }\n\n      return null;\n    },\n\n    parent() {\n      const displayName = this.value.parentNameOverride || this.$store.getters['type-map/labelFor'](this.schema);\n      const product = this.$store.getters['currentProduct'].name;\n\n      const defaultLocation = {\n        name:   'c-cluster-product-resource',\n        params: {\n          resource: this.resource,\n          product,\n        }\n      };\n\n      const location = this.value?.parentLocationOverride || defaultLocation;\n\n      if (this.parentRouteOverride) {\n        location.name = this.parentRouteOverride;\n      }\n\n      const typeOptions = this.$store.getters[`type-map/optionsFor`]( this.resource );\n      const out = {\n        displayName, location, ...typeOptions\n      };\n\n      return out;\n    },\n\n    hideSensitiveData() {\n      return this.$store.getters['prefs/get'](HIDE_SENSITIVE);\n    },\n\n    sensitiveOptions() {\n      return [\n        {\n          tooltipKey: 'resourceDetail.masthead.sensitive.hide',\n          icon:       'icon-hide',\n          value:      true,\n        },\n        {\n          tooltipKey: 'resourceDetail.masthead.sensitive.show',\n          icon:       'icon-show',\n          value:      false\n        }\n      ];\n    },\n\n    viewOptions() {\n      const out = [];\n\n      if ( this.hasDetail ) {\n        out.push({\n          labelKey: 'resourceDetail.masthead.detail',\n          value:    _DETAIL,\n        });\n      }\n\n      if ( this.hasEdit && this.parent?.showConfigView !== false) {\n        out.push({\n          labelKey: 'resourceDetail.masthead.config',\n          value:    _CONFIG,\n        });\n      }\n\n      if ( this.hasGraph ) {\n        out.push({\n          labelKey: 'resourceDetail.masthead.graph',\n          value:    _GRAPH,\n        });\n      }\n\n      if ( this.canViewYaml ) {\n        out.push({\n          labelKey: 'resourceDetail.masthead.yaml',\n          value:    _YAML,\n        });\n      }\n\n      if ( out.length < 2 ) {\n        return null;\n      }\n\n      return out;\n    },\n\n    currentView: {\n      get() {\n        return this.as;\n      },\n\n      set(val) {\n        switch ( val ) {\n        case _DETAIL:\n          this.$router.applyQuery({\n            [MODE]: _UNFLAG,\n            [AS]:   _UNFLAG,\n          });\n          break;\n        case _CONFIG:\n          this.$router.applyQuery({\n            [MODE]: _UNFLAG,\n            [AS]:   _CONFIG,\n          });\n          break;\n        case _GRAPH:\n          this.$router.applyQuery({\n            [MODE]: _UNFLAG,\n            [AS]:   _GRAPH,\n          });\n          break;\n        case _YAML:\n          this.$router.applyQuery({\n            [MODE]: _UNFLAG,\n            [AS]:   _YAML,\n          });\n          break;\n        }\n      },\n    },\n\n    showSensitiveToggle() {\n      return !!this.value.hasSensitiveData && this.mode === _VIEW && this.as !== _YAML;\n    },\n\n    managedWarning() {\n      const { value } = this;\n      const labels = value?.metadata?.labels || {};\n\n      const managedBy = labels[KUBERNETES.MANAGED_BY] || '';\n      const appName = labels[KUBERNETES.MANAGED_NAME] || labels[KUBERNETES.INSTANCE] || '';\n\n      return {\n        show:    this.mode === _EDIT && !!managedBy,\n        type:    value?.kind || '',\n        hasName: appName ? 'yes' : 'no',\n        appName,\n        managedBy,\n      };\n    },\n\n    displayName() {\n      let displayName = this.value.nameDisplay;\n\n      if (this.isProjectHelmChart) {\n        displayName = this.value.projectDisplayName;\n      }\n\n      return this.shouldHifenize ? ` - ${ displayName }` : displayName;\n    },\n\n    location() {\n      const { parent } = this;\n\n      return parent?.location;\n    },\n\n    hideNamespaceLocation() {\n      return this.$store.getters['currentProduct'].hideNamespaceLocation;\n    },\n  },\n\n  methods: {\n    get,\n\n    showActions() {\n      this.$store.commit('action-menu/show', {\n        resources: this.value,\n        elem:      this.$refs.actions,\n      });\n    },\n\n    toggleSensitiveData(e) {\n      this.$store.dispatch('prefs/set', { key: HIDE_SENSITIVE, value: !!e });\n    },\n\n    invokeDetailsAction() {\n      const action = this.detailsAction;\n\n      if (action) {\n        const fn = this.value[action.action];\n\n        if (fn) {\n          fn.apply(this.value, []);\n        }\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"masthead\">\n    <header>\n      <div class=\"title\">\n        <div class=\"primaryheader\">\n          <h1>\n            <nuxt-link\n              v-if=\"location\"\n              :to=\"location\"\n            >\n              {{ parent.displayName }}:\n            </nuxt-link>\n            <span v-else>{{ parent.displayName }}:</span>\n            <span v-if=\"value.detailPageHeaderActionOverride && value.detailPageHeaderActionOverride(realMode)\">{{ value.detailPageHeaderActionOverride(realMode) }}</span>\n            <t\n              v-else\n              :k=\"'resourceDetail.header.' + realMode\"\n              :subtype=\"resourceSubtype\"\n              :name=\"displayName\"\n              :escapehtml=\"false\"\n            />\n            <BadgeState\n              v-if=\"!isCreate && parent.showState\"\n              class=\"masthead-state\"\n              :value=\"value\"\n            />\n          </h1>\n        </div>\n        <div\n          v-if=\"!isCreate\"\n          class=\"subheader\"\n        >\n          <span v-if=\"isNamespace && project\">{{ t(\"resourceDetail.masthead.project\") }}: <nuxt-link :to=\"project.detailLocation\">{{ project.nameDisplay }}</nuxt-link></span>\n          <span v-else-if=\"isWorkspace\">{{ t(\"resourceDetail.masthead.workspace\") }}: <nuxt-link :to=\"workspaceLocation\">{{ namespace }}</nuxt-link></span>\n          <span v-else-if=\"namespace && !hasMultipleNamespaces\">\n            {{ t(\"resourceDetail.masthead.namespace\") }}:\n            <nuxt-link\n              v-if=\"!hideNamespaceLocation\"\n              :to=\"namespaceLocation\"\n            >\n              {{ namespace }}\n            </nuxt-link>\n            <span v-else>\n              {{ namespace }}\n            </span>\n          </span>\n          <span v-if=\"parent.showAge\">{{ t(\"resourceDetail.masthead.age\") }}: <LiveDate\n            class=\"live-date\"\n            :value=\"value.creationTimestamp\"\n          /></span>\n          <span v-if=\"value.showPodRestarts\">{{ t(\"resourceDetail.masthead.restartCount\") }}:<span class=\"live-data\"> {{ value.restartCount }}</span></span>\n        </div>\n      </div>\n      <slot name=\"right\">\n        <div class=\"actions-container align-start\">\n          <div class=\"actions\">\n            <button\n              v-if=\"detailsAction && currentView === DETAIL_VIEW && isView\"\n              type=\"button\"\n              class=\"btn role-primary actions mr-10\"\n              :disabled=\"!detailsAction.enabled\"\n              @click=\"invokeDetailsAction\"\n            >\n              {{ detailsAction.label }}\n            </button>\n            <ButtonGroup\n              v-if=\"showSensitiveToggle\"\n              :value=\"!!hideSensitiveData\"\n              icon-size=\"lg\"\n              :options=\"sensitiveOptions\"\n              class=\"mr-10\"\n              @input=\"toggleSensitiveData\"\n            />\n\n            <ButtonGroup\n              v-if=\"viewOptions && isView\"\n              v-model=\"currentView\"\n              :options=\"viewOptions\"\n              class=\"mr-10\"\n            />\n\n            <button\n              v-if=\"isView\"\n              ref=\"actions\"\n              aria-haspopup=\"true\"\n              type=\"button\"\n              class=\"btn role-multi-action actions\"\n              @click=\"showActions\"\n            >\n              <i class=\"icon icon-actions\" />\n            </button>\n          </div>\n        </div>\n      </slot>\n    </header>\n\n    <!-- Extension area -->\n    <ExtensionPanel\n      :resource=\"value\"\n      :type=\"extensionType\"\n      :location=\"extensionLocation\"\n    />\n\n    <Banner\n      v-if=\"banner && isView && !parent.hideBanner\"\n      class=\"state-banner mb-10\"\n      :color=\"banner.color\"\n      :label=\"banner.message\"\n    />\n    <Banner\n      v-if=\"managedWarning.show\"\n      color=\"warning\"\n      class=\"mb-20\"\n      :label=\"t('resourceDetail.masthead.managedWarning', managedWarning)\"\n    />\n\n    <slot />\n  </div>\n</template>\n\n<style lang='scss' scoped>\n  .masthead {\n    padding-bottom: 10px;\n    border-bottom: 1px solid var(--border);\n    margin-bottom: 10px;\n  }\n\n  HEADER {\n    margin: 0;\n  }\n\n  .primaryheader {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    h1 {\n      margin: 0;\n    }\n  }\n\n  .subheader{\n    display: flex;\n    flex-direction: row;\n    color: var(--input-label);\n    & > * {\n      margin: 5px 20px 5px 0px;\n    }\n\n    .live-data {\n      color: var(--body-text)\n    }\n  }\n\n  .state-banner {\n    margin: 3px 0 0 0;\n  }\n\n  .masthead-state {\n    font-size: initial;\n    display: inline-block;\n    position: relative;\n    top: -2px;\n  }\n\n  .left-right-split {\n    display: grid;\n    align-items: center;\n\n    .left-half {\n      grid-column: 1;\n    }\n\n    .right-half {\n      grid-column: 2;\n    }\n  }\n\n  div.actions-container > div.actions {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n  }\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Masthead.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Masthead.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Masthead.vue?vue&type=template&id=1be61e32&scoped=true&\"\nimport script from \"./Masthead.vue?vue&type=script&lang=js&\"\nexport * from \"./Masthead.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Masthead.vue?vue&type=style&index=0&id=1be61e32&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1be61e32\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"chart-container\"},[(!_vm.isChartFirstRenderAnimationFinished)?_c('div',{staticClass:\"loading-container\"},[_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isChartFirstRendered),expression:\"!isChartFirstRendered\"}]},[_vm._v(\" \"+_vm._s(_vm.t('fleet.fdc.loadingChart'))+\" \")]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isChartFirstRendered && !_vm.isChartFirstRenderAnimationFinished),expression:\"isChartFirstRendered && !isChartFirstRenderAnimationFinished\"}]},[_vm._v(\" \"+_vm._s(_vm.t('fleet.fdc.renderingChart'))+\" \")]),_c('i',{staticClass:\"mt-10 icon-spinner icon-spin\"})]):_vm._e(),_c('div',{attrs:{\"id\":\"tree\"}}),_c('div',{staticClass:\"more-info-container\"},[_c('div',{staticClass:\"more-info\"},[_c('table',_vm._l((_vm.moreInfo),function(item,i){return _c('tr',{key:i},[(item.type !== 'single-error')?_c('td',{class:{'align-middle': item.type === 'state-badge'}},[_c('span',{staticClass:\"more-info-item-label\"},[_vm._v(_vm._s(_vm.t(item.labelKey))+\":\")])]):_vm._e(),(item.type === 'title-link')?_c('td',[(item.valueObj.detailLocation)?_c('span',[_c('n-link',{attrs:{\"to\":item.valueObj.detailLocation}},[_vm._v(\" \"+_vm._s(item.valueObj.id)+\" \")])],1):_c('span',[_vm._v(_vm._s(item.valueObj.id))])]):(item.type === 'state-badge')?_c('td',{staticClass:\"align-middle\"},[_c('span',[_c('BadgeState',{staticClass:\"state-bagde\",attrs:{\"color\":(\"bg-\" + (item.valueObj.stateColor)),\"label\":item.valueObj.stateLabel}})],1)]):_vm._e(),(item.type === 'single-error')?_c('td',{staticClass:\"single-error\",attrs:{\"colspan\":\"2\"}},[_c('p',[_vm._v(_vm._s(item.value))])]):_c('td',[_vm._v(\" \"+_vm._s(item.value)+\" \")])])}),0)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// This is to mitigate an issue where the SVG icons being imported from the project weren't being rendered on Firefox\n// To know more about this technique, check this doc: https://developer.mozilla.org/en-US/docs/Web/SVG/Element/defs\nexport const getChartIcon = type => `<defs>\n<!-- GIT REPO ICON -->\n<svg id=\"git\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 96 96\" style=\"enable-background:new 0 0 96 96\" xml:space=\"preserve\"><path class=\"st0\" d=\"M92.138 43.888 52.018 3.77a5.918 5.918 0 0 0-8.369 0l-8.33 8.332L45.887 22.67a7.025 7.025 0 0 1 7.23 1.684 7.031 7.031 0 0 1 1.67 7.275l10.185 10.185a7.03 7.03 0 0 1 7.275 1.67 7.04 7.04 0 0 1 0 9.958 7.042 7.042 0 0 1-11.492-7.658l-9.5-9.499v24.997a7.09 7.09 0 0 1 1.861 1.331 7.042 7.042 0 1 1-7.65-1.537V35.849a7.04 7.04 0 0 1-3.822-9.234l-10.418-10.42-27.51 27.508a5.921 5.921 0 0 0 0 8.371l40.121 40.118a5.919 5.919 0 0 0 8.37 0l39.93-39.932a5.92 5.92 0 0 0 0-8.37z\"/></svg>\n<!-- GENERIC BUNDLE ICON -->\n<svg id=\"bundle\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" fill=\"#FFF\"><path d=\"M16 3.2C8.931 3.2 3.2 8.931 3.2 16S8.931 28.8 16 28.8 28.8 23.069 28.8 16 23.069 3.2 16 3.2zm0 22.4c-5.302 0-9.6-4.298-9.6-9.6s4.298-9.6 9.6-9.6 9.6 4.298 9.6 9.6a9.6 9.6 0 0 1-9.6 9.6z\"/><path d=\"m24.086 16-6.232-1.348.917-1.424-1.424.917-1.348-6.232-1.348 6.232-1.424-.917.917 1.424L7.912 16l6.232 1.348-.917 1.424 1.424-.917 1.348 6.232 1.348-6.232 1.424.917-.917-1.424L24.086 16zM16 16.814a.814.814 0 1 1 0-1.628.814.814 0 0 1 0 1.628z\"/></svg>\n<!-- HELM BUNDLE ICON -->\n<svg id=\"helm\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 500 500\"><defs><style>.cls-1{fill:#fff}</style></defs><path class=\"cls-1\" d=\"M136.53 121.135c-.573-.543-1.195-1.127-1.81-1.718-12.617-12.121-22.382-26.136-28.28-42.702-1.65-4.636-2.897-9.365-2.675-14.359.02-.473.02-.949.052-1.422.445-6.446 4.759-9.703 11.058-8.176a27.325 27.325 0 0 1 5.732 2.196c6.89 3.456 12.506 8.564 17.67 14.166A112.527 112.527 0 0 1 160 102.55a8.296 8.296 0 0 0 .39.86c.07.13.222.213.559.52a176.357 176.357 0 0 1 81.02-24.861c-.177-.876-.282-1.546-.448-2.2a112.494 112.494 0 0 1-2.653-36.957 84.075 84.075 0 0 1 4.445-21.764 31.326 31.326 0 0 1 5.476-10.17 15.687 15.687 0 0 1 3.164-2.822 7.026 7.026 0 0 1 8.032-.056 17.279 17.279 0 0 1 5.84 6.731 53.054 53.054 0 0 1 5.263 14.677 112.505 112.505 0 0 1 2.122 33.004 95.598 95.598 0 0 1-3.49 19.91c7.121 1.312 14.21 2.33 21.147 3.978a186.38 186.38 0 0 1 20.44 6.003 188.317 188.317 0 0 1 19.77 8.57c6.346 3.163 12.386 6.94 18.718 10.537.206-.433.505-.95.706-1.502a108.66 108.66 0 0 1 32.901-46.762 37.758 37.758 0 0 1 11.822-6.883 17.246 17.246 0 0 1 3.679-.845c6.264-.717 8.893 3.224 9.356 7.932a29.944 29.944 0 0 1-.774 10.354 87.906 87.906 0 0 1-10.73 24.688c-6.79 10.972-14.85 20.855-25.093 28.83-.302.236-.568.519-1.08.99a177.78 177.78 0 0 1 26.593 30.883 10.962 10.962 0 0 1-1.689.298c-10.595.015-21.19-.019-31.786.046a4.004 4.004 0 0 1-3.172-1.69 147.875 147.875 0 0 0-88.178-46.549 143.359 143.359 0 0 0-30.28-1.169 146.407 146.407 0 0 0-82.537 31.81 140.067 140.067 0 0 0-16.976 15.843 4.728 4.728 0 0 1-3.863 1.757c-10.121-.07-20.242-.035-30.363-.035h-2.152c.618-2.408 6.84-10.938 13.883-18.553 5.252-5.679 10.817-11.07 16.468-16.818ZM394.53 347.912a176.639 176.639 0 0 1-23.974 27.164l1.862 1.55a108.315 108.315 0 0 1 33.683 48.146 34.618 34.618 0 0 1 2.202 14.42 14.885 14.885 0 0 1-.748 3.692 7.208 7.208 0 0 1-8.157 5.023 22.233 22.233 0 0 1-6.763-2.006 51.232 51.232 0 0 1-9.182-5.815 107.592 107.592 0 0 1-32.936-46.707c-.187-.514-.392-1.02-.722-1.877a194.65 194.65 0 0 1-25.012 14.008 181.67 181.67 0 0 1-26.687 9.724 187.556 187.556 0 0 1-28.305 5.388c.168.84.265 1.51.438 2.16a109.172 109.172 0 0 1 2.97 36.442 80.804 80.804 0 0 1-4.422 22.478 78.25 78.25 0 0 1-4.165 8.744 13.39 13.39 0 0 1-2.339 2.971c-3.98 4.11-8.732 4.144-12.611-.074a27.28 27.28 0 0 1-3.907-5.617c-3.077-5.776-4.66-12.056-5.791-18.46a116.863 116.863 0 0 1-1.36-26.465 94.48 94.48 0 0 1 2.885-19.186c.14-.532.268-1.07.372-1.61.026-.137-.064-.297-.171-.738a176.121 176.121 0 0 1-80.969-24.994c-.41.91-.762 1.675-1.101 2.446a110.477 110.477 0 0 1-30.901 41.42 38.16 38.16 0 0 1-12.047 6.96 12.09 12.09 0 0 1-6.516.7 7.119 7.119 0 0 1-5.403-4.49c-1.416-3.424-1.165-6.985-.684-10.517a55.453 55.453 0 0 1 4.307-14.25 112.5 112.5 0 0 1 26.512-37.763c.459-.435.93-.857 1.38-1.3a3.76 3.76 0 0 0 .366-.655 178.905 178.905 0 0 1-28.47-31.317c.985-.08 1.644-.18 2.303-.18 10.514-.01 21.029.027 31.543-.044a4.706 4.706 0 0 1 3.703 1.626 146.946 146.946 0 0 0 39.403 28.885 139.947 139.947 0 0 0 49.704 14.774q70.68 6.87 121.6-42.854a7.646 7.646 0 0 1 5.992-2.444c9.802.121 19.605.05 29.408.05h2.534ZM350.736 197.762c2.787 0 5.47.189 8.115-.05 2.995-.271 5.139.8 7.323 2.813 12.613 11.622 25.357 23.1 38.059 34.627.638.58 1.29 1.144 2.11 1.87.764-.657 1.481-1.243 2.165-1.865q19.638-17.878 39.248-35.787a5.448 5.448 0 0 1 4.204-1.646c3.218.13 6.446.038 9.84.038V303.13c-1.722.504-24.875.604-27.638.061V249.83l-.537-.254-27.238 24.841-27.458-24.736-.524.192c-.023 4.454-.008 8.908-.01 13.362q-.005 6.64-.001 13.28v26.871h-27.428c-.514-1.773-.753-99.662-.23-105.623ZM97.634 197.882h27.264c.55 1.753.658 102.972.094 105.525H97.705c-.15-6.703-.048-13.384-.067-20.061-.018-6.623-.004-13.245-.004-20.04H63.847v39.741c-2.06.615-25.334.674-27.648.123V197.894h27.538v37.19c1.968.568 30.924.673 33.872.129.009-2.978.02-6.027.024-9.076q.007-4.744.001-9.487v-18.768ZM157.576 303.368V198.195c1.617-.53 61.545-.736 65.462-.205v22.414c-.879.063-1.786.184-2.693.185q-16.008.02-32.017.009h-2.968v17.433h33.347v23.192h-33.049c-.553 1.985-.705 15.817-.256 19.646.845.057 1.75.17 2.655.17q16.01.019 32.018.009h2.97v22.32ZM254.283 303.409c-.5-2.823-.4-103.602.097-105.518h27.162v77.765c1.172.06 2.092.149 3.011.15q16.128.014 32.256.006h2.908v27.597Z\"/></svg>\n<!-- RESOURCE DEPLOYMENT ICON -->\n<svg id=\"deployment\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M24.01 20.027v2h-24v-2h4v-1a2.006 2.006 0 0 1-2-2v-10a2.006 2.006 0 0 1 2-2h1.996v2H4.01v10h16v-10h-2.004v-2h2.004a2.006 2.006 0 0 1 2 2l-.01 10a1.997 1.997 0 0 1-1.99 2v1Zm-9-6.012-3-3-3 3h2v2.01h2v-2.01Zm.995-7.991a4 4 0 1 1-4-4 4.001 4.001 0 0 1 4 4Zm-4.4 2.96v-.56a.802.802 0 0 1-.8-.8v-.4L9.06 5.479a2.958 2.958 0 0 0 2.545 3.505Zm2.658-1.007a2.977 2.977 0 0 0-1.068-4.704.797.797 0 0 1-.79.75h-.8v.8a.401.401 0 0 1-.4.4h-.8v.8h2.4a.401.401 0 0 1 .4.4v1.2h.4a.787.787 0 0 1 .658.354Z\" fill=\"#fff\"/></svg>\n<!-- NODE ICON -->\n<svg id=\"node\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><g fill=\"#fff\"><circle cx=\"12\" cy=\"3\" r=\"1\"/><circle cx=\"20\" cy=\"8\" r=\"1\"/><circle cx=\"20\" cy=\"16\" r=\"1\"/><circle cx=\"4\" cy=\"8\" r=\"1\"/><circle cx=\"4\" cy=\"16\" r=\"1\"/><path d=\"M20 14v-4a1.992 1.992 0 0 1-1.481-3.333l-4.783-2.69a1.983 1.983 0 0 1-3.472 0l-4.783 2.69A1.992 1.992 0 0 1 4 10v4a1.992 1.992 0 0 1 1.481 3.333l4.783 2.69a1.991 1.991 0 0 1 1.236-.952v-5.142a2 2 0 1 1 1 0v5.142a1.991 1.991 0 0 1 1.236.953l4.783-2.69A1.992 1.992 0 0 1 20 14Z\"/><circle cx=\"12\" cy=\"21\" r=\"1\"/><circle cx=\"12\" cy=\"12\" r=\"1\"/></g></svg>\n<!-- RESOURCE OTHER ICON -->\n<svg id=\"other\" xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" fill=\"#FFF\"><path d=\"M27.476 10.22H14.83l-1.558-3.115a1.327 1.327 0 0 0-1.184-.732H4.522c-.731 0-1.324.593-1.324 1.324v16.606c0 .731.593 1.324 1.324 1.324h22.953c.731 0 1.324-.593 1.324-1.324v-12.76c0-.731-.593-1.324-1.324-1.324z\"/></svg>\n</defs>\n<use id=\"customIcon\" href=\"#${ type }\" fill=\"#fff\" />`;\n","<script>\nimport * as d3 from 'd3';\nimport { STATES } from '@shell/plugins/dashboard-store/resource-class';\nimport { BadgeState } from '@components/BadgeState';\nimport { getChartIcon } from './chartIcons.js';\n\nexport default {\n  name:       'ForceDirectedTreeChart',\n  components: { BadgeState },\n  props:      {\n    data: {\n      type:     [Array, Object],\n      required: true\n    },\n    fdcConfig: {\n      type:     Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      dataWatcher:                         undefined,\n      parsedInfo:                          undefined,\n      root:                                undefined,\n      allNodesData:                        undefined,\n      allLinks:                            undefined,\n      rootNode:                            undefined,\n      node:                                undefined,\n      link:                                undefined,\n      svg:                                 undefined,\n      zoom:                                undefined,\n      simulation:                          undefined,\n      isChartFirstRendered:                false,\n      isChartFirstRenderAnimationFinished: false,\n      moreInfo:                            {}\n    };\n  },\n  methods: {\n    watcherFunction(newValue) {\n      if (newValue.length) {\n        if (!this.isChartFirstRendered) {\n          this.parsedInfo = this.fdcConfig.parseData(this.data);\n\n          // set details info and set active state for node\n          this.setDetailsInfo(this.parsedInfo, false);\n          this.parsedInfo.active = true;\n\n          // render and update chart\n          this.renderChart();\n          this.updateChart(true, true);\n          this.isChartFirstRendered = true;\n\n          // here we just look for changes in the status of the nodes and update them accordingly\n        } else {\n          const parsedInfo = this.fdcConfig.parseData(this.data);\n          const flattenedData = this.flatten(parsedInfo);\n          let hasStatusChange = false;\n\n          flattenedData.forEach((item) => {\n            const index = this.allNodesData.findIndex(nodeData => item.matchingId === nodeData.data.matchingId);\n\n            // apply status change to each node\n            if (index > -1 && this.allNodesData[index].data.state !== item.state) {\n              this.allNodesData[index].data.state = item.state;\n              this.allNodesData[index].data.stateLabel = item.stateLabel;\n              this.allNodesData[index].data.stateColor = item.stateColor;\n              hasStatusChange = true;\n\n              // if node is selected (active), update details info\n              if (this.allNodesData[index].data.active) {\n                this.setDetailsInfo(this.allNodesData[index].data, false);\n              }\n            }\n          });\n\n          if (hasStatusChange) {\n            this.updateChart(false, false);\n          }\n        }\n      }\n    },\n    renderChart() {\n      this.zoom = d3.zoom().scaleExtent([1 / 8, 16]).on('zoom', this.zoomed);\n      const transform = d3.zoomIdentity.scale(1).translate(0, 0);\n\n      this.rootNode = this.svg.append('g')\n        .attr('class', 'root-node');\n\n      this.svg.call(this.zoom);\n      this.svg.call(this.zoom.transform, transform);\n\n      this.simulation = d3.forceSimulation()\n        .force('charge', d3.forceManyBody().strength(this.fdcConfig.simulationParams.fdcStrength).distanceMax(this.fdcConfig.simulationParams.fdcDistanceMax))\n        .force('collision', d3.forceCollide(this.fdcConfig.simulationParams.fdcForceCollide))\n        .force('center', d3.forceCenter( this.fdcConfig.chartWidth / 2, this.fdcConfig.chartHeight / 2 ))\n        .alphaDecay(this.fdcConfig.simulationParams.fdcAlphaDecay)\n        .on('tick', this.ticked)\n        .on('end', () => {\n          if (!this.isChartFirstRenderAnimationFinished) {\n            this.zoomFit();\n            this.isChartFirstRenderAnimationFinished = true;\n          }\n        });\n    },\n    updateChart(isStartingData, isSettingNodesAndLinks) {\n      if (isStartingData) {\n        this.root = d3.hierarchy(this.parsedInfo);\n      }\n\n      if (isSettingNodesAndLinks) {\n        this.allNodesData = this.flatten(this.root);\n        this.allLinks = this.root.links();\n      }\n\n      this.link = this.rootNode\n        .selectAll('.link')\n        .data(this.allLinks, (d) => {\n          return d.target.id;\n        });\n\n      this.link.exit().remove();\n\n      const linkEnter = this.link\n        .enter()\n        .append('line')\n        .attr('class', 'link')\n        .style('opacity', '0.2')\n        .style('stroke-width', 4);\n\n      this.link = linkEnter.merge(this.link);\n\n      this.node = this.rootNode\n        .selectAll('.node')\n        .data(this.allNodesData, (d) => {\n          return d.id;\n        })\n        // this is where we define which prop changes with any data update (status color)\n        .attr('class', this.mainNodeClass);\n\n      this.node.exit().remove();\n\n      // define the node styling and function\n      const nodeEnter = this.node\n        .enter()\n        .append('g')\n        .attr('class', this.mainNodeClass)\n        .style('opacity', 1)\n        .on('click', (ev, d) => {\n          this.setDetailsInfo(d.data, true);\n        })\n        .call(d3.drag()\n          .on('start', this.dragStarted)\n          .on('drag', this.dragging)\n          .on('end', this.dragEnded));\n\n      // draw status circle (inherits color from main node)\n      nodeEnter.append('circle')\n        .attr('r', this.setNodeRadius);\n\n      nodeEnter.append('circle')\n        .attr('r', (d) => {\n          return this.setNodeRadius(d) - 5;\n        })\n        .attr('class', 'node-hover-layer');\n\n      nodeEnter.append('svg').html((d) => {\n        const icon = this.fdcConfig.fetchNodeIcon(d);\n\n        return getChartIcon(icon);\n      })\n        .attr('x', this.nodeImagePosition)\n        .attr('y', this.nodeImagePosition)\n        .attr('height', this.nodeImageSize)\n        .attr('width', this.nodeImageSize);\n\n      this.node = nodeEnter.merge(this.node);\n\n      this.simulation.nodes(this.allNodesData);\n      this.simulation.force('link', d3.forceLink()\n        .id((d) => {\n          return d.id;\n        })\n        .distance(100)\n        .links(this.allLinks)\n      );\n    },\n    mainNodeClass(d) {\n      const lowerCaseStatus = d.data?.state ? d.data.state.toLowerCase() : 'unkown_status';\n      const defaultClassArray = ['node'];\n\n      if (STATES[lowerCaseStatus] && STATES[lowerCaseStatus].color) {\n        defaultClassArray.push(`node-${ STATES[lowerCaseStatus].color }`);\n      } else {\n        defaultClassArray.push(`node-default-fill`);\n      }\n\n      // node active (clicked)\n      if (d.data?.active) {\n        defaultClassArray.push('active');\n      }\n\n      // here we extend the node classes (different chart types)\n      const extendedClassArray = this.fdcConfig.extendNodeClass(d).concat(defaultClassArray);\n\n      return extendedClassArray.join(' ');\n    },\n    setNodeRadius(d) {\n      const { radius } = this.fdcConfig.nodeDimensions(d);\n\n      return radius;\n    },\n    nodeImageSize(d) {\n      const { size } = this.fdcConfig.nodeDimensions(d);\n\n      return size;\n    },\n    nodeImagePosition(d) {\n      const { position } = this.fdcConfig.nodeDimensions(d);\n\n      return position;\n    },\n    setDetailsInfo(data, toUpdate) {\n      // get the data to be displayed on info box, per each different chart\n      this.moreInfo = Object.assign([], this.fdcConfig.infoDetails(data));\n\n      // update to the chart is needed when active state changes\n      if (toUpdate) {\n        this.allNodesData.forEach((item, i) => {\n          if (item.data.matchingId === data.matchingId) {\n            this.allNodesData[i].data.active = true;\n          } else {\n            this.allNodesData[i].data.active = false;\n          }\n        });\n\n        this.updateChart(false, false);\n      }\n    },\n    zoomFit() {\n      const rootNode = d3.select('.root-node');\n      const paddingBuffer = 30;\n\n      const chartDimentions = rootNode.node().getBoundingClientRect();\n      const chartCoordinates = rootNode.node().getBBox();\n      const parent = rootNode.node().parentElement;\n      const fullWidth = parent.clientWidth;\n      const fullHeight = parent.clientHeight;\n      const width = chartDimentions.width;\n      const height = chartDimentions.height;\n      const midX = chartCoordinates.x + width / 2;\n      const midY = chartCoordinates.y + height / 2;\n\n      if (width === 0 || height === 0) {\n        return;\n      } // nothing to fit\n\n      const scale = 1 / Math.max(width / (fullWidth - paddingBuffer), height / (fullHeight - paddingBuffer));\n      const translate = [fullWidth / 2 - scale * midX, fullHeight / 2 - scale * midY];\n\n      const transform = d3.zoomIdentity\n        .translate(translate[0], translate[1])\n        .scale(scale);\n\n      // this update the cached zoom state!!!!! very important so that any transforms from user interaction keep this base!\n      this.svg.call(this.zoom.transform, transform);\n    },\n    ticked() {\n      this.link\n        .attr('x1', (d) => {\n          return d.source.x;\n        })\n        .attr('y1', (d) => {\n          return d.source.y;\n        })\n        .attr('x2', (d) => {\n          return d.target.x;\n        })\n        .attr('y2', (d) => {\n          return d.target.y;\n        });\n\n      this.node\n        .attr('transform', (d) => {\n          return `translate(${ d.x }, ${ d.y })`;\n        });\n    },\n    dragStarted(ev, d) {\n      if (!ev.active) {\n        this.simulation.alphaTarget(0.3).restart();\n      }\n      d.fx = d.x;\n      d.fy = d.y;\n    },\n    dragging(ev, d) {\n      d.fx = ev.x;\n      d.fy = ev.y;\n    },\n    dragEnded(ev, d) {\n      if (!ev.active) {\n        this.simulation.alphaTarget(0);\n      }\n      d.fx = undefined;\n      d.fy = undefined;\n    },\n    zoomed(ev) {\n      this.rootNode.attr('transform', ev.transform);\n    },\n    flatten(root) {\n      const nodes = [];\n      let i = 0;\n\n      function recurse(node) {\n        if (node.children) {\n          node.children.forEach(recurse);\n        }\n        if (!node.id) {\n          node.id = ++i;\n        } else {\n          ++i;\n        }\n        nodes.push(node);\n      }\n      recurse(root);\n\n      return nodes;\n    }\n  },\n  mounted() {\n    // start by appending SVG to define height of chart area\n    this.svg = d3.select('#tree').append('svg')\n      .attr('viewBox', `0 0 ${ this.fdcConfig.chartWidth } ${ this.fdcConfig.chartHeight }`)\n      .attr('preserveAspectRatio', 'none');\n\n    // set watcher for the chart data\n    this.dataWatcher = this.$watch(this.fdcConfig.watcherProp, function(newValue) {\n      this.watcherFunction(newValue);\n    });\n  },\n  unmounted() {\n    this.dataWatcher();\n  },\n};\n</script>\n\n<template>\n  <div>\n    <div class=\"chart-container\">\n      <!-- loading status container -->\n      <div\n        v-if=\"!isChartFirstRenderAnimationFinished\"\n        class=\"loading-container\"\n      >\n        <p v-show=\"!isChartFirstRendered\">\n          {{ t('fleet.fdc.loadingChart') }}\n        </p>\n        <p v-show=\"isChartFirstRendered && !isChartFirstRenderAnimationFinished\">\n          {{ t('fleet.fdc.renderingChart') }}\n        </p>\n        <i class=\"mt-10 icon-spinner icon-spin\" />\n      </div>\n      <!-- main div for svg container -->\n      <div id=\"tree\" />\n      <!-- info box -->\n      <div class=\"more-info-container\">\n        <div class=\"more-info\">\n          <table>\n            <tr\n              v-for=\"(item, i) in moreInfo\"\n              :key=\"i\"\n            >\n              <td\n                v-if=\"item.type !== 'single-error'\"\n                :class=\"{'align-middle': item.type === 'state-badge'}\"\n              >\n                <span class=\"more-info-item-label\">{{ t(item.labelKey) }}:</span>\n              </td>\n              <!-- title template -->\n              <td v-if=\"item.type === 'title-link'\">\n                <span v-if=\"item.valueObj.detailLocation\">\n                  <n-link\n                    :to=\"item.valueObj.detailLocation\"\n                  >\n                    {{ item.valueObj.id }}\n                  </n-link>\n                </span>\n                <span v-else>{{ item.valueObj.id }}</span>\n              </td>\n              <!-- state-badge template -->\n              <td\n                v-else-if=\"item.type === 'state-badge'\"\n                class=\"align-middle\"\n              >\n                <span>\n                  <BadgeState\n                    :color=\"`bg-${item.valueObj.stateColor}`\"\n                    :label=\"item.valueObj.stateLabel\"\n                    class=\"state-bagde\"\n                  />\n                </span>\n              </td>\n              <!-- single-error template -->\n              <td\n                v-if=\"item.type === 'single-error'\"\n                class=\"single-error\"\n                colspan=\"2\"\n              >\n                <p>{{ item.value }}</p>\n              </td>\n              <!-- default template -->\n              <td v-else>\n                {{ item.value }}\n              </td>\n            </tr>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.chart-container {\n  display: flex;\n  background-color: var(--body-bg);\n  position: relative;\n  border: 1px solid var(--border);\n  border-radius: var(--border-radius);\n  min-height: 100px;\n\n  .loading-container {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    border-radius: var(--border-radius);\n    background-color: var(--body-bg);\n    z-index: 2;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n\n    i {\n      font-size: 24px;\n    }\n  }\n\n  #tree {\n    width: 70%;\n    height: fit-content;\n\n    svg {\n      margin-top: 3px;\n    }\n\n    .link {\n      stroke: var(--darker);\n    }\n\n    .node {\n      cursor: pointer;\n\n      &.active {\n        .node-hover-layer {\n          display: block;\n        }\n      }\n\n      &.repo.active > circle {\n        transform: scale(1.2);\n      }\n\n      &.bundle.active > circle {\n        transform: scale(1.35);\n      }\n\n      &.bundle-deployment.active > circle {\n        transform: scale(1.6);\n      }\n\n      &.node-default-fill > circle,\n      &.repo > circle {\n        fill: var(--muted);\n      }\n      &:not(.repo).node-success > circle {\n        fill: var(--success);\n      }\n      &:not(.repo).node-info > circle {\n        fill: var(--info);\n      }\n      &:not(.repo).node-warning > circle {\n        fill: var(--warning);\n      }\n      &:not(.repo).node-error > circle {\n        fill: var(--error);\n      }\n\n      .node-hover-layer {\n        stroke: var(--body-bg);\n        stroke-width: 2;\n        display: none;\n      }\n    }\n  }\n\n  .more-info-container {\n    width: 30%;\n    position: relative;\n    border-left: 1px solid var(--border);\n    background-color: var(--body-bg);\n    border-top-right-radius: var(--border-radius);\n    border-bottom-right-radius: var(--border-radius);\n    overflow: hidden;\n\n    .more-info {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right:0;\n      bottom:0;\n      width: 100%;\n      padding: 20px;\n      border-top-right-radius: var(--border-radius);\n      border-bottom-right-radius: var(--border-radius);\n      overflow-y: auto;\n\n      table {\n        td {\n          vertical-align: top;\n          padding-bottom: 10px;\n\n          &.align-middle {\n            vertical-align: middle;\n          }\n        }\n\n        .more-info-item-label {\n          color: var(--darker);\n          margin-right: 8px;\n        }\n\n        .single-error {\n          color: var(--error);\n        }\n\n        p {\n          line-height: 1.5em;\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=fb800f4e&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=fb800f4e&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\nimport CreateEditView from '@shell/mixins/create-edit-view/impl';\nimport Loading from '@shell/components/Loading';\nimport ResourceYaml from '@shell/components/ResourceYaml';\nimport {\n  _VIEW, _EDIT, _CLONE, _IMPORT, _STAGE, _CREATE,\n  AS, _YAML, _DETAIL, _CONFIG, _GRAPH, PREVIEW, MODE,\n} from '@shell/config/query-params';\nimport { FLEET, SCHEMA } from '@shell/config/types';\nimport { createYaml } from '@shell/utils/create-yaml';\nimport Masthead from '@shell/components/ResourceDetail/Masthead';\nimport DetailTop from '@shell/components/DetailTop';\nimport { clone, diff } from '@shell/utils/object';\nimport IconMessage from '@shell/components/IconMessage';\nimport ForceDirectedTreeChart from '@shell/components/fleet/ForceDirectedTreeChart';\nimport { checkSchemasForFindAllHash } from '@shell/utils/auth';\n\nfunction modeFor(route) {\n  if ( route.query?.mode === _IMPORT ) {\n    return _IMPORT;\n  }\n\n  if ( route.params?.id ) {\n    return route.query.mode || _VIEW;\n  } else {\n    return _CREATE;\n  }\n}\n\nasync function getYaml(store, model) {\n  const inStore = store.getters['currentStore'](model.type);\n  let yaml;\n  const opt = { headers: { accept: 'application/yaml' } };\n\n  if ( model.hasLink('view') ) {\n    yaml = (await model.followLink('view', opt)).data;\n  }\n\n  const cleanedYaml = await store.dispatch(`${ inStore }/cleanForDownload`, yaml);\n\n  return cleanedYaml;\n}\n\nexport default {\n  components: {\n    Loading,\n    DetailTop,\n    ForceDirectedTreeChart,\n    ResourceYaml,\n    Masthead,\n    IconMessage,\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    storeOverride: {\n      type:    String,\n      default: null,\n    },\n\n    resourceOverride: {\n      type:    String,\n      default: null,\n    },\n\n    parentRouteOverride: {\n      type:    String,\n      default: null,\n    },\n\n    flexContent: {\n      type:    Boolean,\n      default: false,\n    },\n\n    /**\n     * Inherited global identifier prefix for tests\n     * Define a term based on the parent component to avoid conflicts on multiple components\n     */\n    componentTestid: {\n      type:    String,\n      default: 'resource-details'\n    }\n  },\n  async fetch() {\n    const store = this.$store;\n    const route = this.$route;\n    const params = route.params;\n    const inStore = this.storeOverride || store.getters['currentStore'](params.resource);\n    const realMode = this.realMode;\n\n    // eslint-disable-next-line prefer-const\n    let { namespace, id } = params;\n    let resource = this.resourceOverride || params.resource;\n\n    // There are 6 \"real\" modes that can be put into the query string\n    // These are mapped down to the 3 regular page \"mode\"s that create-edit-view components\n    // know about:  view, edit, create (stage, import and clone become \"create\")\n    const mode = ([_CLONE, _IMPORT, _STAGE].includes(realMode) ? _CREATE : realMode);\n\n    const getGraphConfig = store.getters['type-map/hasGraph'](resource);\n    const hasGraph = !!getGraphConfig;\n    const hasCustomDetail = store.getters['type-map/hasCustomDetail'](resource, id);\n    const hasCustomEdit = store.getters['type-map/hasCustomEdit'](resource, id);\n\n    const schemas = store.getters[`${ inStore }/all`](SCHEMA);\n\n    // As determines what component will be rendered\n    const requested = route.query[AS];\n    let as;\n    let notFound = false;\n\n    if ( mode === _VIEW && hasCustomDetail && (!requested || requested === _DETAIL) ) {\n      as = _DETAIL;\n    } else if ( mode === _VIEW && hasGraph && requested === _GRAPH) {\n      as = _GRAPH;\n    } else if ( hasCustomEdit && (!requested || requested === _CONFIG) ) {\n      as = _CONFIG;\n    } else {\n      as = _YAML;\n    }\n\n    this.as = as;\n\n    const options = store.getters[`type-map/optionsFor`](resource);\n\n    this.showMasthead = [_CREATE, _EDIT].includes(mode) ? options.resourceEditMasthead : true;\n    const canViewYaml = options.canYaml;\n\n    if ( options.resource ) {\n      resource = options.resource;\n    }\n\n    const schema = store.getters[`${ inStore }/schemaFor`](resource);\n    let model, initialModel, liveModel, yaml;\n\n    if ( realMode === _CREATE || realMode === _IMPORT ) {\n      if ( !namespace ) {\n        namespace = store.getters['defaultNamespace'];\n      }\n\n      const data = { type: resource };\n\n      if ( schema?.attributes?.namespaced ) {\n        data.metadata = { namespace };\n      }\n\n      liveModel = await store.dispatch(`${ inStore }/create`, data);\n      initialModel = await store.dispatch(`${ inStore }/clone`, { resource: liveModel });\n      model = await store.dispatch(`${ inStore }/clone`, { resource: liveModel });\n\n      if (model.forceYaml === true) {\n        as = _YAML;\n        this.as = as;\n      }\n\n      if ( as === _YAML ) {\n        yaml = createYaml(schemas, resource, data);\n      }\n    } else {\n      if ( as === _GRAPH ) {\n        const graphSchema = await checkSchemasForFindAllHash({\n          cluster: {\n            inStoreType: 'management',\n            type:        FLEET.CLUSTER\n          },\n          bundle: {\n            inStoreType: 'management',\n            type:        FLEET.BUNDLE\n          },\n\n          bundleDeployment: {\n            inStoreType: 'management',\n            type:        FLEET.BUNDLE_DEPLOYMENT\n          }\n\n        }, this.$store);\n\n        this.canViewChart = graphSchema.cluster && graphSchema.bundle && graphSchema.bundleDeployment;\n      }\n\n      let fqid = id;\n\n      if ( schema.attributes?.namespaced && namespace ) {\n        fqid = `${ namespace }/${ fqid }`;\n      }\n\n      try {\n        liveModel = await store.dispatch(`${ inStore }/find`, {\n          type: resource,\n          id:   fqid,\n          opt:  { watch: true }\n        });\n      } catch (e) {\n        liveModel = {};\n        notFound = fqid;\n      }\n\n      if (realMode === _VIEW) {\n        model = liveModel;\n      } else {\n        model = await store.dispatch(`${ inStore }/clone`, { resource: liveModel });\n      }\n\n      initialModel = await store.dispatch(`${ inStore }/clone`, { resource: liveModel });\n\n      if ( as === _YAML ) {\n        yaml = await getYaml(this.$store, liveModel);\n      }\n\n      if ( as === _GRAPH ) {\n        this.chartData = liveModel;\n      }\n\n      if ( [_CLONE, _IMPORT, _STAGE].includes(realMode) ) {\n        model.cleanForNew();\n        yaml = model.cleanYaml(yaml, realMode);\n      }\n    }\n\n    // Ensure common properties exists\n    model = await store.dispatch(`${ inStore }/cleanForDetail`, model);\n\n    const out = {\n      hasGraph,\n      getGraphConfig,\n      hasCustomDetail,\n      hasCustomEdit,\n      canViewYaml,\n      resource,\n      as,\n      yaml,\n      initialModel,\n      liveModel,\n      mode,\n      value: model,\n      notFound,\n    };\n\n    for ( const key in out ) {\n      this[key] = out[key];\n    }\n\n    if ( this.mode === _CREATE ) {\n      this.value.applyDefaults(this, realMode);\n    }\n  },\n  data() {\n    return {\n      chartData:       null,\n      resourceSubtype: null,\n\n      // Set by fetch\n      hasGraph:        null,\n      hasCustomDetail: null,\n      hasCustomEdit:   null,\n      resource:        null,\n      asYaml:          null,\n      yaml:            null,\n      liveModel:       null,\n      initialModel:    null,\n      mode:            null,\n      as:              null,\n      value:           null,\n      model:           null,\n      notFound:        null,\n      canViewChart:    true,\n    };\n  },\n\n  computed: {\n    realMode() {\n      // There are 5 \"real\" modes that you can start in: view, edit, create, stage, clone\n      const realMode = modeFor(this.$route);\n\n      return realMode;\n    },\n\n    isView() {\n      return this.mode === _VIEW;\n    },\n\n    isYaml() {\n      return this.as === _YAML;\n    },\n\n    isDetail() {\n      return this.as === _DETAIL;\n    },\n\n    isGraph() {\n      return this.as === _GRAPH;\n    },\n\n    offerPreview() {\n      return this.as === _YAML && [_EDIT, _CLONE, _IMPORT, _STAGE].includes(this.mode);\n    },\n\n    showComponent() {\n      switch ( this.as ) {\n      case _DETAIL: return this.detailComponent;\n      case _CONFIG: return this.editComponent;\n      }\n\n      return null;\n    },\n  },\n\n  watch: {\n    '$route.query'(inNeu, inOld) {\n      const neu = clone(inNeu);\n      const old = clone(inOld);\n\n      delete neu[PREVIEW];\n      delete old[PREVIEW];\n\n      if ( !this.isView ) {\n        delete neu[AS];\n        delete old[AS];\n      }\n\n      const queryDiff = Object.keys(diff(neu, old));\n\n      if ( queryDiff.includes(MODE) || queryDiff.includes(AS)) {\n        this.$fetch();\n      }\n    },\n\n    // Auto refresh YAML when the model changes\n    async 'value.metadata.resourceVersion'(a, b) {\n      if ( this.mode === _VIEW && this.as === _YAML && a && b && a !== b) {\n        this.yaml = await getYaml(this.$store, this.liveModel);\n      }\n    }\n  },\n\n  created() {\n    // eslint-disable-next-line prefer-const\n    const id = this.$route.params.id;\n    const resource = this.resourceOverride || this.$route.params.resource;\n    const options = this.$store.getters[`type-map/optionsFor`](resource);\n\n    const detailResource = options.resourceDetail || options.resource || resource;\n    const editResource = options.resourceEdit || options.resource || resource;\n\n    // FIXME: These aren't right... signature is (rawType, subType).. not (rawType, resourceId)\n    // Remove id? How does subtype get in (cluster/node)\n    this.detailComponent = this.$store.getters['type-map/importDetail'](detailResource, id);\n    this.editComponent = this.$store.getters['type-map/importEdit'](editResource, id);\n  },\n\n  methods: {\n    setSubtype(subtype) {\n      this.resourceSubtype = subtype;\n    },\n\n    keyAction(act) {\n      const m = this.liveModel;\n\n      if ( m?.[act] ) {\n        m[act]();\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else-if=\"notFound\">\n    <IconMessage icon=\"icon-warning\">\n      <template v-slot:message>\n        {{ t('generic.notFound') }}\n        <div>\n          <div>{{ t('generic.type') }}: {{ resource }}</div>\n          <div>{{ t('generic.id') }}: {{ notFound }}</div>\n        </div>\n      </template>\n    </IconMessage>\n  </div>\n  <div v-else>\n    <Masthead\n      v-if=\"showMasthead\"\n      :resource=\"resource\"\n      :value=\"liveModel\"\n      :mode=\"mode\"\n      :real-mode=\"realMode\"\n      :as=\"as\"\n      :has-graph=\"hasGraph\"\n      :has-detail=\"hasCustomDetail\"\n      :has-edit=\"hasCustomEdit\"\n      :can-view-yaml=\"canViewYaml\"\n      :resource-subtype=\"resourceSubtype\"\n      :parent-route-override=\"parentRouteOverride\"\n      :store-override=\"storeOverride\"\n    >\n      <DetailTop\n        v-if=\"isView && isDetail\"\n        :value=\"liveModel\"\n      />\n    </Masthead>\n\n    <ForceDirectedTreeChart\n      v-if=\"isGraph && canViewChart\"\n      :data=\"chartData\"\n      :fdc-config=\"getGraphConfig\"\n    />\n\n    <ResourceYaml\n      v-else-if=\"isYaml\"\n      ref=\"resourceyaml\"\n      v-model=\"value\"\n      :mode=\"mode\"\n      :yaml=\"yaml\"\n      :offer-preview=\"offerPreview\"\n      :done-route=\"doneRoute\"\n      :done-override=\"value.doneOverride\"\n      :class=\"{'flex-content': flexContent}\"\n    />\n\n    <component\n      :is=\"showComponent\"\n      v-else\n      ref=\"comp\"\n      v-model=\"value\"\n      v-bind=\"_data\"\n      :done-params=\"doneParams\"\n      :done-route=\"doneRoute\"\n      :mode=\"mode\"\n      :initial-value=\"initialModel\"\n      :live-value=\"liveModel\"\n      :real-mode=\"realMode\"\n      :class=\"{'flex-content': flexContent}\"\n      @set-subtype=\"setSubtype\"\n    />\n\n    <button\n      v-if=\"isView\"\n      v-shortkey.once=\"['shift','d']\"\n      :data-testid=\"componentTestid + '-detail'\"\n      class=\"hide\"\n      @shortkey=\"keyAction('goToDetail')\"\n    />\n    <button\n      v-if=\"isView\"\n      v-shortkey.once=\"['shift','c']\"\n      :data-testid=\"componentTestid + '-config'\"\n      class=\"hide\"\n      @shortkey=\"keyAction('goToViewConfig')\"\n    />\n    <button\n      v-if=\"isView\"\n      v-shortkey.once=\"['shift','y']\"\n      :data-testid=\"componentTestid + '-yaml'\"\n      class=\"hide\"\n      @shortkey=\"keyAction('goToViewYaml')\"\n    />\n    <button\n      v-if=\"isView\"\n      v-shortkey.once=\"['shift','e']\"\n      :data-testid=\"componentTestid + '-edit'\"\n      class=\"hide\"\n      @shortkey=\"keyAction('goToEdit')\"\n    />\n  </div>\n</template>\n\n<style lang='scss' scoped>\n.flex-content {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=41ba05f8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=41ba05f8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41ba05f8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}