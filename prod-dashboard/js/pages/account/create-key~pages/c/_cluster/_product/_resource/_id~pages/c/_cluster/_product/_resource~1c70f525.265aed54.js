(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/account/create-key~pages/c/_cluster/_product/_resource/_id~pages/c/_cluster/_product/_resource~1c70f525"],{"03fa":function(e,t,a){"use strict";a("4468")},"2a00":function(e,t,a){},4468:function(e,t,a){},"47ed":function(e,t,a){},"894a":function(e,t,a){"use strict";a("2a00")},c79a:function(e,t,a){"use strict";a("47ed")},c854:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$fetchState.pending?a("Loading"):e.notFound?a("div",[a("IconMessage",{attrs:{icon:"icon-warning"},scopedSlots:e._u([{key:"message",fn:function(){return[e._v(" "+e._s(e.t("generic.notFound"))+" "),a("div",[a("div",[e._v(e._s(e.t("generic.type"))+": "+e._s(e.resource))]),a("div",[e._v(e._s(e.t("generic.id"))+": "+e._s(e.notFound))])])]},proxy:!0}])})],1):a("div",[e.showMasthead?a("Masthead",{attrs:{resource:e.resource,value:e.liveModel,mode:e.mode,"real-mode":e.realMode,as:e.as,"has-graph":e.hasGraph,"has-detail":e.hasCustomDetail,"has-edit":e.hasCustomEdit,"can-view-yaml":e.canViewYaml,"resource-subtype":e.resourceSubtype,"parent-route-override":e.parentRouteOverride,"store-override":e.storeOverride}},[e.isView&&e.isDetail?a("DetailTop",{attrs:{value:e.liveModel}}):e._e()],1):e._e(),e.isGraph&&e.canViewChart?a("ForceDirectedTreeChart",{attrs:{data:e.chartData,"fdc-config":e.getGraphConfig}}):e.isYaml?a("ResourceYaml",{ref:"resourceyaml",class:{"flex-content":e.flexContent},attrs:{mode:e.mode,yaml:e.yaml,"offer-preview":e.offerPreview,"done-route":e.doneRoute,"done-override":e.value.doneOverride},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):a(e.showComponent,e._b({ref:"comp",tag:"component",class:{"flex-content":e.flexContent},attrs:{"done-params":e.doneParams,"done-route":e.doneRoute,mode:e.mode,"initial-value":e.initialModel,"live-value":e.liveModel,"real-mode":e.realMode},on:{"set-subtype":e.setSubtype},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"component",e._data,!1)),e.isView?a("button",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["shift","d"],expression:"['shift','d']",modifiers:{once:!0}}],staticClass:"hide",attrs:{"data-testid":e.componentTestid+"-detail"},on:{shortkey:function(t){return e.keyAction("goToDetail")}}}):e._e(),e.isView?a("button",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["shift","c"],expression:"['shift','c']",modifiers:{once:!0}}],staticClass:"hide",attrs:{"data-testid":e.componentTestid+"-config"},on:{shortkey:function(t){return e.keyAction("goToViewConfig")}}}):e._e(),e.isView?a("button",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["shift","y"],expression:"['shift','y']",modifiers:{once:!0}}],staticClass:"hide",attrs:{"data-testid":e.componentTestid+"-yaml"},on:{shortkey:function(t){return e.keyAction("goToViewYaml")}}}):e._e(),e.isView?a("button",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["shift","e"],expression:"['shift','e']",modifiers:{once:!0}}],staticClass:"hide",attrs:{"data-testid":e.componentTestid+"-edit"},on:{shortkey:function(t){return e.keyAction("goToEdit")}}}):e._e()],1)},i=[],n=a("1da1"),r=a("a34a"),o=a.n(r),c=(a("96cf"),a("9ce4"),a("6d55"),a("2b77"),a("1d8f"),a("2490")),l=a("c778"),d=a("63d9"),u=a("fa3b"),h=a("a788"),p=a("f29a"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"masthead"},[a("header",[a("div",{staticClass:"title"},[a("div",{staticClass:"primaryheader"},[a("h1",[e.location?a("nuxt-link",{attrs:{to:e.location}},[e._v(" "+e._s(e.parent.displayName)+": ")]):a("span",[e._v(e._s(e.parent.displayName)+":")]),e.value.detailPageHeaderActionOverride&&e.value.detailPageHeaderActionOverride(e.realMode)?a("span",[e._v(e._s(e.value.detailPageHeaderActionOverride(e.realMode)))]):a("t",{attrs:{k:"resourceDetail.header."+e.realMode,subtype:e.resourceSubtype,name:e.displayName,escapehtml:!1}}),!e.isCreate&&e.parent.showState?a("BadgeState",{staticClass:"masthead-state",attrs:{value:e.value}}):e._e()],1)]),e.isCreate?e._e():a("div",{staticClass:"subheader"},[e.isNamespace&&e.project?a("span",[e._v(e._s(e.t("resourceDetail.masthead.project"))+": "),a("nuxt-link",{attrs:{to:e.project.detailLocation}},[e._v(e._s(e.project.nameDisplay))])],1):e.isWorkspace?a("span",[e._v(e._s(e.t("resourceDetail.masthead.workspace"))+": "),a("nuxt-link",{attrs:{to:e.workspaceLocation}},[e._v(e._s(e.namespace))])],1):e.namespace&&!e.hasMultipleNamespaces?a("span",[e._v(" "+e._s(e.t("resourceDetail.masthead.namespace"))+": "),e.hideNamespaceLocation?a("span",[e._v(" "+e._s(e.namespace)+" ")]):a("nuxt-link",{attrs:{to:e.namespaceLocation}},[e._v(" "+e._s(e.namespace)+" ")])],1):e._e(),e.parent.showAge?a("span",[e._v(e._s(e.t("resourceDetail.masthead.age"))+": "),a("LiveDate",{staticClass:"live-date",attrs:{value:e.value.creationTimestamp}})],1):e._e(),e.value.showPodRestarts?a("span",[e._v(e._s(e.t("resourceDetail.masthead.restartCount"))+":"),a("span",{staticClass:"live-data"},[e._v(" "+e._s(e.value.restartCount))])]):e._e()])]),e._t("right",(function(){return[a("div",{staticClass:"actions-container align-start"},[a("div",{staticClass:"actions"},[e.detailsAction&&e.currentView===e.DETAIL_VIEW&&e.isView?a("button",{staticClass:"btn role-primary actions mr-10",attrs:{type:"button",disabled:!e.detailsAction.enabled},on:{click:e.invokeDetailsAction}},[e._v(" "+e._s(e.detailsAction.label)+" ")]):e._e(),e.showSensitiveToggle?a("ButtonGroup",{staticClass:"mr-10",attrs:{value:!!e.hideSensitiveData,"icon-size":"lg",options:e.sensitiveOptions},on:{input:e.toggleSensitiveData}}):e._e(),e.viewOptions&&e.isView?a("ButtonGroup",{staticClass:"mr-10",attrs:{options:e.viewOptions},model:{value:e.currentView,callback:function(t){e.currentView=t},expression:"currentView"}}):e._e(),e.isView?a("button",{ref:"actions",staticClass:"btn role-multi-action actions",attrs:{"aria-haspopup":"true",type:"button"},on:{click:e.showActions}},[a("i",{staticClass:"icon icon-actions"})]):e._e()],1)])]}))],2),a("ExtensionPanel",{attrs:{resource:e.value,type:e.extensionType,location:e.extensionLocation}}),e.banner&&e.isView&&!e.parent.hideBanner?a("Banner",{staticClass:"state-banner mb-10",attrs:{color:e.banner.color,label:e.banner.message}}):e._e(),e.managedWarning.show?a("Banner",{staticClass:"mb-20",attrs:{color:"warning",label:e.t("resourceDetail.masthead.managedWarning",e.managedWarning)}}):e._e(),e._t("default")],2)},f=[],m=a("ade3"),g=(a("0b7a"),a("13ec"),a("cf99"),a("8be0"),a("7e5b"),a("38aa"),a("bcff"),a("7388")),y=a("5557"),b=a("4297"),w=a("bec1"),C=a("de78"),x=a("ee21"),O=a("e528"),D=a("2004"),_=a("e9fc");function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){Object(m["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var S={name:"MastheadResourceDetail",components:{BadgeState:b["a"],Banner:w["a"],ButtonGroup:y["a"],ExtensionPanel:_["a"]},props:{value:{type:Object,default:function(){return{}}},mode:{type:String,default:"create"},realMode:{type:String,default:"create"},as:{type:String,default:u["T"]},hasGraph:{type:Boolean,default:!1},hasDetail:{type:Boolean,default:!1},hasEdit:{type:Boolean,default:!1},storeOverride:{type:String,default:null},resource:{type:String,default:null},resourceSubtype:{type:String,default:null},parentRouteOverride:{type:String,default:null}},data:function(){return{DETAIL_VIEW:u["K"],extensionType:D["c"].PANEL,extensionLocation:D["d"].DETAILS_MASTHEAD}},computed:{schema:function(){var e=this.storeOverride||this.$store.getters["currentStore"](this.resource);return this.$store.getters["".concat(e,"/schemaFor")](this.resource)},isView:function(){return this.mode===u["S"]},isEdit:function(){return this.mode===u["L"]},isCreate:function(){return this.mode===u["J"]},isNamespace:function(){var e;return(null===(e=this.schema)||void 0===e?void 0:e.id)===h["A"]},isProject:function(){var e;return(null===(e=this.schema)||void 0===e?void 0:e.id)===h["x"].PROJECT},isProjectHelmChart:function(){var e;return(null===(e=this.schema)||void 0===e?void 0:e.id)===h["q"].PROJECTHELMCHART},hasMultipleNamespaces:function(){return!!this.value.namespaces},namespace:function(){var e,t,a,s;return null!==(e=this.value)&&void 0!==e&&null!==(t=e.metadata)&&void 0!==t&&t.namespace?null===(a=this.value)||void 0===a||null===(s=a.metadata)||void 0===s?void 0:s.namespace:null},detailsAction:function(){var e;return null===(e=this.value)||void 0===e?void 0:e.detailsAction},shouldHifenize:function(){var e,t,a;return("view"===this.mode||"edit"===this.mode)&&(null===(e=this.resourceSubtype)||void 0===e?void 0:e.length)&&(null===(t=this.value)||void 0===t||null===(a=t.nameDisplay)||void 0===a?void 0:a.length)},namespaceLocation:function(){return this.isNamespace?null:this.value.namespaceLocation||{name:"c-cluster-product-resource-id",params:{cluster:this.$route.params.cluster,product:this.$store.getters["productId"],resource:h["A"],id:this.$route.params.namespace}}},isWorkspace:function(){var e,t;return this.$store.getters["productId"]===x["NAME"]&&!(null===(e=this.value)||void 0===e||null===(t=e.metadata)||void 0===t||!t.namespace)},workspaceLocation:function(){return{name:"c-cluster-product-resource-id",params:{cluster:this.$route.params.cluster,product:this.$store.getters["productId"],resource:h["n"].WORKSPACE,id:this.$route.params.namespace}}},project:function(){if(this.isNamespace){var e,t,a=((null===(e=this.value)||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.labels)||{})[g["w"]],s=this.$store.getters["currentCluster"].id;return this.$store.getters["management/byId"](h["x"].PROJECT,"".concat(s,"/").concat(a))}return null},banner:function(){var e,t,a,s,i,n;if(null!==(e=this.value)&&void 0!==e&&null!==(t=e.stateObj)&&void 0!==t&&t.error){var r=this.t("resourceDetail.masthead.defaultBannerMessage.error",void 0,!0);return{color:"error",message:this.value.stateObj.message||r}}if(null!==(a=this.value)&&void 0!==a&&null!==(s=a.spec)&&void 0!==s&&s.paused)return{color:"info",message:this.t("asyncButton.pause.description")};if(null!==(i=this.value)&&void 0!==i&&null!==(n=i.stateObj)&&void 0!==n&&n.transitioning){var o=this.t("resourceDetail.masthead.defaultBannerMessage.transitioning",void 0,!0);return{color:"info",message:this.value.stateObj.message||o}}return null},parent:function(){var e,t=this.value.parentNameOverride||this.$store.getters["type-map/labelFor"](this.schema),a=this.$store.getters["currentProduct"].name,s={name:"c-cluster-product-resource",params:{resource:this.resource,product:a}},i=(null===(e=this.value)||void 0===e?void 0:e.parentLocationOverride)||s;this.parentRouteOverride&&(i.name=this.parentRouteOverride);var n=this.$store.getters["type-map/optionsFor"](this.resource),r=N({displayName:t,location:i},n);return r},hideSensitiveData:function(){return this.$store.getters["prefs/get"](O["HIDE_SENSITIVE"])},sensitiveOptions:function(){return[{tooltipKey:"resourceDetail.masthead.sensitive.hide",icon:"icon-hide",value:!0},{tooltipKey:"resourceDetail.masthead.sensitive.show",icon:"icon-show",value:!1}]},viewOptions:function(){var e,t=[];return this.hasDetail&&t.push({labelKey:"resourceDetail.masthead.detail",value:u["K"]}),this.hasEdit&&!1!==(null===(e=this.parent)||void 0===e?void 0:e.showConfigView)&&t.push({labelKey:"resourceDetail.masthead.config",value:u["I"]}),this.hasGraph&&t.push({labelKey:"resourceDetail.masthead.graph",value:u["N"]}),this.canViewYaml&&t.push({labelKey:"resourceDetail.masthead.yaml",value:u["T"]}),t.length<2?null:t},currentView:{get:function(){return this.as},set:function(e){var t,a,s,i;switch(e){case u["K"]:this.$router.applyQuery((t={},Object(m["a"])(t,u["s"],u["R"]),Object(m["a"])(t,u["a"],u["R"]),t));break;case u["I"]:this.$router.applyQuery((a={},Object(m["a"])(a,u["s"],u["R"]),Object(m["a"])(a,u["a"],u["I"]),a));break;case u["N"]:this.$router.applyQuery((s={},Object(m["a"])(s,u["s"],u["R"]),Object(m["a"])(s,u["a"],u["N"]),s));break;case u["T"]:this.$router.applyQuery((i={},Object(m["a"])(i,u["s"],u["R"]),Object(m["a"])(i,u["a"],u["T"]),i));break}}},showSensitiveToggle:function(){return!!this.value.hasSensitiveData&&this.mode===u["S"]&&this.as!==u["T"]},managedWarning:function(){var e,t=this.value,a=(null===t||void 0===t||null===(e=t.metadata)||void 0===e?void 0:e.labels)||{},s=a[g["q"].MANAGED_BY]||"",i=a[g["q"].MANAGED_NAME]||a[g["q"].INSTANCE]||"";return{show:this.mode===u["L"]&&!!s,type:(null===t||void 0===t?void 0:t.kind)||"",hasName:i?"yes":"no",appName:i,managedBy:s}},displayName:function(){var e=this.value.nameDisplay;return this.isProjectHelmChart&&(e=this.value.projectDisplayName),this.shouldHifenize?" - ".concat(e):e},location:function(){var e=this.parent;return null===e||void 0===e?void 0:e.location},hideNamespaceLocation:function(){return this.$store.getters["currentProduct"].hideNamespaceLocation}},methods:{get:C["get"],showActions:function(){this.$store.commit("action-menu/show",{resources:this.value,elem:this.$refs.actions})},toggleSensitiveData:function(e){this.$store.dispatch("prefs/set",{key:O["HIDE_SENSITIVE"],value:!!e})},invokeDetailsAction:function(){var e=this.detailsAction;if(e){var t=this.value[e.action];t&&t.apply(this.value,[])}}}},E=S,I=(a("894a"),a("0c7c")),j=Object(I["a"])(E,v,f,!1,null,"1be61e32",null),M=j.exports,T=a("8f4f"),A=a("2678"),L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"chart-container"},[e.isChartFirstRenderAnimationFinished?e._e():a("div",{staticClass:"loading-container"},[a("p",{directives:[{name:"show",rawName:"v-show",value:!e.isChartFirstRendered,expression:"!isChartFirstRendered"}]},[e._v(" "+e._s(e.t("fleet.fdc.loadingChart"))+" ")]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.isChartFirstRendered&&!e.isChartFirstRenderAnimationFinished,expression:"isChartFirstRendered && !isChartFirstRenderAnimationFinished"}]},[e._v(" "+e._s(e.t("fleet.fdc.renderingChart"))+" ")]),a("i",{staticClass:"mt-10 icon-spinner icon-spin"})]),a("div",{attrs:{id:"tree"}}),a("div",{staticClass:"more-info-container"},[a("div",{staticClass:"more-info"},[a("table",e._l(e.moreInfo,(function(t,s){return a("tr",{key:s},["single-error"!==t.type?a("td",{class:{"align-middle":"state-badge"===t.type}},[a("span",{staticClass:"more-info-item-label"},[e._v(e._s(e.t(t.labelKey))+":")])]):e._e(),"title-link"===t.type?a("td",[t.valueObj.detailLocation?a("span",[a("n-link",{attrs:{to:t.valueObj.detailLocation}},[e._v(" "+e._s(t.valueObj.id)+" ")])],1):a("span",[e._v(e._s(t.valueObj.id))])]):"state-badge"===t.type?a("td",{staticClass:"align-middle"},[a("span",[a("BadgeState",{staticClass:"state-bagde",attrs:{color:"bg-"+t.valueObj.stateColor,label:t.valueObj.stateLabel}})],1)]):e._e(),"single-error"===t.type?a("td",{staticClass:"single-error",attrs:{colspan:"2"}},[a("p",[e._v(e._s(t.value))])]):a("td",[e._v(" "+e._s(t.value)+" ")])])})),0)])])])])},F=[],R=(a("ede4"),a("3251"),a("181c"),a("debf"),a("898b")),$=a("15cb"),P=function(e){return'<defs>\n\x3c!-- GIT REPO ICON --\x3e\n<svg id="git" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96" style="enable-background:new 0 0 96 96" xml:space="preserve"><path class="st0" d="M92.138 43.888 52.018 3.77a5.918 5.918 0 0 0-8.369 0l-8.33 8.332L45.887 22.67a7.025 7.025 0 0 1 7.23 1.684 7.031 7.031 0 0 1 1.67 7.275l10.185 10.185a7.03 7.03 0 0 1 7.275 1.67 7.04 7.04 0 0 1 0 9.958 7.042 7.042 0 0 1-11.492-7.658l-9.5-9.499v24.997a7.09 7.09 0 0 1 1.861 1.331 7.042 7.042 0 1 1-7.65-1.537V35.849a7.04 7.04 0 0 1-3.822-9.234l-10.418-10.42-27.51 27.508a5.921 5.921 0 0 0 0 8.371l40.121 40.118a5.919 5.919 0 0 0 8.37 0l39.93-39.932a5.92 5.92 0 0 0 0-8.37z"/></svg>\n\x3c!-- GENERIC BUNDLE ICON --\x3e\n<svg id="bundle" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="#FFF"><path d="M16 3.2C8.931 3.2 3.2 8.931 3.2 16S8.931 28.8 16 28.8 28.8 23.069 28.8 16 23.069 3.2 16 3.2zm0 22.4c-5.302 0-9.6-4.298-9.6-9.6s4.298-9.6 9.6-9.6 9.6 4.298 9.6 9.6a9.6 9.6 0 0 1-9.6 9.6z"/><path d="m24.086 16-6.232-1.348.917-1.424-1.424.917-1.348-6.232-1.348 6.232-1.424-.917.917 1.424L7.912 16l6.232 1.348-.917 1.424 1.424-.917 1.348 6.232 1.348-6.232 1.424.917-.917-1.424L24.086 16zM16 16.814a.814.814 0 1 1 0-1.628.814.814 0 0 1 0 1.628z"/></svg>\n\x3c!-- HELM BUNDLE ICON --\x3e\n<svg id="helm" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"><defs><style>.cls-1{fill:#fff}</style></defs><path class="cls-1" d="M136.53 121.135c-.573-.543-1.195-1.127-1.81-1.718-12.617-12.121-22.382-26.136-28.28-42.702-1.65-4.636-2.897-9.365-2.675-14.359.02-.473.02-.949.052-1.422.445-6.446 4.759-9.703 11.058-8.176a27.325 27.325 0 0 1 5.732 2.196c6.89 3.456 12.506 8.564 17.67 14.166A112.527 112.527 0 0 1 160 102.55a8.296 8.296 0 0 0 .39.86c.07.13.222.213.559.52a176.357 176.357 0 0 1 81.02-24.861c-.177-.876-.282-1.546-.448-2.2a112.494 112.494 0 0 1-2.653-36.957 84.075 84.075 0 0 1 4.445-21.764 31.326 31.326 0 0 1 5.476-10.17 15.687 15.687 0 0 1 3.164-2.822 7.026 7.026 0 0 1 8.032-.056 17.279 17.279 0 0 1 5.84 6.731 53.054 53.054 0 0 1 5.263 14.677 112.505 112.505 0 0 1 2.122 33.004 95.598 95.598 0 0 1-3.49 19.91c7.121 1.312 14.21 2.33 21.147 3.978a186.38 186.38 0 0 1 20.44 6.003 188.317 188.317 0 0 1 19.77 8.57c6.346 3.163 12.386 6.94 18.718 10.537.206-.433.505-.95.706-1.502a108.66 108.66 0 0 1 32.901-46.762 37.758 37.758 0 0 1 11.822-6.883 17.246 17.246 0 0 1 3.679-.845c6.264-.717 8.893 3.224 9.356 7.932a29.944 29.944 0 0 1-.774 10.354 87.906 87.906 0 0 1-10.73 24.688c-6.79 10.972-14.85 20.855-25.093 28.83-.302.236-.568.519-1.08.99a177.78 177.78 0 0 1 26.593 30.883 10.962 10.962 0 0 1-1.689.298c-10.595.015-21.19-.019-31.786.046a4.004 4.004 0 0 1-3.172-1.69 147.875 147.875 0 0 0-88.178-46.549 143.359 143.359 0 0 0-30.28-1.169 146.407 146.407 0 0 0-82.537 31.81 140.067 140.067 0 0 0-16.976 15.843 4.728 4.728 0 0 1-3.863 1.757c-10.121-.07-20.242-.035-30.363-.035h-2.152c.618-2.408 6.84-10.938 13.883-18.553 5.252-5.679 10.817-11.07 16.468-16.818ZM394.53 347.912a176.639 176.639 0 0 1-23.974 27.164l1.862 1.55a108.315 108.315 0 0 1 33.683 48.146 34.618 34.618 0 0 1 2.202 14.42 14.885 14.885 0 0 1-.748 3.692 7.208 7.208 0 0 1-8.157 5.023 22.233 22.233 0 0 1-6.763-2.006 51.232 51.232 0 0 1-9.182-5.815 107.592 107.592 0 0 1-32.936-46.707c-.187-.514-.392-1.02-.722-1.877a194.65 194.65 0 0 1-25.012 14.008 181.67 181.67 0 0 1-26.687 9.724 187.556 187.556 0 0 1-28.305 5.388c.168.84.265 1.51.438 2.16a109.172 109.172 0 0 1 2.97 36.442 80.804 80.804 0 0 1-4.422 22.478 78.25 78.25 0 0 1-4.165 8.744 13.39 13.39 0 0 1-2.339 2.971c-3.98 4.11-8.732 4.144-12.611-.074a27.28 27.28 0 0 1-3.907-5.617c-3.077-5.776-4.66-12.056-5.791-18.46a116.863 116.863 0 0 1-1.36-26.465 94.48 94.48 0 0 1 2.885-19.186c.14-.532.268-1.07.372-1.61.026-.137-.064-.297-.171-.738a176.121 176.121 0 0 1-80.969-24.994c-.41.91-.762 1.675-1.101 2.446a110.477 110.477 0 0 1-30.901 41.42 38.16 38.16 0 0 1-12.047 6.96 12.09 12.09 0 0 1-6.516.7 7.119 7.119 0 0 1-5.403-4.49c-1.416-3.424-1.165-6.985-.684-10.517a55.453 55.453 0 0 1 4.307-14.25 112.5 112.5 0 0 1 26.512-37.763c.459-.435.93-.857 1.38-1.3a3.76 3.76 0 0 0 .366-.655 178.905 178.905 0 0 1-28.47-31.317c.985-.08 1.644-.18 2.303-.18 10.514-.01 21.029.027 31.543-.044a4.706 4.706 0 0 1 3.703 1.626 146.946 146.946 0 0 0 39.403 28.885 139.947 139.947 0 0 0 49.704 14.774q70.68 6.87 121.6-42.854a7.646 7.646 0 0 1 5.992-2.444c9.802.121 19.605.05 29.408.05h2.534ZM350.736 197.762c2.787 0 5.47.189 8.115-.05 2.995-.271 5.139.8 7.323 2.813 12.613 11.622 25.357 23.1 38.059 34.627.638.58 1.29 1.144 2.11 1.87.764-.657 1.481-1.243 2.165-1.865q19.638-17.878 39.248-35.787a5.448 5.448 0 0 1 4.204-1.646c3.218.13 6.446.038 9.84.038V303.13c-1.722.504-24.875.604-27.638.061V249.83l-.537-.254-27.238 24.841-27.458-24.736-.524.192c-.023 4.454-.008 8.908-.01 13.362q-.005 6.64-.001 13.28v26.871h-27.428c-.514-1.773-.753-99.662-.23-105.623ZM97.634 197.882h27.264c.55 1.753.658 102.972.094 105.525H97.705c-.15-6.703-.048-13.384-.067-20.061-.018-6.623-.004-13.245-.004-20.04H63.847v39.741c-2.06.615-25.334.674-27.648.123V197.894h27.538v37.19c1.968.568 30.924.673 33.872.129.009-2.978.02-6.027.024-9.076q.007-4.744.001-9.487v-18.768ZM157.576 303.368V198.195c1.617-.53 61.545-.736 65.462-.205v22.414c-.879.063-1.786.184-2.693.185q-16.008.02-32.017.009h-2.968v17.433h33.347v23.192h-33.049c-.553 1.985-.705 15.817-.256 19.646.845.057 1.75.17 2.655.17q16.01.019 32.018.009h2.97v22.32ZM254.283 303.409c-.5-2.823-.4-103.602.097-105.518h27.162v77.765c1.172.06 2.092.149 3.011.15q16.128.014 32.256.006h2.908v27.597Z"/></svg>\n\x3c!-- RESOURCE DEPLOYMENT ICON --\x3e\n<svg id="deployment" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24.01 20.027v2h-24v-2h4v-1a2.006 2.006 0 0 1-2-2v-10a2.006 2.006 0 0 1 2-2h1.996v2H4.01v10h16v-10h-2.004v-2h2.004a2.006 2.006 0 0 1 2 2l-.01 10a1.997 1.997 0 0 1-1.99 2v1Zm-9-6.012-3-3-3 3h2v2.01h2v-2.01Zm.995-7.991a4 4 0 1 1-4-4 4.001 4.001 0 0 1 4 4Zm-4.4 2.96v-.56a.802.802 0 0 1-.8-.8v-.4L9.06 5.479a2.958 2.958 0 0 0 2.545 3.505Zm2.658-1.007a2.977 2.977 0 0 0-1.068-4.704.797.797 0 0 1-.79.75h-.8v.8a.401.401 0 0 1-.4.4h-.8v.8h2.4a.401.401 0 0 1 .4.4v1.2h.4a.787.787 0 0 1 .658.354Z" fill="#fff"/></svg>\n\x3c!-- NODE ICON --\x3e\n<svg id="node" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="#fff"><circle cx="12" cy="3" r="1"/><circle cx="20" cy="8" r="1"/><circle cx="20" cy="16" r="1"/><circle cx="4" cy="8" r="1"/><circle cx="4" cy="16" r="1"/><path d="M20 14v-4a1.992 1.992 0 0 1-1.481-3.333l-4.783-2.69a1.983 1.983 0 0 1-3.472 0l-4.783 2.69A1.992 1.992 0 0 1 4 10v4a1.992 1.992 0 0 1 1.481 3.333l4.783 2.69a1.991 1.991 0 0 1 1.236-.952v-5.142a2 2 0 1 1 1 0v5.142a1.991 1.991 0 0 1 1.236.953l4.783-2.69A1.992 1.992 0 0 1 20 14Z"/><circle cx="12" cy="21" r="1"/><circle cx="12" cy="12" r="1"/></g></svg>\n\x3c!-- RESOURCE OTHER ICON --\x3e\n<svg id="other" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#FFF"><path d="M27.476 10.22H14.83l-1.558-3.115a1.327 1.327 0 0 0-1.184-.732H4.522c-.731 0-1.324.593-1.324 1.324v16.606c0 .731.593 1.324 1.324 1.324h22.953c.731 0 1.324-.593 1.324-1.324v-12.76c0-.731-.593-1.324-1.324-1.324z"/></svg>\n</defs>\n<use id="customIcon" href="#'.concat(e,'" fill="#fff" />')},V={name:"ForceDirectedTreeChart",components:{BadgeState:b["a"]},props:{data:{type:[Array,Object],required:!0},fdcConfig:{type:Object,required:!0}},data:function(){return{dataWatcher:void 0,parsedInfo:void 0,root:void 0,allNodesData:void 0,allLinks:void 0,rootNode:void 0,node:void 0,link:void 0,svg:void 0,zoom:void 0,simulation:void 0,isChartFirstRendered:!1,isChartFirstRenderAnimationFinished:!1,moreInfo:{}}},methods:{watcherFunction:function(e){var t=this;if(e.length)if(this.isChartFirstRendered){var a=this.fdcConfig.parseData(this.data),s=this.flatten(a),i=!1;s.forEach((function(e){var a=t.allNodesData.findIndex((function(t){return e.matchingId===t.data.matchingId}));a>-1&&t.allNodesData[a].data.state!==e.state&&(t.allNodesData[a].data.state=e.state,t.allNodesData[a].data.stateLabel=e.stateLabel,t.allNodesData[a].data.stateColor=e.stateColor,i=!0,t.allNodesData[a].data.active&&t.setDetailsInfo(t.allNodesData[a].data,!1))})),i&&this.updateChart(!1,!1)}else this.parsedInfo=this.fdcConfig.parseData(this.data),this.setDetailsInfo(this.parsedInfo,!1),this.parsedInfo.active=!0,this.renderChart(),this.updateChart(!0,!0),this.isChartFirstRendered=!0},renderChart:function(){var e=this;this.zoom=R["zoom"]().scaleExtent([1/8,16]).on("zoom",this.zoomed);var t=R["zoomIdentity"].scale(1).translate(0,0);this.rootNode=this.svg.append("g").attr("class","root-node"),this.svg.call(this.zoom),this.svg.call(this.zoom.transform,t),this.simulation=R["forceSimulation"]().force("charge",R["forceManyBody"]().strength(this.fdcConfig.simulationParams.fdcStrength).distanceMax(this.fdcConfig.simulationParams.fdcDistanceMax)).force("collision",R["forceCollide"](this.fdcConfig.simulationParams.fdcForceCollide)).force("center",R["forceCenter"](this.fdcConfig.chartWidth/2,this.fdcConfig.chartHeight/2)).alphaDecay(this.fdcConfig.simulationParams.fdcAlphaDecay).on("tick",this.ticked).on("end",(function(){e.isChartFirstRenderAnimationFinished||(e.zoomFit(),e.isChartFirstRenderAnimationFinished=!0)}))},updateChart:function(e,t){var a=this;e&&(this.root=R["hierarchy"](this.parsedInfo)),t&&(this.allNodesData=this.flatten(this.root),this.allLinks=this.root.links()),this.link=this.rootNode.selectAll(".link").data(this.allLinks,(function(e){return e.target.id})),this.link.exit().remove();var s=this.link.enter().append("line").attr("class","link").style("opacity","0.2").style("stroke-width",4);this.link=s.merge(this.link),this.node=this.rootNode.selectAll(".node").data(this.allNodesData,(function(e){return e.id})).attr("class",this.mainNodeClass),this.node.exit().remove();var i=this.node.enter().append("g").attr("class",this.mainNodeClass).style("opacity",1).on("click",(function(e,t){a.setDetailsInfo(t.data,!0)})).call(R["drag"]().on("start",this.dragStarted).on("drag",this.dragging).on("end",this.dragEnded));i.append("circle").attr("r",this.setNodeRadius),i.append("circle").attr("r",(function(e){return a.setNodeRadius(e)-5})).attr("class","node-hover-layer"),i.append("svg").html((function(e){var t=a.fdcConfig.fetchNodeIcon(e);return P(t)})).attr("x",this.nodeImagePosition).attr("y",this.nodeImagePosition).attr("height",this.nodeImageSize).attr("width",this.nodeImageSize),this.node=i.merge(this.node),this.simulation.nodes(this.allNodesData),this.simulation.force("link",R["forceLink"]().id((function(e){return e.id})).distance(100).links(this.allLinks))},mainNodeClass:function(e){var t,a,s=null!==(t=e.data)&&void 0!==t&&t.state?e.data.state.toLowerCase():"unkown_status",i=["node"];$["a"][s]&&$["a"][s].color?i.push("node-".concat($["a"][s].color)):i.push("node-default-fill"),null!==(a=e.data)&&void 0!==a&&a.active&&i.push("active");var n=this.fdcConfig.extendNodeClass(e).concat(i);return n.join(" ")},setNodeRadius:function(e){var t=this.fdcConfig.nodeDimensions(e),a=t.radius;return a},nodeImageSize:function(e){var t=this.fdcConfig.nodeDimensions(e),a=t.size;return a},nodeImagePosition:function(e){var t=this.fdcConfig.nodeDimensions(e),a=t.position;return a},setDetailsInfo:function(e,t){var a=this;this.moreInfo=Object.assign([],this.fdcConfig.infoDetails(e)),t&&(this.allNodesData.forEach((function(t,s){t.data.matchingId===e.matchingId?a.allNodesData[s].data.active=!0:a.allNodesData[s].data.active=!1})),this.updateChart(!1,!1))},zoomFit:function(){var e=R["select"](".root-node"),t=30,a=e.node().getBoundingClientRect(),s=e.node().getBBox(),i=e.node().parentElement,n=i.clientWidth,r=i.clientHeight,o=a.width,c=a.height,l=s.x+o/2,d=s.y+c/2;if(0!==o&&0!==c){var u=1/Math.max(o/(n-t),c/(r-t)),h=[n/2-u*l,r/2-u*d],p=R["zoomIdentity"].translate(h[0],h[1]).scale(u);this.svg.call(this.zoom.transform,p)}},ticked:function(){this.link.attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),this.node.attr("transform",(function(e){return"translate(".concat(e.x,", ").concat(e.y,")")}))},dragStarted:function(e,t){e.active||this.simulation.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y},dragging:function(e,t){t.fx=e.x,t.fy=e.y},dragEnded:function(e,t){e.active||this.simulation.alphaTarget(0),t.fx=void 0,t.fy=void 0},zoomed:function(e){this.rootNode.attr("transform",e.transform)},flatten:function(e){var t=[],a=0;function s(e){e.children&&e.children.forEach(s),e.id?++a:e.id=++a,t.push(e)}return s(e),t}},mounted:function(){this.svg=R["select"]("#tree").append("svg").attr("viewBox","0 0 ".concat(this.fdcConfig.chartWidth," ").concat(this.fdcConfig.chartHeight)).attr("preserveAspectRatio","none"),this.dataWatcher=this.$watch(this.fdcConfig.watcherProp,(function(e){this.watcherFunction(e)}))},unmounted:function(){this.dataWatcher()}},B=V,z=(a("c79a"),Object(I["a"])(B,L,F,!1,null,null,null)),H=z.exports,q=a("c47f");function G(e){var t,a;return(null===(t=e.query)||void 0===t?void 0:t.mode)===u["O"]?u["O"]:null!==(a=e.params)&&void 0!==a&&a.id?e.query.mode||u["S"]:u["J"]}function K(e,t){return W.apply(this,arguments)}function W(){return W=Object(n["a"])(o.a.mark((function e(t,a){var s,i,n,r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=t.getters["currentStore"](a.type),n={headers:{accept:"application/yaml"}},!a.hasLink("view")){e.next=6;break}return e.next=5,a.followLink("view",n);case 5:i=e.sent.data;case 6:return e.next=8,t.dispatch("".concat(s,"/cleanForDownload"),i);case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}var Y={components:{Loading:l["a"],DetailTop:T["b"],ForceDirectedTreeChart:H,ResourceYaml:d["a"],Masthead:M,IconMessage:A["a"]},mixins:[c["a"]],props:{storeOverride:{type:String,default:null},resourceOverride:{type:String,default:null},parentRouteOverride:{type:String,default:null},flexContent:{type:Boolean,default:!1},componentTestid:{type:String,default:"resource-details"}},fetch:function(){var e=this;return Object(n["a"])(o.a.mark((function t(){var a,s,i,n,r,c,l,d,v,f,m,g,y,b,w,C,x,O,D,_,k,N,S,E,I,j,M,T,A,L,F;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.$store,s=e.$route,i=s.params,n=e.storeOverride||a.getters["currentStore"](i.resource),r=e.realMode,c=i.namespace,l=i.id,d=e.resourceOverride||i.resource,v=[u["H"],u["O"],u["Q"]].includes(r)?u["J"]:r,f=a.getters["type-map/hasGraph"](d),m=!!f,g=a.getters["type-map/hasCustomDetail"](d,l),y=a.getters["type-map/hasCustomEdit"](d,l),b=a.getters["".concat(n,"/all")](h["O"]),w=s.query[u["a"]],x=!1,C=v!==u["S"]||!g||w&&w!==u["K"]?v===u["S"]&&m&&w===u["N"]?u["N"]:!y||w&&w!==u["I"]?u["T"]:u["I"]:u["K"],e.as=C,O=a.getters["type-map/optionsFor"](d),e.showMasthead=![u["J"],u["L"]].includes(v)||O.resourceEditMasthead,D=O.canYaml,O.resource&&(d=O.resource),_=a.getters["".concat(n,"/schemaFor")](d),r!==u["J"]&&r!==u["O"]){t.next=39;break}return c||(c=a.getters["defaultNamespace"]),j={type:d},null!==_&&void 0!==_&&null!==(I=_.attributes)&&void 0!==I&&I.namespaced&&(j.metadata={namespace:c}),t.next=28,a.dispatch("".concat(n,"/create"),j);case 28:return S=t.sent,t.next=31,a.dispatch("".concat(n,"/clone"),{resource:S});case 31:return N=t.sent,t.next=34,a.dispatch("".concat(n,"/clone"),{resource:S});case 34:k=t.sent,!0===k.forceYaml&&(C=u["T"],e.as=C),C===u["T"]&&(E=Object(p["d"])(b,d,j)),t.next=72;break;case 39:if(C!==u["N"]){t.next=44;break}return t.next=42,Object(q["c"])({cluster:{inStoreType:"management",type:h["n"].CLUSTER},bundle:{inStoreType:"management",type:h["n"].BUNDLE},bundleDeployment:{inStoreType:"management",type:h["n"].BUNDLE_DEPLOYMENT}},e.$store);case 42:T=t.sent,e.canViewChart=T.cluster&&T.bundle&&T.bundleDeployment;case 44:return A=l,null!==(M=_.attributes)&&void 0!==M&&M.namespaced&&c&&(A="".concat(c,"/").concat(A)),t.prev=46,t.next=49,a.dispatch("".concat(n,"/find"),{type:d,id:A,opt:{watch:!0}});case 49:S=t.sent,t.next=56;break;case 52:t.prev=52,t.t0=t["catch"](46),S={},x=A;case 56:if(r!==u["S"]){t.next=60;break}k=S,t.next=63;break;case 60:return t.next=62,a.dispatch("".concat(n,"/clone"),{resource:S});case 62:k=t.sent;case 63:return t.next=65,a.dispatch("".concat(n,"/clone"),{resource:S});case 65:if(N=t.sent,C!==u["T"]){t.next=70;break}return t.next=69,K(e.$store,S);case 69:E=t.sent;case 70:C===u["N"]&&(e.chartData=S),[u["H"],u["O"],u["Q"]].includes(r)&&(k.cleanForNew(),E=k.cleanYaml(E,r));case 72:return t.next=74,a.dispatch("".concat(n,"/cleanForDetail"),k);case 74:for(F in k=t.sent,L={hasGraph:m,getGraphConfig:f,hasCustomDetail:g,hasCustomEdit:y,canViewYaml:D,resource:d,as:C,yaml:E,initialModel:N,liveModel:S,mode:v,value:k,notFound:x},L)e[F]=L[F];e.mode===u["J"]&&e.value.applyDefaults(e,r);case 78:case"end":return t.stop()}}),t,null,[[46,52]])})))()},data:function(){return{chartData:null,resourceSubtype:null,hasGraph:null,hasCustomDetail:null,hasCustomEdit:null,resource:null,asYaml:null,yaml:null,liveModel:null,initialModel:null,mode:null,as:null,value:null,model:null,notFound:null,canViewChart:!0}},computed:{realMode:function(){var e=G(this.$route);return e},isView:function(){return this.mode===u["S"]},isYaml:function(){return this.as===u["T"]},isDetail:function(){return this.as===u["K"]},isGraph:function(){return this.as===u["N"]},offerPreview:function(){return this.as===u["T"]&&[u["L"],u["H"],u["O"],u["Q"]].includes(this.mode)},showComponent:function(){switch(this.as){case u["K"]:return this.detailComponent;case u["I"]:return this.editComponent}return null}},watch:{"$route.query":function(e,t){var a=Object(C["clone"])(e),s=Object(C["clone"])(t);delete a[u["w"]],delete s[u["w"]],this.isView||(delete a[u["a"]],delete s[u["a"]]);var i=Object.keys(Object(C["diff"])(a,s));(i.includes(u["s"])||i.includes(u["a"]))&&this.$fetch()},"value.metadata.resourceVersion":function(e,t){var a=this;return Object(n["a"])(o.a.mark((function s(){return o.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(a.mode!==u["S"]||a.as!==u["T"]||!e||!t||e===t){s.next=4;break}return s.next=3,K(a.$store,a.liveModel);case 3:a.yaml=s.sent;case 4:case"end":return s.stop()}}),s)})))()}},created:function(){var e=this.$route.params.id,t=this.resourceOverride||this.$route.params.resource,a=this.$store.getters["type-map/optionsFor"](t),s=a.resourceDetail||a.resource||t,i=a.resourceEdit||a.resource||t;this.detailComponent=this.$store.getters["type-map/importDetail"](s,e),this.editComponent=this.$store.getters["type-map/importEdit"](i,e)},methods:{setSubtype:function(e){this.resourceSubtype=e},keyAction:function(e){var t=this.liveModel;null!==t&&void 0!==t&&t[e]&&t[e]()}}},Z=Y,J=(a("03fa"),Object(I["a"])(Z,s,i,!1,null,"41ba05f8",null));t["a"]=J.exports}}]);
//# sourceMappingURL=_resource~1c70f525.265aed54.js.map