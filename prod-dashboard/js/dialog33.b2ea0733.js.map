{"version":3,"sources":["webpack:///./shell/dialog/SaveAsRKETemplateDialog.vue?aa2d","webpack:///shell/dialog/SaveAsRKETemplateDialog.vue","webpack:///./shell/dialog/SaveAsRKETemplateDialog.vue?e951","webpack:///./shell/dialog/SaveAsRKETemplateDialog.vue","webpack:///./shell/dialog/SaveAsRKETemplateDialog.vue?4800"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","domProps","_s","t","cluster","displayName","slot","_v","ref","model","value","callback","$$v","name","expression","on","close","length","apply","_l","err","i","key","staticRenderFns","components","Card","AsyncButton","Banner","LabeledInput","props","type","default","data","errors","mounted","methods","buttonDone","url","method","clusterTemplateName","clusterTemplateRevisionName","params","page","component"],"mappings":"wIAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACE,YAAY,iBAAiBC,MAAM,CAAC,yBAAwB,IAAQ,CAACH,EAAG,KAAK,CAACE,YAAY,oBAAoBC,MAAM,CAAC,KAAO,SAASC,SAAS,CAAC,UAAYR,EAAIS,GAAGT,EAAIU,EAAE,gCAAiC,CAAEC,QAASX,EAAIW,QAAQC,cAAe,KAAQC,KAAK,UAAUT,EAAG,MAAM,CAACE,YAAY,cAAcC,MAAM,CAAC,KAAO,QAAQM,KAAK,QAAQ,CAACT,EAAG,OAAO,CAACA,EAAG,IAAI,CAACE,YAAY,eAAe,CAACN,EAAIc,GAAG,IAAId,EAAIS,GAAGT,EAAIU,EAAE,wCAAwC,OAAON,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,UAAU,YAAY,qCAAqCH,EAAG,eAAe,CAACW,IAAI,eAAeR,MAAM,CAAC,MAAQP,EAAIU,EAAE,gCAAgC,UAAW,GAAMM,MAAM,CAACC,MAAOjB,EAAQ,KAAEkB,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKD,GAAKE,WAAW,WAAW,KAAKjB,EAAG,MAAM,CAACE,YAAY,UAAUC,MAAM,CAAC,KAAO,WAAWM,KAAK,WAAW,CAACT,EAAG,SAAS,CAACE,YAAY,2BAA2BgB,GAAG,CAAC,MAAQtB,EAAIuB,QAAQ,CAACvB,EAAIc,GAAG,IAAId,EAAIS,GAAGT,EAAIU,EAAE,mBAAmB,OAAON,EAAG,cAAc,CAACG,MAAM,CAAC,KAAO,SAAS,SAAWP,EAAIoB,KAAKI,QAAU,GAAGF,GAAG,CAAC,MAAQtB,EAAIyB,SAASzB,EAAI0B,GAAI1B,EAAU,QAAE,SAAS2B,EAAIC,GAAG,OAAOxB,EAAG,SAAS,CAACyB,IAAID,EAAErB,MAAM,CAAC,MAAQ,QAAQ,MAAQoB,SAAU,MAC3tCG,EAAkB,G,uICMtB,OAEe,GACfC,YACAC,YACAC,mBACAC,cACAC,qBAEAC,OACAzB,SACA0B,YACAC,mBACA,YAIAC,KAfA,WAgBA,OAAAC,UAAApB,UAGAqB,QAnBA,WAmBA,WACA,2BACA,iCAGAC,SACAnB,MADA,WAEA,qBAGAE,MALA,SAKAkB,GAAA,mJAEA,qCACAC,4EACAC,cACAN,MACAO,2BACAC,iCAPA,OAWAJ,MACA,UAGA,mBACAvB,oCACA4B,QACArC,gBACAsC,wBAnBA,mDAuBA,8BACAN,MAxBA,8DCtC6V,I,wBCQzVO,EAAY,eACd,EACAnD,EACA+B,GACA,EACA,KACA,WACA,MAIa,aAAAoB,E,2CCnBf","file":"js/dialog33.b2ea0733.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Card',{staticClass:\"prompt-restore\",attrs:{\"show-highlight-border\":false}},[_c('h4',{staticClass:\"text-default-text\",attrs:{\"slot\":\"title\"},domProps:{\"innerHTML\":_vm._s(_vm.t('promptSaveAsRKETemplate.title', { cluster: _vm.cluster.displayName }, true))},slot:\"title\"}),_c('div',{staticClass:\"pl-10 pr-10\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('form',[_c('p',{staticClass:\"pt-10 pb-10\"},[_vm._v(\" \"+_vm._s(_vm.t('promptSaveAsRKETemplate.description'))+\" \")]),_c('Banner',{attrs:{\"color\":\"warning\",\"label-key\":\"promptSaveAsRKETemplate.warning\"}}),_c('LabeledInput',{ref:\"templateName\",attrs:{\"label\":_vm.t('promptSaveAsRKETemplate.name'),\"required\":true},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)]),_c('div',{staticClass:\"buttons\",attrs:{\"slot\":\"actions\"},slot:\"actions\"},[_c('button',{staticClass:\"btn role-secondary mr-10\",on:{\"click\":_vm.close}},[_vm._v(\" \"+_vm._s(_vm.t('generic.cancel'))+\" \")]),_c('AsyncButton',{attrs:{\"mode\":\"create\",\"disabled\":_vm.name.length <= 0},on:{\"click\":_vm.apply}}),_vm._l((_vm.errors),function(err,i){return _c('Banner',{key:i,attrs:{\"color\":\"error\",\"label\":err}})})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { Card } from '@components/Card';\nimport { Banner } from '@components/Banner';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { exceptionToErrorsArray } from '@shell/utils/error';\n\nconst DEFAULT_REVISION = 'v1';\n\nexport default {\n  components: {\n    Card,\n    AsyncButton,\n    Banner,\n    LabeledInput,\n  },\n  props: {\n    cluster: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    }\n  },\n  data() {\n    return { errors: [], name: '' };\n  },\n\n  mounted() {\n    this.$nextTick(() => {\n      this.$refs.templateName.focus();\n    });\n  },\n  methods: {\n    close() {\n      this.$emit('close');\n    },\n\n    async apply(buttonDone) {\n      try {\n        await this.$store.dispatch('rancher/request', {\n          url:    `/v3/clusters/${ escape(this.cluster.name) }?action=saveAsTemplate`,\n          method: 'post',\n          data:   {\n            clusterTemplateName:         this.name,\n            clusterTemplateRevisionName: DEFAULT_REVISION\n          },\n        });\n\n        buttonDone(true);\n        this.close();\n\n        // Take the user to the RKE Templates view\n        this.$router.replace({\n          name:   'c-cluster-manager-pages-page',\n          params: {\n            cluster: 'local',\n            page:    'rke-templates'\n          }\n        });\n      } catch (err) {\n        this.errors = exceptionToErrorsArray(err);\n        buttonDone(false);\n      }\n    }\n  }\n};\n</script>\n\n<template>\n  <Card\n    class=\"prompt-restore\"\n    :show-highlight-border=\"false\"\n  >\n    <h4\n      slot=\"title\"\n      class=\"text-default-text\"\n      v-html=\"t('promptSaveAsRKETemplate.title', { cluster: cluster.displayName }, true)\"\n    />\n\n    <div\n      slot=\"body\"\n      class=\"pl-10 pr-10\"\n    >\n      <form>\n        <p class=\"pt-10 pb-10\">\n          {{ t('promptSaveAsRKETemplate.description') }}\n        </p>\n        <Banner\n          color=\"warning\"\n          label-key=\"promptSaveAsRKETemplate.warning\"\n        />\n\n        <LabeledInput\n          ref=\"templateName\"\n          v-model=\"name\"\n          :label=\"t('promptSaveAsRKETemplate.name')\"\n          :required=\"true\"\n        />\n      </form>\n    </div>\n\n    <div\n      slot=\"actions\"\n      class=\"buttons\"\n    >\n      <button\n        class=\"btn role-secondary mr-10\"\n        @click=\"close\"\n      >\n        {{ t('generic.cancel') }}\n      </button>\n\n      <AsyncButton\n        mode=\"create\"\n        :disabled=\"name.length <= 0\"\n        @click=\"apply\"\n      />\n\n      <Banner\n        v-for=\"(err, i) in errors\"\n        :key=\"i\"\n        color=\"error\"\n        :label=\"err\"\n      />\n    </div>\n  </Card>\n</template>\n<style lang='scss' scoped>\n  .prompt-restore {\n    margin: 0;\n  }\n  .buttons {\n    display: flex;\n    justify-content: flex-end;\n    width: 100%;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveAsRKETemplateDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveAsRKETemplateDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SaveAsRKETemplateDialog.vue?vue&type=template&id=5da0d397&scoped=true&\"\nimport script from \"./SaveAsRKETemplateDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./SaveAsRKETemplateDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SaveAsRKETemplateDialog.vue?vue&type=style&index=0&id=5da0d397&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5da0d397\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveAsRKETemplateDialog.vue?vue&type=style&index=0&id=5da0d397&prod&lang=scss&scoped=true&\""],"sourceRoot":""}